function Iw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Op={exports:{}},Jl={},Up={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),jw=Symbol.for("react.portal"),Pw=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),qw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),p0=Symbol.iterator;function Ww(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var Fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ip=Object.assign,jp={};function Us(e,t,r){this.props=e,this.context=t,this.refs=jp,this.updater=r||Fp}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pp(){}Pp.prototype=Us.prototype;function Jf(e,t,r){this.props=e,this.context=t,this.refs=jp,this.updater=r||Fp}var ed=Jf.prototype=new Pp;ed.constructor=Jf;Ip(ed,Us.prototype);ed.isPureReactComponent=!0;var m0=Array.isArray,Mp=Object.prototype.hasOwnProperty,td={current:null},$p={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Mp.call(t,n)&&!$p.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Go,type:e,key:s,ref:o,props:i,_owner:td.current}}function Kw(e,t){return{$$typeof:Go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Go}function Dw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var y0=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dw(""+e.key):t.toString(36)}function Ia(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Go:case jw:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+$u(o,0):n,m0(i)?(r="",e!=null&&(r=e.replace(y0,"$&/")+"/"),Ia(i,t,r,"",function(f){return f})):i!=null&&(rd(i)&&(i=Kw(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(y0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",m0(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+$u(s,a);o+=Ia(s,t,r,l,i)}else if(l=Ww(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+$u(s,a++),o+=Ia(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function aa(e,t,r){if(e==null)return e;var n=[],i=0;return Ia(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ja={transition:null},Zw={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ja,ReactCurrentOwner:td};function Vp(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:aa,forEach:function(e,t,r){aa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return aa(e,function(){t++}),t},toArray:function(e){return aa(e,function(t){return t})||[]},only:function(e){if(!rd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Us;ke.Fragment=Pw;ke.Profiler=$w;ke.PureComponent=Jf;ke.StrictMode=Mw;ke.Suspense=Hw;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw;ke.act=Vp;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ip({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=td.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Mp.call(t,l)&&!$p.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];n.children=a}return{$$typeof:Go,type:e.type,key:i,ref:s,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:Vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zw,_context:e},e.Consumer=e};ke.createElement=zp;ke.createFactory=function(e){var t=zp.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:Lw,render:e}};ke.isValidElement=rd;ke.lazy=function(e){return{$$typeof:Gw,_payload:{_status:-1,_result:e},_init:Yw}};ke.memo=function(e,t){return{$$typeof:qw,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};ke.unstable_act=Vp;ke.useCallback=function(e,t){return $t.current.useCallback(e,t)};ke.useContext=function(e){return $t.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};ke.useEffect=function(e,t){return $t.current.useEffect(e,t)};ke.useId=function(){return $t.current.useId()};ke.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return $t.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};ke.useRef=function(e){return $t.current.useRef(e)};ke.useState=function(e){return $t.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return $t.current.useTransition()};ke.version="18.3.1";Up.exports=ke;var oe=Up.exports;const Xw=Rp(oe),Qw=Iw({__proto__:null,default:Xw},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw=oe,ex=Symbol.for("react.element"),tx=Symbol.for("react.fragment"),rx=Object.prototype.hasOwnProperty,nx=Jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ix={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)rx.call(t,n)&&!ix.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ex,type:e,key:s,ref:o,props:i,_owner:nx.current}}Jl.Fragment=tx;Jl.jsx=Lp;Jl.jsxs=Lp;Op.exports=Jl;var E=Op.exports,Hp={exports:{}},er={},qp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,re){var ie=D.length;D.push(re);e:for(;0<ie;){var W=ie-1>>>1,X=D[W];if(0<i(X,re))D[W]=re,D[ie]=X,ie=W;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var re=D[0],ie=D.pop();if(ie!==re){D[0]=ie;e:for(var W=0,X=D.length,he=X>>>1;W<he;){var T=2*(W+1)-1,ce=D[T],Ee=T+1,be=D[Ee];if(0>i(ce,ie))Ee<X&&0>i(be,ce)?(D[W]=be,D[Ee]=ie,W=Ee):(D[W]=ce,D[T]=ie,W=T);else if(Ee<X&&0>i(be,ie))D[W]=be,D[Ee]=ie,W=Ee;else break e}}return re}function i(D,re){var ie=D.sortIndex-re.sortIndex;return ie!==0?ie:D.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],f=[],y=1,p=null,m=3,v=!1,N=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var re=r(f);re!==null;){if(re.callback===null)n(f);else if(re.startTime<=D)n(f),re.sortIndex=re.expirationTime,t(l,re);else break;re=r(f)}}function j(D){if(k=!1,S(D),!N)if(r(l)!==null)N=!0,de(F);else{var re=r(f);re!==null&&me(j,re.startTime-D)}}function F(D,re){N=!1,k&&(k=!1,_(G),G=-1),v=!0;var ie=m;try{for(S(re),p=r(l);p!==null&&(!(p.expirationTime>re)||D&&!ne());){var W=p.callback;if(typeof W=="function"){p.callback=null,m=p.priorityLevel;var X=W(p.expirationTime<=re);re=e.unstable_now(),typeof X=="function"?p.callback=X:p===r(l)&&n(l),S(re)}else n(l);p=r(l)}if(p!==null)var he=!0;else{var T=r(f);T!==null&&me(j,T.startTime-re),he=!1}return he}finally{p=null,m=ie,v=!1}}var U=!1,$=null,G=-1,V=5,P=-1;function ne(){return!(e.unstable_now()-P<V)}function ee(){if($!==null){var D=e.unstable_now();P=D;var re=!0;try{re=$(!0,D)}finally{re?q():(U=!1,$=null)}}else U=!1}var q;if(typeof x=="function")q=function(){x(ee)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=ee,q=function(){se.postMessage(null)}}else q=function(){O(ee,0)};function de(D){$=D,U||(U=!0,q())}function me(D,re){G=O(function(){D(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,de(F))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var ie=m;m=re;try{return D()}finally{m=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,re){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ie=m;m=D;try{return re()}finally{m=ie}},e.unstable_scheduleCallback=function(D,re,ie){var W=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?W+ie:W):ie=W,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,D={id:y++,callback:re,priorityLevel:D,startTime:ie,expirationTime:X,sortIndex:-1},ie>W?(D.sortIndex=ie,t(f,D),r(l)===null&&D===r(f)&&(k?(_(G),G=-1):k=!0,me(j,ie-W))):(D.sortIndex=X,t(l,D),N||v||(N=!0,de(F))),D},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(D){var re=m;return function(){var ie=m;m=re;try{return D.apply(this,arguments)}finally{m=ie}}}})(Gp);qp.exports=Gp;var sx=qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=oe,Jt=sx;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,go={};function ki(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(go[e]=t,e=0;e<t.length;e++)Wp.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=Object.prototype.hasOwnProperty,ax=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},w0={};function lx(e){return Mc.call(w0,e)?!0:Mc.call(g0,e)?!1:ax.test(e)?w0[e]=!0:(g0[e]=!0,!1)}function ux(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cx(e,t,r,n){if(t===null||typeof t>"u"||ux(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function id(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nd,id);bt[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nd,id);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nd,id);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sd(e,t,r,n){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cx(t,r,i,n)&&(r=null),n||i===null?lx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hn=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),ad=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Vc=Symbol.for("react.suspense_list"),ld=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),x0=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,zu;function Zs(e){if(zu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zu=t&&t[1]||""}return`
`+zu+e}var Vu=!1;function Lu(e,t){if(!e||Vu)return"";Vu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zs(e):""}function fx(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=Lu(e.type,!1),e;case 11:return e=Lu(e.type.render,!1),e;case 1:return e=Lu(e.type,!0),e;default:return""}}function Lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Zi:return"Portal";case $c:return"Profiler";case od:return"StrictMode";case zc:return"Suspense";case Vc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dp:return(e.displayName||"Context")+".Consumer";case Kp:return(e._context.displayName||"Context")+".Provider";case ad:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ld:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}function dx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(t);case 8:return t===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hx(e){var t=Zp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ua(e){e._valueTracker||(e._valueTracker=hx(e))}function Xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hc(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function v0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qp(e,t){t=t.checked,t!=null&&sd(e,"checked",t,!1)}function qc(e,t){Qp(e,t);var r=Kn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gc(e,t.type,Kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gc(e,t,r){(t!=="number"||pl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xs=Array.isArray;function ds(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Xs(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kn(r)}}function Jp(e,t){var r=Kn(t.value),n=Kn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function E0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?em(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ca,tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},px=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(e){px.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oo[t]=oo[e]})});function rm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||oo.hasOwnProperty(e)&&oo[e]?(""+t).trim():t+"px"}function nm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mx=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(e,t){if(t){if(mx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xc=null,hs=null,ps=null;function S0(e){if(e=Do(e)){if(typeof Xc!="function")throw Error(le(280));var t=e.stateNode;t&&(t=iu(t),Xc(e.stateNode,e.type,t))}}function im(e){hs?ps?ps.push(e):ps=[e]:hs=e}function sm(){if(hs){var e=hs,t=ps;if(ps=hs=null,S0(e),t)for(e=0;e<t.length;e++)S0(t[e])}}function om(e,t){return e(t)}function am(){}var Hu=!1;function lm(e,t,r){if(Hu)return e(t,r);Hu=!0;try{return om(e,t,r)}finally{Hu=!1,(hs!==null||ps!==null)&&(am(),sm())}}function xo(e,t){var r=e.stateNode;if(r===null)return null;var n=iu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Qc=!1;if(ln)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Qc=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Qc=!1}function yx(e,t,r,n,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(y){this.onError(y)}}var ao=!1,ml=null,yl=!1,Jc=null,gx={onError:function(e){ao=!0,ml=e}};function wx(e,t,r,n,i,s,o,a,l){ao=!1,ml=null,yx.apply(gx,arguments)}function xx(e,t,r,n,i,s,o,a,l){if(wx.apply(this,arguments),ao){if(ao){var f=ml;ao=!1,ml=null}else throw Error(le(198));yl||(yl=!0,Jc=f)}}function Ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N0(e){if(Ci(e)!==e)throw Error(le(188))}function vx(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return N0(i),e;if(s===n)return N0(i),t;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function cm(e){return e=vx(e),e!==null?fm(e):null}function fm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fm(e);if(t!==null)return t;e=e.sibling}return null}var dm=Jt.unstable_scheduleCallback,T0=Jt.unstable_cancelCallback,_x=Jt.unstable_shouldYield,bx=Jt.unstable_requestPaint,et=Jt.unstable_now,Ex=Jt.unstable_getCurrentPriorityLevel,cd=Jt.unstable_ImmediatePriority,hm=Jt.unstable_UserBlockingPriority,gl=Jt.unstable_NormalPriority,Sx=Jt.unstable_LowPriority,pm=Jt.unstable_IdlePriority,eu=null,zr=null;function Nx(e){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(eu,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:Ax,Tx=Math.log,Bx=Math.LN2;function Ax(e){return e>>>=0,e===0?32:31-(Tx(e)/Bx|0)|0}var fa=64,da=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Qs(a):(s&=o,s!==0&&(n=Qs(s)))}else o=r&~i,o!==0?n=Qs(o):s!==0&&(n=Qs(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Er(t),i=1<<r,n|=e[r],t&=~i;return n}function kx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=kx(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ef(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mm(){var e=fa;return fa<<=1,!(fa&4194240)&&(fa=64),e}function qu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=r}function Rx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Er(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function fd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Er(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Pe=0;function ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gm,dd,wm,xm,vm,tf=!1,ha=[],Pn=null,Mn=null,$n=null,vo=new Map,_o=new Map,Cn=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B0(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(t.pointerId)}}function Hs(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Do(t),t!==null&&dd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ux(e,t,r,n,i){switch(t){case"focusin":return Pn=Hs(Pn,e,t,r,n,i),!0;case"dragenter":return Mn=Hs(Mn,e,t,r,n,i),!0;case"mouseover":return $n=Hs($n,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return vo.set(s,Hs(vo.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_o.set(s,Hs(_o.get(s)||null,e,t,r,n,i)),!0}return!1}function _m(e){var t=li(e.target);if(t!==null){var r=Ci(t);if(r!==null){if(t=r.tag,t===13){if(t=um(r),t!==null){e.blockedOn=t,vm(e.priority,function(){wm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zc=n,r.target.dispatchEvent(n),Zc=null}else return t=Do(r),t!==null&&dd(t),e.blockedOn=r,!1;t.shift()}return!0}function A0(e,t,r){Pa(e)&&r.delete(t)}function Fx(){tf=!1,Pn!==null&&Pa(Pn)&&(Pn=null),Mn!==null&&Pa(Mn)&&(Mn=null),$n!==null&&Pa($n)&&($n=null),vo.forEach(A0),_o.forEach(A0)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Fx)))}function bo(e){function t(i){return qs(i,e)}if(0<ha.length){qs(ha[0],e);for(var r=1;r<ha.length;r++){var n=ha[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pn!==null&&qs(Pn,e),Mn!==null&&qs(Mn,e),$n!==null&&qs($n,e),vo.forEach(t),_o.forEach(t),r=0;r<Cn.length;r++)n=Cn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cn.length&&(r=Cn[0],r.blockedOn===null);)_m(r),r.blockedOn===null&&Cn.shift()}var ms=hn.ReactCurrentBatchConfig,xl=!0;function Ix(e,t,r,n){var i=Pe,s=ms.transition;ms.transition=null;try{Pe=1,hd(e,t,r,n)}finally{Pe=i,ms.transition=s}}function jx(e,t,r,n){var i=Pe,s=ms.transition;ms.transition=null;try{Pe=4,hd(e,t,r,n)}finally{Pe=i,ms.transition=s}}function hd(e,t,r,n){if(xl){var i=rf(e,t,r,n);if(i===null)ec(e,t,n,vl,r),B0(e,n);else if(Ux(i,e,t,r,n))n.stopPropagation();else if(B0(e,n),t&4&&-1<Ox.indexOf(e)){for(;i!==null;){var s=Do(i);if(s!==null&&gm(s),s=rf(e,t,r,n),s===null&&ec(e,t,n,vl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ec(e,t,n,null,r)}}var vl=null;function rf(e,t,r,n){if(vl=null,e=ud(n),e=li(e),e!==null)if(t=Ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=um(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vl=e,null}function bm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ex()){case cd:return 1;case hm:return 4;case gl:case Sx:return 16;case pm:return 536870912;default:return 16}default:return 16}}var Un=null,pd=null,Ma=null;function Em(){if(Ma)return Ma;var e,t=pd,r=t.length,n,i="value"in Un?Un.value:Un.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Ma=i.slice(e,1<n?1-n:void 0)}function $a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pa(){return!0}function k0(){return!1}function tr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pa:k0,this.isPropagationStopped=k0,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=tr(Fs),Ko=Ye({},Fs,{view:0,detail:0}),Px=tr(Ko),Gu,Wu,Gs,tu=Ye({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(Gu=e.screenX-Gs.screenX,Wu=e.screenY-Gs.screenY):Wu=Gu=0,Gs=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),C0=tr(tu),Mx=Ye({},tu,{dataTransfer:0}),$x=tr(Mx),zx=Ye({},Ko,{relatedTarget:0}),Ku=tr(zx),Vx=Ye({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=tr(Vx),Hx=Ye({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qx=tr(Hx),Gx=Ye({},Fs,{data:0}),R0=tr(Gx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dx[e])?!!t[e]:!1}function yd(){return Yx}var Zx=Ye({},Ko,{key:function(e){if(e.key){var t=Wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(e){return e.type==="keypress"?$a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xx=tr(Zx),Qx=Ye({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=tr(Qx),Jx=Ye({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),e2=tr(Jx),t2=Ye({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=tr(t2),n2=Ye({},tu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i2=tr(n2),s2=[9,13,27,32],gd=ln&&"CompositionEvent"in window,lo=null;ln&&"documentMode"in document&&(lo=document.documentMode);var o2=ln&&"TextEvent"in window&&!lo,Sm=ln&&(!gd||lo&&8<lo&&11>=lo),U0=" ",F0=!1;function Nm(e,t){switch(e){case"keyup":return s2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function a2(e,t){switch(e){case"compositionend":return Tm(t);case"keypress":return t.which!==32?null:(F0=!0,U0);case"textInput":return e=t.data,e===U0&&F0?null:e;default:return null}}function l2(e,t){if(Qi)return e==="compositionend"||!gd&&Nm(e,t)?(e=Em(),Ma=pd=Un=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sm&&t.locale!=="ko"?null:t.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u2[e.type]:t==="textarea"}function Bm(e,t,r,n){im(n),t=_l(t,"onChange"),0<t.length&&(r=new md("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uo=null,Eo=null;function c2(e){Mm(e,0)}function ru(e){var t=ts(e);if(Xp(t))return e}function f2(e,t){if(e==="change")return t}var Am=!1;if(ln){var Du;if(ln){var Yu="oninput"in document;if(!Yu){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Yu=typeof j0.oninput=="function"}Du=Yu}else Du=!1;Am=Du&&(!document.documentMode||9<document.documentMode)}function P0(){uo&&(uo.detachEvent("onpropertychange",km),Eo=uo=null)}function km(e){if(e.propertyName==="value"&&ru(Eo)){var t=[];Bm(t,Eo,e,ud(e)),lm(c2,t)}}function d2(e,t,r){e==="focusin"?(P0(),uo=t,Eo=r,uo.attachEvent("onpropertychange",km)):e==="focusout"&&P0()}function h2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(Eo)}function p2(e,t){if(e==="click")return ru(t)}function m2(e,t){if(e==="input"||e==="change")return ru(t)}function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tr=typeof Object.is=="function"?Object.is:y2;function So(e,t){if(Tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Mc.call(t,i)||!Tr(e[i],t[i]))return!1}return!0}function M0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $0(e,t){var r=M0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=M0(r)}}function Cm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rm(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pl(e.document)}return t}function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g2(e){var t=Rm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cm(r.ownerDocument.documentElement,r)){if(n!==null&&wd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=$0(r,s);var o=$0(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w2=ln&&"documentMode"in document&&11>=document.documentMode,Ji=null,nf=null,co=null,sf=!1;function z0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sf||Ji==null||Ji!==pl(n)||(n=Ji,"selectionStart"in n&&wd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),co&&So(co,n)||(co=n,n=_l(nf,"onSelect"),0<n.length&&(t=new md("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ji)))}function ma(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var es={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionend:ma("Transition","TransitionEnd")},Zu={},Om={};ln&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function nu(e){if(Zu[e])return Zu[e];if(!es[e])return e;var t=es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Om)return Zu[e]=t[r];return e}var Um=nu("animationend"),Fm=nu("animationiteration"),Im=nu("animationstart"),jm=nu("transitionend"),Pm=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Pm.set(e,t),ki(t,[e])}for(var Xu=0;Xu<V0.length;Xu++){var Qu=V0[Xu],x2=Qu.toLowerCase(),v2=Qu[0].toUpperCase()+Qu.slice(1);Yn(x2,"on"+v2)}Yn(Um,"onAnimationEnd");Yn(Fm,"onAnimationIteration");Yn(Im,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(jm,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function L0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xx(n,t,void 0,e),e.currentTarget=null}function Mm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,f),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,f),s=l}}}if(yl)throw e=Jc,yl=!1,Jc=null,e}function He(e,t){var r=t[cf];r===void 0&&(r=t[cf]=new Set);var n=e+"__bubble";r.has(n)||($m(t,e,2,!1),r.add(n))}function Ju(e,t,r){var n=0;t&&(n|=4),$m(r,e,n,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[ya]){e[ya]=!0,Wp.forEach(function(r){r!=="selectionchange"&&(_2.has(r)||Ju(r,!1,e),Ju(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,Ju("selectionchange",!1,t))}}function $m(e,t,r,n){switch(bm(t)){case 1:var i=Ix;break;case 4:i=jx;break;default:i=hd}r=i.bind(null,t,r,e),i=void 0,!Qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ec(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}lm(function(){var f=s,y=ud(r),p=[];e:{var m=Pm.get(e);if(m!==void 0){var v=md,N=e;switch(e){case"keypress":if($a(r)===0)break e;case"keydown":case"keyup":v=Xx;break;case"focusin":N="focus",v=Ku;break;case"focusout":N="blur",v=Ku;break;case"beforeblur":case"afterblur":v=Ku;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=$x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=e2;break;case Um:case Fm:case Im:v=Lx;break;case jm:v=r2;break;case"scroll":v=Px;break;case"wheel":v=i2;break;case"copy":case"cut":case"paste":v=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=O0}var k=(t&4)!==0,O=!k&&e==="scroll",_=k?m!==null?m+"Capture":null:m;k=[];for(var x=f,S;x!==null;){S=x;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,_!==null&&(j=xo(x,_),j!=null&&k.push(To(x,j,S)))),O)break;x=x.return}0<k.length&&(m=new v(m,N,null,r,y),p.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==Zc&&(N=r.relatedTarget||r.fromElement)&&(li(N)||N[un]))break e;if((v||m)&&(m=y.window===y?y:(m=y.ownerDocument)?m.defaultView||m.parentWindow:window,v?(N=r.relatedTarget||r.toElement,v=f,N=N?li(N):null,N!==null&&(O=Ci(N),N!==O||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=f),v!==N)){if(k=C0,j="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(k=O0,j="onPointerLeave",_="onPointerEnter",x="pointer"),O=v==null?m:ts(v),S=N==null?m:ts(N),m=new k(j,x+"leave",v,r,y),m.target=O,m.relatedTarget=S,j=null,li(y)===f&&(k=new k(_,x+"enter",N,r,y),k.target=S,k.relatedTarget=O,j=k),O=j,v&&N)t:{for(k=v,_=N,x=0,S=k;S;S=Fi(S))x++;for(S=0,j=_;j;j=Fi(j))S++;for(;0<x-S;)k=Fi(k),x--;for(;0<S-x;)_=Fi(_),S--;for(;x--;){if(k===_||_!==null&&k===_.alternate)break t;k=Fi(k),_=Fi(_)}k=null}else k=null;v!==null&&H0(p,m,v,k,!1),N!==null&&O!==null&&H0(p,O,N,k,!0)}}e:{if(m=f?ts(f):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var F=f2;else if(I0(m))if(Am)F=m2;else{F=h2;var U=d2}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=p2);if(F&&(F=F(e,f))){Bm(p,F,r,y);break e}U&&U(e,m,f),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Gc(m,"number",m.value)}switch(U=f?ts(f):window,e){case"focusin":(I0(U)||U.contentEditable==="true")&&(Ji=U,nf=f,co=null);break;case"focusout":co=nf=Ji=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,z0(p,r,y);break;case"selectionchange":if(w2)break;case"keydown":case"keyup":z0(p,r,y)}var $;if(gd)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Qi?Nm(e,r)&&(G="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(G="onCompositionStart");G&&(Sm&&r.locale!=="ko"&&(Qi||G!=="onCompositionStart"?G==="onCompositionEnd"&&Qi&&($=Em()):(Un=y,pd="value"in Un?Un.value:Un.textContent,Qi=!0)),U=_l(f,G),0<U.length&&(G=new R0(G,e,null,r,y),p.push({event:G,listeners:U}),$?G.data=$:($=Tm(r),$!==null&&(G.data=$)))),($=o2?a2(e,r):l2(e,r))&&(f=_l(f,"onBeforeInput"),0<f.length&&(y=new R0("onBeforeInput","beforeinput",null,r,y),p.push({event:y,listeners:f}),y.data=$))}Mm(p,t)})}function To(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _l(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xo(e,r),s!=null&&n.unshift(To(e,s,i)),s=xo(e,t),s!=null&&n.push(To(e,s,i))),e=e.return}return n}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function H0(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,f=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&f!==null&&(a=f,i?(l=xo(r,s),l!=null&&o.unshift(To(r,l,a))):i||(l=xo(r,s),l!=null&&o.push(To(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var b2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function q0(e){return(typeof e=="string"?e:""+e).replace(b2,`
`).replace(E2,"")}function ga(e,t,r){if(t=q0(t),q0(e)!==t&&r)throw Error(le(425))}function bl(){}var of=null,af=null;function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(T2)}:uf;function T2(e){setTimeout(function(){throw e})}function tc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),bo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bo(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Is,Bo="__reactProps$"+Is,un="__reactContainer$"+Is,cf="__reactEvents$"+Is,B2="__reactListeners$"+Is,A2="__reactHandles$"+Is;function li(e){var t=e[Pr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[un]||r[Pr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=W0(e);e!==null;){if(r=e[Pr])return r;e=W0(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[Pr]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function iu(e){return e[Bo]||null}var ff=[],rs=-1;function Zn(e){return{current:e}}function qe(e){0>rs||(e.current=ff[rs],ff[rs]=null,rs--)}function Le(e,t){rs++,ff[rs]=e.current,e.current=t}var Dn={},Rt=Zn(Dn),Wt=Zn(!1),wi=Dn;function bs(e,t){var r=e.type.contextTypes;if(!r)return Dn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(e){return e=e.childContextTypes,e!=null}function El(){qe(Wt),qe(Rt)}function K0(e,t,r){if(Rt.current!==Dn)throw Error(le(168));Le(Rt,t),Le(Wt,r)}function zm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(le(108,dx(e)||"Unknown",i));return Ye({},r,n)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,wi=Rt.current,Le(Rt,e),Le(Wt,Wt.current),!0}function D0(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=zm(e,t,wi),n.__reactInternalMemoizedMergedChildContext=e,qe(Wt),qe(Rt),Le(Rt,e)):qe(Wt),Le(Wt,r)}var Zr=null,su=!1,rc=!1;function Vm(e){Zr===null?Zr=[e]:Zr.push(e)}function k2(e){su=!0,Vm(e)}function Xn(){if(!rc&&Zr!==null){rc=!0;var e=0,t=Pe;try{var r=Zr;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zr=null,su=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(e+1)),dm(cd,Xn),i}finally{Pe=t,rc=!1}}return null}var ns=[],is=0,Nl=null,Tl=0,ir=[],sr=0,xi=null,Qr=1,Jr="";function ei(e,t){ns[is++]=Tl,ns[is++]=Nl,Nl=e,Tl=t}function Lm(e,t,r){ir[sr++]=Qr,ir[sr++]=Jr,ir[sr++]=xi,xi=e;var n=Qr;e=Jr;var i=32-Er(n)-1;n&=~(1<<i),r+=1;var s=32-Er(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qr=1<<32-Er(t)+i|r<<i|n,Jr=s+e}else Qr=1<<s|r<<i|n,Jr=e}function xd(e){e.return!==null&&(ei(e,1),Lm(e,1,0))}function vd(e){for(;e===Nl;)Nl=ns[--is],ns[is]=null,Tl=ns[--is],ns[is]=null;for(;e===xi;)xi=ir[--sr],ir[sr]=null,Jr=ir[--sr],ir[sr]=null,Qr=ir[--sr],ir[sr]=null}var Qt=null,Xt=null,We=!1,_r=null;function Hm(e,t){var r=ar(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:Qr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ar(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Xt=null,!0):!1;default:return!1}}function df(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hf(e){if(We){var t=Xt;if(t){var r=t;if(!Y0(e,t)){if(df(e))throw Error(le(418));t=zn(r.nextSibling);var n=Qt;t&&Y0(e,t)?Hm(n,r):(e.flags=e.flags&-4097|2,We=!1,Qt=e)}}else{if(df(e))throw Error(le(418));e.flags=e.flags&-4097|2,We=!1,Qt=e}}}function Z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function wa(e){if(e!==Qt)return!1;if(!We)return Z0(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lf(e.type,e.memoizedProps)),t&&(t=Xt)){if(df(e))throw qm(),Error(le(418));for(;t;)Hm(e,t),t=zn(t.nextSibling)}if(Z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Qt?zn(e.stateNode.nextSibling):null;return!0}function qm(){for(var e=Xt;e;)e=zn(e.nextSibling)}function Es(){Xt=Qt=null,We=!1}function _d(e){_r===null?_r=[e]:_r.push(e)}var C2=hn.ReactCurrentBatchConfig;function Ws(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X0(e){var t=e._init;return t(e._payload)}function Gm(e){function t(_,x){if(e){var S=_.deletions;S===null?(_.deletions=[x],_.flags|=16):S.push(x)}}function r(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function n(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=qn(_,x),_.index=0,_.sibling=null,_}function s(_,x,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<x?(_.flags|=2,x):S):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,x,S,j){return x===null||x.tag!==6?(x=uc(S,_.mode,j),x.return=_,x):(x=i(x,S),x.return=_,x)}function l(_,x,S,j){var F=S.type;return F===Xi?y(_,x,S.props.children,j,S.key):x!==null&&(x.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Sn&&X0(F)===x.type)?(j=i(x,S.props),j.ref=Ws(_,x,S),j.return=_,j):(j=Wa(S.type,S.key,S.props,null,_.mode,j),j.ref=Ws(_,x,S),j.return=_,j)}function f(_,x,S,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=cc(S,_.mode,j),x.return=_,x):(x=i(x,S.children||[]),x.return=_,x)}function y(_,x,S,j,F){return x===null||x.tag!==7?(x=mi(S,_.mode,j,F),x.return=_,x):(x=i(x,S),x.return=_,x)}function p(_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uc(""+x,_.mode,S),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case la:return S=Wa(x.type,x.key,x.props,null,_.mode,S),S.ref=Ws(_,null,x),S.return=_,S;case Zi:return x=cc(x,_.mode,S),x.return=_,x;case Sn:var j=x._init;return p(_,j(x._payload),S)}if(Xs(x)||Vs(x))return x=mi(x,_.mode,S,null),x.return=_,x;xa(_,x)}return null}function m(_,x,S,j){var F=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:a(_,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case la:return S.key===F?l(_,x,S,j):null;case Zi:return S.key===F?f(_,x,S,j):null;case Sn:return F=S._init,m(_,x,F(S._payload),j)}if(Xs(S)||Vs(S))return F!==null?null:y(_,x,S,j,null);xa(_,S)}return null}function v(_,x,S,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(S)||null,a(x,_,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case la:return _=_.get(j.key===null?S:j.key)||null,l(x,_,j,F);case Zi:return _=_.get(j.key===null?S:j.key)||null,f(x,_,j,F);case Sn:var U=j._init;return v(_,x,S,U(j._payload),F)}if(Xs(j)||Vs(j))return _=_.get(S)||null,y(x,_,j,F,null);xa(x,j)}return null}function N(_,x,S,j){for(var F=null,U=null,$=x,G=x=0,V=null;$!==null&&G<S.length;G++){$.index>G?(V=$,$=null):V=$.sibling;var P=m(_,$,S[G],j);if(P===null){$===null&&($=V);break}e&&$&&P.alternate===null&&t(_,$),x=s(P,x,G),U===null?F=P:U.sibling=P,U=P,$=V}if(G===S.length)return r(_,$),We&&ei(_,G),F;if($===null){for(;G<S.length;G++)$=p(_,S[G],j),$!==null&&(x=s($,x,G),U===null?F=$:U.sibling=$,U=$);return We&&ei(_,G),F}for($=n(_,$);G<S.length;G++)V=v($,_,G,S[G],j),V!==null&&(e&&V.alternate!==null&&$.delete(V.key===null?G:V.key),x=s(V,x,G),U===null?F=V:U.sibling=V,U=V);return e&&$.forEach(function(ne){return t(_,ne)}),We&&ei(_,G),F}function k(_,x,S,j){var F=Vs(S);if(typeof F!="function")throw Error(le(150));if(S=F.call(S),S==null)throw Error(le(151));for(var U=F=null,$=x,G=x=0,V=null,P=S.next();$!==null&&!P.done;G++,P=S.next()){$.index>G?(V=$,$=null):V=$.sibling;var ne=m(_,$,P.value,j);if(ne===null){$===null&&($=V);break}e&&$&&ne.alternate===null&&t(_,$),x=s(ne,x,G),U===null?F=ne:U.sibling=ne,U=ne,$=V}if(P.done)return r(_,$),We&&ei(_,G),F;if($===null){for(;!P.done;G++,P=S.next())P=p(_,P.value,j),P!==null&&(x=s(P,x,G),U===null?F=P:U.sibling=P,U=P);return We&&ei(_,G),F}for($=n(_,$);!P.done;G++,P=S.next())P=v($,_,G,P.value,j),P!==null&&(e&&P.alternate!==null&&$.delete(P.key===null?G:P.key),x=s(P,x,G),U===null?F=P:U.sibling=P,U=P);return e&&$.forEach(function(ee){return t(_,ee)}),We&&ei(_,G),F}function O(_,x,S,j){if(typeof S=="object"&&S!==null&&S.type===Xi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case la:e:{for(var F=S.key,U=x;U!==null;){if(U.key===F){if(F=S.type,F===Xi){if(U.tag===7){r(_,U.sibling),x=i(U,S.props.children),x.return=_,_=x;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Sn&&X0(F)===U.type){r(_,U.sibling),x=i(U,S.props),x.ref=Ws(_,U,S),x.return=_,_=x;break e}r(_,U);break}else t(_,U);U=U.sibling}S.type===Xi?(x=mi(S.props.children,_.mode,j,S.key),x.return=_,_=x):(j=Wa(S.type,S.key,S.props,null,_.mode,j),j.ref=Ws(_,x,S),j.return=_,_=j)}return o(_);case Zi:e:{for(U=S.key;x!==null;){if(x.key===U)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(_,x.sibling),x=i(x,S.children||[]),x.return=_,_=x;break e}else{r(_,x);break}else t(_,x);x=x.sibling}x=cc(S,_.mode,j),x.return=_,_=x}return o(_);case Sn:return U=S._init,O(_,x,U(S._payload),j)}if(Xs(S))return N(_,x,S,j);if(Vs(S))return k(_,x,S,j);xa(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(_,x.sibling),x=i(x,S),x.return=_,_=x):(r(_,x),x=uc(S,_.mode,j),x.return=_,_=x),o(_)):r(_,x)}return O}var Ss=Gm(!0),Wm=Gm(!1),Bl=Zn(null),Al=null,ss=null,bd=null;function Ed(){bd=ss=Al=null}function Sd(e){var t=Bl.current;qe(Bl),e._currentValue=t}function pf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ys(e,t){Al=e,bd=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(bd!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(Al===null)throw Error(le(308));ss=e,Al.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var ui=null;function Nd(e){ui===null?ui=[e]:ui.push(e)}function Km(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Nd(t)):(r.next=i.next,i.next=r),t.interleaved=r,cn(e,n)}function cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nn=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,cn(e,r)}return i=n.interleaved,i===null?(t.next=t,Nd(n)):(t.next=i.next,i.next=t),n.interleaved=t,cn(e,r)}function za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fd(e,r)}}function Q0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kl(e,t,r,n){var i=e.updateQueue;Nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var y=e.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==o&&(a===null?y.firstBaseUpdate=f:a.next=f,y.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,y=f=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((n&m)===m){y!==null&&(y=y.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,k=a;switch(m=t,v=r,k.tag){case 1:if(N=k.payload,typeof N=="function"){p=N.call(v,p,m);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=k.payload,m=typeof N=="function"?N.call(v,p,m):N,m==null)break e;p=Ye({},p,m);break e;case 2:Nn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(f=y=v,l=p):y=y.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(y===null&&(l=p),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);_i|=o,e.lanes=o,e.memoizedState=p}}function J0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var Yo={},Vr=Zn(Yo),Ao=Zn(Yo),ko=Zn(Yo);function ci(e){if(e===Yo)throw Error(le(174));return e}function Bd(e,t){switch(Le(ko,t),Le(Ao,e),Le(Vr,Yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}qe(Vr),Le(Vr,t)}function Ns(){qe(Vr),qe(Ao),qe(ko)}function Ym(e){ci(ko.current);var t=ci(Vr.current),r=Kc(t,e.type);t!==r&&(Le(Ao,e),Le(Vr,r))}function Ad(e){Ao.current===e&&(qe(Vr),qe(Ao))}var Ke=Zn(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nc=[];function kd(){for(var e=0;e<nc.length;e++)nc[e]._workInProgressVersionPrimary=null;nc.length=0}var Va=hn.ReactCurrentDispatcher,ic=hn.ReactCurrentBatchConfig,vi=0,De=null,st=null,pt=null,Rl=!1,fo=!1,Co=0,R2=0;function Et(){throw Error(le(321))}function Cd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tr(e[r],t[r]))return!1;return!0}function Rd(e,t,r,n,i,s){if(vi=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Va.current=e===null||e.memoizedState===null?I2:j2,e=r(n,i),fo){s=0;do{if(fo=!1,Co=0,25<=s)throw Error(le(301));s+=1,pt=st=null,t.updateQueue=null,Va.current=P2,e=r(n,i)}while(fo)}if(Va.current=Ol,t=st!==null&&st.next!==null,vi=0,pt=st=De=null,Rl=!1,t)throw Error(le(300));return e}function Od(){var e=Co!==0;return Co=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?De.memoizedState=pt=e:pt=pt.next=e,pt}function cr(){if(st===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=pt===null?De.memoizedState:pt.next;if(t!==null)pt=t,st=e;else{if(e===null)throw Error(le(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},pt===null?De.memoizedState=pt=e:pt=pt.next=e}return pt}function Ro(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=cr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=st,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,f=s;do{var y=f.lane;if((vi&y)===y)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var p={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,De.lanes|=y,_i|=y}f=f.next}while(f!==null&&f!==s);l===null?o=n:l.next=a,Tr(n,t.memoizedState)||(qt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,De.lanes|=s,_i|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function oc(e){var t=cr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tr(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Zm(){}function Xm(e,t){var r=De,n=cr(),i=t(),s=!Tr(n.memoizedState,i);if(s&&(n.memoizedState=i,qt=!0),n=n.queue,Ud(ey.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,Oo(9,Jm.bind(null,r,n,i,t),void 0,null),mt===null)throw Error(le(349));vi&30||Qm(r,t,i)}return i}function Qm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jm(e,t,r,n){t.value=r,t.getSnapshot=n,ty(t)&&ry(e)}function ey(e,t,r){return r(function(){ty(t)&&ry(e)})}function ty(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tr(e,r)}catch{return!0}}function ry(e){var t=cn(e,1);t!==null&&Sr(t,e,1,-1)}function eh(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=F2.bind(null,De,e),[t.memoizedState,e]}function Oo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ny(){return cr().memoizedState}function La(e,t,r,n){var i=Fr();De.flags|=e,i.memoizedState=Oo(1|t,r,void 0,n===void 0?null:n)}function ou(e,t,r,n){var i=cr();n=n===void 0?null:n;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,n!==null&&Cd(n,o.deps)){i.memoizedState=Oo(t,r,s,n);return}}De.flags|=e,i.memoizedState=Oo(1|t,r,s,n)}function th(e,t){return La(8390656,8,e,t)}function Ud(e,t){return ou(2048,8,e,t)}function iy(e,t){return ou(4,2,e,t)}function sy(e,t){return ou(4,4,e,t)}function oy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ay(e,t,r){return r=r!=null?r.concat([e]):null,ou(4,4,oy.bind(null,t,e),r)}function Fd(){}function ly(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uy(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cy(e,t,r){return vi&21?(Tr(r,t)||(r=mm(),De.lanes|=r,_i|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function O2(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=ic.transition;ic.transition={};try{e(!1),t()}finally{Pe=r,ic.transition=n}}function fy(){return cr().memoizedState}function U2(e,t,r){var n=Hn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dy(e))hy(t,r);else if(r=Km(e,t,r,n),r!==null){var i=Mt();Sr(r,e,n,i),py(r,t,n)}}function F2(e,t,r){var n=Hn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dy(e))hy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Tr(a,o)){var l=t.interleaved;l===null?(i.next=i,Nd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Km(e,t,i,n),r!==null&&(i=Mt(),Sr(r,e,n,i),py(r,t,n))}}function dy(e){var t=e.alternate;return e===De||t!==null&&t===De}function hy(e,t){fo=Rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function py(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fd(e,r)}}var Ol={readContext:ur,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},I2={readContext:ur,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:th,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,La(4194308,4,oy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=U2.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:eh,useDebugValue:Fd,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=eh(!1),t=e[0];return e=O2.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,i=Fr();if(We){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),mt===null)throw Error(le(349));vi&30||Qm(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,th(ey.bind(null,n,s,e),[e]),n.flags|=2048,Oo(9,Jm.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Fr(),t=mt.identifierPrefix;if(We){var r=Jr,n=Qr;r=(n&~(1<<32-Er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Co++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=R2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j2={readContext:ur,useCallback:ly,useContext:ur,useEffect:Ud,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:sc,useRef:ny,useState:function(){return sc(Ro)},useDebugValue:Fd,useDeferredValue:function(e){var t=cr();return cy(t,st.memoizedState,e)},useTransition:function(){var e=sc(Ro)[0],t=cr().memoizedState;return[e,t]},useMutableSource:Zm,useSyncExternalStore:Xm,useId:fy,unstable_isNewReconciler:!1},P2={readContext:ur,useCallback:ly,useContext:ur,useEffect:Ud,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:oc,useRef:ny,useState:function(){return oc(Ro)},useDebugValue:Fd,useDeferredValue:function(e){var t=cr();return st===null?t.memoizedState=e:cy(t,st.memoizedState,e)},useTransition:function(){var e=oc(Ro)[0],t=cr().memoizedState;return[e,t]},useMutableSource:Zm,useSyncExternalStore:Xm,useId:fy,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var au={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=Hn(e),s=on(n,i);s.payload=t,r!=null&&(s.callback=r),t=Vn(e,s,i),t!==null&&(Sr(t,e,i,n),za(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=Hn(e),s=on(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Vn(e,s,i),t!==null&&(Sr(t,e,i,n),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=Hn(e),i=on(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vn(e,i,n),t!==null&&(Sr(t,e,n,r),za(t,e,n))}};function rh(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!So(r,n)||!So(i,s):!0}function my(e,t,r){var n=!1,i=Dn,s=t.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=Kt(t)?wi:Rt.current,n=t.contextTypes,s=(n=n!=null)?bs(e,i):Dn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=au,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function nh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function yf(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Td(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=Kt(t)?wi:Rt.current,i.context=bs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mf(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&au.enqueueReplaceState(i,i.state,null),kl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var r="",n=t;do r+=fx(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ac(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function yy(e,t,r){r=on(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fl||(Fl=!0,Bf=n),gf(e,t)},r}function gy(e,t,r){r=on(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){gf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gf(e,t),typeof n!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ih(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M2;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Q2.bind(null,e,t,r),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oh(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=on(-1,1),t.tag=2,Vn(r,t,1))),r.lanes|=1),e)}var $2=hn.ReactCurrentOwner,qt=!1;function jt(e,t,r,n){t.child=e===null?Wm(t,null,r,n):Ss(t,e.child,r,n)}function ah(e,t,r,n,i){r=r.render;var s=t.ref;return ys(t,i),n=Rd(e,t,r,n,s,i),r=Od(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(We&&r&&xd(t),t.flags|=1,jt(e,t,n,i),t.child)}function lh(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Ld(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,wy(e,t,s,n,i)):(e=Wa(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:So,r(o,n)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=qn(s,n),e.ref=t.ref,e.return=t,t.child=e}function wy(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(So(s,n)&&e.ref===t.ref)if(qt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,fn(e,t,i)}return wf(e,t,r,n,i)}function xy(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(as,Yt),Yt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(as,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Le(as,Yt),Yt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Le(as,Yt),Yt|=n;return jt(e,t,i,r),t.child}function vy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wf(e,t,r,n,i){var s=Kt(r)?wi:Rt.current;return s=bs(t,s),ys(t,i),r=Rd(e,t,r,n,s,i),n=Od(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(We&&n&&xd(t),t.flags|=1,jt(e,t,r,i),t.child)}function uh(e,t,r,n,i){if(Kt(r)){var s=!0;Sl(t)}else s=!1;if(ys(t,i),t.stateNode===null)Ha(e,t),my(t,r,n),yf(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=ur(f):(f=Kt(r)?wi:Rt.current,f=bs(t,f));var y=r.getDerivedStateFromProps,p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==f)&&nh(t,o,n,f),Nn=!1;var m=t.memoizedState;o.state=m,kl(t,n,o,i),l=t.memoizedState,a!==n||m!==l||Wt.current||Nn?(typeof y=="function"&&(mf(t,r,y,n),l=t.memoizedState),(a=Nn||rh(t,r,a,n,m,l,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=f,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Dm(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:wr(t.type,a),o.props=f,p=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Kt(r)?wi:Rt.current,l=bs(t,l));var v=r.getDerivedStateFromProps;(y=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&nh(t,o,n,l),Nn=!1,m=t.memoizedState,o.state=m,kl(t,n,o,i);var N=t.memoizedState;a!==p||m!==N||Wt.current||Nn?(typeof v=="function"&&(mf(t,r,v,n),N=t.memoizedState),(f=Nn||rh(t,r,f,n,m,N,l)||!1)?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=l,n=f):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return xf(e,t,r,n,s,i)}function xf(e,t,r,n,i,s){vy(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&D0(t,r,!1),fn(e,t,s);n=t.stateNode,$2.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,a,s)):jt(e,t,a,s),t.memoizedState=n.state,i&&D0(t,r,!0),t.child}function _y(e){var t=e.stateNode;t.pendingContext?K0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&K0(e,t.context,!1),Bd(e,t.containerInfo)}function ch(e,t,r,n,i){return Es(),_d(i),t.flags|=256,jt(e,t,r,n),t.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function _f(e){return{baseLanes:e,cachePool:null,transitions:null}}function by(e,t,r){var n=t.pendingProps,i=Ke.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Ke,i&1),e===null)return hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cu(o,n,0,null),e=mi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_f(r),t.memoizedState=vf,e):Id(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return z2(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qn(a,s):(s=mi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?_f(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=vf,n}return s=e.child,e=s.sibling,n=qn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Id(e,t){return t=cu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function va(e,t,r,n){return n!==null&&_d(n),Ss(t,e.child,null,r),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z2(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=ac(Error(le(422))),va(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=cu({mode:"visible",children:n.children},i,0,null),s=mi(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ss(t,e.child,null,o),t.child.memoizedState=_f(o),t.memoizedState=vf,s);if(!(t.mode&1))return va(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(le(419)),n=ac(s,n,void 0),va(e,t,o,n)}if(a=(o&e.childLanes)!==0,qt||a){if(n=mt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cn(e,i),Sr(n,e,i,-1))}return Vd(),n=ac(Error(le(421))),va(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=J2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xt=zn(i.nextSibling),Qt=t,We=!0,_r=null,e!==null&&(ir[sr++]=Qr,ir[sr++]=Jr,ir[sr++]=xi,Qr=e.id,Jr=e.overflow,xi=t),t=Id(t,n.children),t.flags|=4096,t)}function fh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pf(e.return,t,r)}function lc(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ey(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(jt(e,t,n.children,r),n=Ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fh(e,r,t);else if(e.tag===19)fh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Ke,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Cl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),lc(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}lc(t,!0,r,null,s);break;case"together":lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_i|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function V2(e,t,r){switch(t.tag){case 3:_y(t),Es();break;case 5:Ym(t);break;case 1:Kt(t.type)&&Sl(t);break;case 4:Bd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Le(Bl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Ke,Ke.current&1),t.flags|=128,null):r&t.child.childLanes?by(e,t,r):(Le(Ke,Ke.current&1),e=fn(e,t,r),e!==null?e.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ey(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ke,Ke.current),n)break;return null;case 22:case 23:return t.lanes=0,xy(e,t,r)}return fn(e,t,r)}var Sy,bf,Ny,Ty;Sy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bf=function(){};Ny=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ci(Vr.current);var s=null;switch(r){case"input":i=Hc(e,i),n=Hc(e,n),s=[];break;case"select":i=Ye({},i,{value:void 0}),n=Ye({},n,{value:void 0}),s=[];break;case"textarea":i=Wc(e,i),n=Wc(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bl)}Dc(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(go.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var l=n[f];if(a=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(f,r)),r=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(go.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&He("scroll",e),s||a===l||(s=[])):(s=s||[]).push(f,l))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};Ty=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ks(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L2(e,t,r){var n=t.pendingProps;switch(vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Kt(t.type)&&El(),St(t),null;case 3:return n=t.stateNode,Ns(),qe(Wt),qe(Rt),kd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(Cf(_r),_r=null))),bf(e,t),St(t),null;case 5:Ad(t);var i=ci(ko.current);if(r=t.type,e!==null&&t.stateNode!=null)Ny(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return St(t),null}if(e=ci(Vr.current),wa(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Pr]=t,n[Bo]=s,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<Js.length;i++)He(Js[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":v0(n,s),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},He("invalid",n);break;case"textarea":b0(n,s),He("invalid",n)}Dc(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ga(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ga(n.textContent,a,e),i=["children",""+a]):go.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":ua(n),_0(n,s,!0);break;case"textarea":ua(n),E0(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=bl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=em(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Pr]=t,e[Bo]=n,Sy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yc(r,n),r){case"dialog":He("cancel",e),He("close",e),i=n;break;case"iframe":case"object":case"embed":He("load",e),i=n;break;case"video":case"audio":for(i=0;i<Js.length;i++)He(Js[i],e);i=n;break;case"source":He("error",e),i=n;break;case"img":case"image":case"link":He("error",e),He("load",e),i=n;break;case"details":He("toggle",e),i=n;break;case"input":v0(e,n),i=Hc(e,n),He("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ye({},n,{value:void 0}),He("invalid",e);break;case"textarea":b0(e,n),i=Wc(e,n),He("invalid",e);break;default:i=n}Dc(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nm(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tm(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&wo(e,l):typeof l=="number"&&wo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(go.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",e):l!=null&&sd(e,s,l,o))}switch(r){case"input":ua(e),_0(e,n,!1);break;case"textarea":ua(e),E0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ds(e,!!n.multiple,s,!1):n.defaultValue!=null&&ds(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Ty(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=ci(ko.current),ci(Vr.current),wa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pr]=t,(s=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:ga(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ga(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pr]=t,t.stateNode=n}return St(t),null;case 13:if(qe(Ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Xt!==null&&t.mode&1&&!(t.flags&128))qm(),Es(),t.flags|=98560,s=!1;else if(s=wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Pr]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),s=!1}else _r!==null&&(Cf(_r),_r=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?at===0&&(at=3):Vd())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return Ns(),bf(e,t),e===null&&No(t.stateNode.containerInfo),St(t),null;case 10:return Sd(t.type._context),St(t),null;case 17:return Kt(t.type)&&El(),St(t),null;case 19:if(qe(Ke),s=t.memoizedState,s===null)return St(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ks(s,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cl(e),o!==null){for(t.flags|=128,Ks(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&et()>Bs&&(t.flags|=128,n=!0,Ks(s,!1),t.lanes=4194304)}else{if(!n)if(e=Cl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ks(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return St(t),null}else 2*et()-s.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,n=!0,Ks(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=et(),t.sibling=null,r=Ke.current,Le(Ke,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return zd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function H2(e,t){switch(vd(t),t.tag){case 1:return Kt(t.type)&&El(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),qe(Wt),qe(Rt),kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ad(t),null;case 13:if(qe(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ke),null;case 4:return Ns(),null;case 10:return Sd(t.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var _a=!1,kt=!1,q2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function os(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(e,t,n)}else r.current=null}function Ef(e,t,r){try{r()}catch(n){Ze(e,t,n)}}var dh=!1;function G2(e,t){if(of=xl,e=Rm(),wd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,f=0,y=0,p=e,m=null;t:for(;;){for(var v;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===r&&++f===i&&(a=o),m===s&&++y===n&&(l=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(af={focusedElem:e,selectionRange:r},xl=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var k=N.memoizedProps,O=N.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?k:wr(t.type,k),O);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(j){Ze(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return N=dh,dh=!1,N}function ho(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ef(t,r,s)}i=i.next}while(i!==n)}}function lu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Sf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function By(e){var t=e.alternate;t!==null&&(e.alternate=null,By(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[Bo],delete t[cf],delete t[B2],delete t[A2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ay(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bl));else if(n!==4&&(e=e.child,e!==null))for(Nf(e,t,r),e=e.sibling;e!==null;)Nf(e,t,r),e=e.sibling}function Tf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tf(e,t,r),e=e.sibling;e!==null;)Tf(e,t,r),e=e.sibling}var wt=null,vr=!1;function yn(e,t,r){for(r=r.child;r!==null;)ky(e,t,r),r=r.sibling}function ky(e,t,r){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(eu,r)}catch{}switch(r.tag){case 5:kt||os(r,t);case 6:var n=wt,i=vr;wt=null,yn(e,t,r),wt=n,vr=i,wt!==null&&(vr?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(vr?(e=wt,r=r.stateNode,e.nodeType===8?tc(e.parentNode,r):e.nodeType===1&&tc(e,r),bo(e)):tc(wt,r.stateNode));break;case 4:n=wt,i=vr,wt=r.stateNode.containerInfo,vr=!0,yn(e,t,r),wt=n,vr=i;break;case 0:case 11:case 14:case 15:if(!kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ef(r,t,o),i=i.next}while(i!==n)}yn(e,t,r);break;case 1:if(!kt&&(os(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ze(r,t,a)}yn(e,t,r);break;case 21:yn(e,t,r);break;case 22:r.mode&1?(kt=(n=kt)||r.memoizedState!==null,yn(e,t,r),kt=n):yn(e,t,r);break;default:yn(e,t,r)}}function ph(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q2),t.forEach(function(n){var i=ev.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,vr=!1;break e;case 3:wt=a.stateNode.containerInfo,vr=!0;break e;case 4:wt=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(wt===null)throw Error(le(160));ky(s,o,i),wt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(f){Ze(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cy(t,e),t=t.sibling}function Cy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Ar(e),n&4){try{ho(3,e,e.return),lu(3,e)}catch(k){Ze(e,e.return,k)}try{ho(5,e,e.return)}catch(k){Ze(e,e.return,k)}}break;case 1:pr(t,e),Ar(e),n&512&&r!==null&&os(r,r.return);break;case 5:if(pr(t,e),Ar(e),n&512&&r!==null&&os(r,r.return),e.flags&32){var i=e.stateNode;try{wo(i,"")}catch(k){Ze(e,e.return,k)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Qp(i,s),Yc(a,o);var f=Yc(a,s);for(o=0;o<l.length;o+=2){var y=l[o],p=l[o+1];y==="style"?nm(i,p):y==="dangerouslySetInnerHTML"?tm(i,p):y==="children"?wo(i,p):sd(i,y,p,f)}switch(a){case"input":qc(i,s);break;case"textarea":Jp(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ds(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bo]=s}catch(k){Ze(e,e.return,k)}}break;case 6:if(pr(t,e),Ar(e),n&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){Ze(e,e.return,k)}}break;case 3:if(pr(t,e),Ar(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(k){Ze(e,e.return,k)}break;case 4:pr(t,e),Ar(e);break;case 13:pr(t,e),Ar(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Md=et())),n&4&&ph(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(kt=(f=kt)||y,pr(t,e),kt=f):pr(t,e),Ar(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(ge=e,y=e.child;y!==null;){for(p=ge=y;ge!==null;){switch(m=ge,v=m.child,m.tag){case 0:case 11:case 14:case 15:ho(4,m,m.return);break;case 1:os(m,m.return);var N=m.stateNode;if(typeof N.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(k){Ze(n,r,k)}}break;case 5:os(m,m.return);break;case 22:if(m.memoizedState!==null){yh(p);continue}}v!==null?(v.return=m,ge=v):yh(p)}y=y.sibling}e:for(y=null,p=e;;){if(p.tag===5){if(y===null){y=p;try{i=p.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rm("display",o))}catch(k){Ze(e,e.return,k)}}}else if(p.tag===6){if(y===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(k){Ze(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pr(t,e),Ar(e),n&4&&ph(e);break;case 21:break;default:pr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ay(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wo(i,""),n.flags&=-33);var s=hh(e);Tf(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hh(e);Nf(e,a,o);break;default:throw Error(le(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W2(e,t,r){ge=e,Ry(e)}function Ry(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_a;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=_a;var f=kt;if(_a=o,(kt=l)&&!f)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?gh(i):l!==null?(l.return=o,ge=l):gh(i);for(;s!==null;)ge=s,Ry(s),s=s.sibling;ge=i,_a=a,kt=f}mh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):mh(e)}}function mh(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||lu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&J0(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}J0(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var p=y.dehydrated;p!==null&&bo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}kt||t.flags&512&&Sf(t)}catch(m){Ze(t,t.return,m)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function yh(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function gh(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lu(4,t)}catch(l){Ze(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Ze(t,i,l)}}var s=t.return;try{Sf(t)}catch(l){Ze(t,s,l)}break;case 5:var o=t.return;try{Sf(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}var K2=Math.ceil,Ul=hn.ReactCurrentDispatcher,jd=hn.ReactCurrentOwner,lr=hn.ReactCurrentBatchConfig,Fe=0,mt=null,it=null,vt=0,Yt=0,as=Zn(0),at=0,Uo=null,_i=0,uu=0,Pd=0,po=null,Lt=null,Md=0,Bs=1/0,Kr=null,Fl=!1,Bf=null,Ln=null,ba=!1,Fn=null,Il=0,mo=0,Af=null,qa=-1,Ga=0;function Mt(){return Fe&6?et():qa!==-1?qa:qa=et()}function Hn(e){return e.mode&1?Fe&2&&vt!==0?vt&-vt:C2.transition!==null?(Ga===0&&(Ga=mm()),Ga):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:bm(e.type)),e):1}function Sr(e,t,r,n){if(50<mo)throw mo=0,Af=null,Error(le(185));Wo(e,r,n),(!(Fe&2)||e!==mt)&&(e===mt&&(!(Fe&2)&&(uu|=r),at===4&&Rn(e,vt)),Dt(e,n),r===1&&Fe===0&&!(t.mode&1)&&(Bs=et()+500,su&&Xn()))}function Dt(e,t){var r=e.callbackNode;Cx(e,t);var n=wl(e,e===mt?vt:0);if(n===0)r!==null&&T0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&T0(r),t===1)e.tag===0?k2(wh.bind(null,e)):Vm(wh.bind(null,e)),N2(function(){!(Fe&6)&&Xn()}),r=null;else{switch(ym(n)){case 1:r=cd;break;case 4:r=hm;break;case 16:r=gl;break;case 536870912:r=pm;break;default:r=gl}r=$y(r,Oy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Oy(e,t){if(qa=-1,Ga=0,Fe&6)throw Error(le(327));var r=e.callbackNode;if(gs()&&e.callbackNode!==r)return null;var n=wl(e,e===mt?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jl(e,n);else{t=n;var i=Fe;Fe|=2;var s=Fy();(mt!==e||vt!==t)&&(Kr=null,Bs=et()+500,pi(e,t));do try{Z2();break}catch(a){Uy(e,a)}while(!0);Ed(),Ul.current=s,Fe=i,it!==null?t=0:(mt=null,vt=0,t=at)}if(t!==0){if(t===2&&(i=ef(e),i!==0&&(n=i,t=kf(e,i))),t===1)throw r=Uo,pi(e,0),Rn(e,n),Dt(e,et()),r;if(t===6)Rn(e,n);else{if(i=e.current.alternate,!(n&30)&&!D2(i)&&(t=jl(e,n),t===2&&(s=ef(e),s!==0&&(n=s,t=kf(e,s))),t===1))throw r=Uo,pi(e,0),Rn(e,n),Dt(e,et()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ti(e,Lt,Kr);break;case 3:if(Rn(e,n),(n&130023424)===n&&(t=Md+500-et(),10<t)){if(wl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uf(ti.bind(null,e,Lt,Kr),t);break}ti(e,Lt,Kr);break;case 4:if(Rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Er(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K2(n/1960))-n,10<n){e.timeoutHandle=uf(ti.bind(null,e,Lt,Kr),n);break}ti(e,Lt,Kr);break;case 5:ti(e,Lt,Kr);break;default:throw Error(le(329))}}}return Dt(e,et()),e.callbackNode===r?Oy.bind(null,e):null}function kf(e,t){var r=po;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Lt,Lt=r,t!==null&&Cf(t)),e}function Cf(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function D2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Pd,t&=~uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Er(t),n=1<<r;e[r]=-1,t&=~n}}function wh(e){if(Fe&6)throw Error(le(327));gs();var t=wl(e,0);if(!(t&1))return Dt(e,et()),null;var r=jl(e,t);if(e.tag!==0&&r===2){var n=ef(e);n!==0&&(t=n,r=kf(e,n))}if(r===1)throw r=Uo,pi(e,0),Rn(e,t),Dt(e,et()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ti(e,Lt,Kr),Dt(e,et()),null}function $d(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(Bs=et()+500,su&&Xn())}}function bi(e){Fn!==null&&Fn.tag===0&&!(Fe&6)&&gs();var t=Fe;Fe|=1;var r=lr.transition,n=Pe;try{if(lr.transition=null,Pe=1,e)return e()}finally{Pe=n,lr.transition=r,Fe=t,!(Fe&6)&&Xn()}}function zd(){Yt=as.current,qe(as)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,S2(r)),it!==null)for(r=it.return;r!==null;){var n=r;switch(vd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&El();break;case 3:Ns(),qe(Wt),qe(Rt),kd();break;case 5:Ad(n);break;case 4:Ns();break;case 13:qe(Ke);break;case 19:qe(Ke);break;case 10:Sd(n.type._context);break;case 22:case 23:zd()}r=r.return}if(mt=e,it=e=qn(e.current,null),vt=Yt=t,at=0,Uo=null,Pd=uu=_i=0,Lt=po=null,ui!==null){for(t=0;t<ui.length;t++)if(r=ui[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ui=null}return e}function Uy(e,t){do{var r=it;try{if(Ed(),Va.current=Ol,Rl){for(var n=De.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rl=!1}if(vi=0,pt=st=De=null,fo=!1,Co=0,jd.current=null,r===null||r.return===null){at=1,Uo=t,it=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,y=a,p=y.tag;if(!(y.mode&1)&&(p===0||p===11||p===15)){var m=y.alternate;m?(y.updateQueue=m.updateQueue,y.memoizedState=m.memoizedState,y.lanes=m.lanes):(y.updateQueue=null,y.memoizedState=null)}var v=sh(o);if(v!==null){v.flags&=-257,oh(v,o,a,s,t),v.mode&1&&ih(s,f,t),t=v,l=f;var N=t.updateQueue;if(N===null){var k=new Set;k.add(l),t.updateQueue=k}else N.add(l);break e}else{if(!(t&1)){ih(s,f,t),Vd();break e}l=Error(le(426))}}else if(We&&a.mode&1){var O=sh(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),oh(O,o,a,s,t),_d(Ts(l,a));break e}}s=l=Ts(l,a),at!==4&&(at=2),po===null?po=[s]:po.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=yy(s,l,t);Q0(s,_);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ln===null||!Ln.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=gy(s,a,t);Q0(s,j);break e}}s=s.return}while(s!==null)}jy(r)}catch(F){t=F,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function Fy(){var e=Ul.current;return Ul.current=Ol,e===null?Ol:e}function Vd(){(at===0||at===3||at===2)&&(at=4),mt===null||!(_i&268435455)&&!(uu&268435455)||Rn(mt,vt)}function jl(e,t){var r=Fe;Fe|=2;var n=Fy();(mt!==e||vt!==t)&&(Kr=null,pi(e,t));do try{Y2();break}catch(i){Uy(e,i)}while(!0);if(Ed(),Fe=r,Ul.current=n,it!==null)throw Error(le(261));return mt=null,vt=0,at}function Y2(){for(;it!==null;)Iy(it)}function Z2(){for(;it!==null&&!_x();)Iy(it)}function Iy(e){var t=My(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?jy(e):it=t,jd.current=null}function jy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=H2(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,it=null;return}}else if(r=L2(r,t,Yt),r!==null){it=r;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);at===0&&(at=5)}function ti(e,t,r){var n=Pe,i=lr.transition;try{lr.transition=null,Pe=1,X2(e,t,r,n)}finally{lr.transition=i,Pe=n}return null}function X2(e,t,r,n){do gs();while(Fn!==null);if(Fe&6)throw Error(le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Rx(e,s),e===mt&&(it=mt=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ba||(ba=!0,$y(gl,function(){return gs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Pe;Pe=1;var a=Fe;Fe|=4,jd.current=null,G2(e,r),Cy(r,e),g2(af),xl=!!of,af=of=null,e.current=r,W2(r),bx(),Fe=a,Pe=o,lr.transition=s}else e.current=r;if(ba&&(ba=!1,Fn=e,Il=i),s=e.pendingLanes,s===0&&(Ln=null),Nx(r.stateNode),Dt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fl)throw Fl=!1,e=Bf,Bf=null,e;return Il&1&&e.tag!==0&&gs(),s=e.pendingLanes,s&1?e===Af?mo++:(mo=0,Af=e):mo=0,Xn(),null}function gs(){if(Fn!==null){var e=ym(Il),t=lr.transition,r=Pe;try{if(lr.transition=null,Pe=16>e?16:e,Fn===null)var n=!1;else{if(e=Fn,Fn=null,Il=0,Fe&6)throw Error(le(331));var i=Fe;for(Fe|=4,ge=e.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var f=a[l];for(ge=f;ge!==null;){var y=ge;switch(y.tag){case 0:case 11:case 15:ho(8,y,s)}var p=y.child;if(p!==null)p.return=y,ge=p;else for(;ge!==null;){y=ge;var m=y.sibling,v=y.return;if(By(y),y===f){ge=null;break}if(m!==null){m.return=v,ge=m;break}ge=v}}}var N=s.alternate;if(N!==null){var k=N.child;if(k!==null){N.child=null;do{var O=k.sibling;k.sibling=null,k=O}while(k!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ho(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ge=_;break e}ge=s.return}}var x=e.current;for(ge=x;ge!==null;){o=ge;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ge=S;else e:for(o=x;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(F){Ze(a,a.return,F)}if(a===o){ge=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ge=j;break e}ge=a.return}}if(Fe=i,Xn(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(eu,e)}catch{}n=!0}return n}finally{Pe=r,lr.transition=t}}return!1}function xh(e,t,r){t=Ts(r,t),t=yy(e,t,1),e=Vn(e,t,1),t=Mt(),e!==null&&(Wo(e,1,t),Dt(e,t))}function Ze(e,t,r){if(e.tag===3)xh(e,e,r);else for(;t!==null;){if(t.tag===3){xh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ln===null||!Ln.has(n))){e=Ts(r,e),e=gy(t,e,1),t=Vn(t,e,1),e=Mt(),t!==null&&(Wo(t,1,e),Dt(t,e));break}}t=t.return}}function Q2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(vt&r)===r&&(at===4||at===3&&(vt&130023424)===vt&&500>et()-Md?pi(e,0):Pd|=r),Dt(e,t)}function Py(e,t){t===0&&(e.mode&1?(t=da,da<<=1,!(da&130023424)&&(da=4194304)):t=1);var r=Mt();e=cn(e,t),e!==null&&(Wo(e,t,r),Dt(e,r))}function J2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Py(e,r)}function ev(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),Py(e,r)}var My;My=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,V2(e,t,r);qt=!!(e.flags&131072)}else qt=!1,We&&t.flags&1048576&&Lm(t,Tl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ha(e,t),e=t.pendingProps;var i=bs(t,Rt.current);ys(t,r),i=Rd(null,t,n,e,i,r);var s=Od();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(s=!0,Sl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(t),i.updater=au,t.stateNode=i,i._reactInternals=t,yf(t,n,e,r),t=xf(null,t,n,!0,s,r)):(t.tag=0,We&&s&&xd(t),jt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=rv(n),e=wr(n,e),i){case 0:t=wf(null,t,n,e,r);break e;case 1:t=uh(null,t,n,e,r);break e;case 11:t=ah(null,t,n,e,r);break e;case 14:t=lh(null,t,n,wr(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wr(n,i),wf(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wr(n,i),uh(e,t,n,i,r);case 3:e:{if(_y(t),e===null)throw Error(le(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Dm(e,t),kl(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ts(Error(le(423)),t),t=ch(e,t,n,r,i);break e}else if(n!==i){i=Ts(Error(le(424)),t),t=ch(e,t,n,r,i);break e}else for(Xt=zn(t.stateNode.containerInfo.firstChild),Qt=t,We=!0,_r=null,r=Wm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Es(),n===i){t=fn(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return Ym(t),e===null&&hf(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,lf(n,i)?o=null:s!==null&&lf(n,s)&&(t.flags|=32),vy(e,t),jt(e,t,o,r),t.child;case 6:return e===null&&hf(t),null;case 13:return by(e,t,r);case 4:return Bd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ss(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wr(n,i),ah(e,t,n,i,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Le(Bl,n._currentValue),n._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!Wt.current){t=fn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=on(-1,r&-r),l.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?l.next=l:(l.next=y.next,y.next=l),f.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),pf(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),pf(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ys(t,r),i=ur(i),n=n(i),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,i=wr(n,t.pendingProps),i=wr(n.type,i),lh(e,t,n,i,r);case 15:return wy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wr(n,i),Ha(e,t),t.tag=1,Kt(n)?(e=!0,Sl(t)):e=!1,ys(t,r),my(t,n,i),yf(t,n,i,r),xf(null,t,n,!0,e,r);case 19:return Ey(e,t,r);case 22:return xy(e,t,r)}throw Error(le(156,t.tag))};function $y(e,t){return dm(e,t)}function tv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new tv(e,t,r,n)}function Ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rv(e){if(typeof e=="function")return Ld(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ad)return 11;if(e===ld)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wa(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Ld(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xi:return mi(r.children,i,s,t);case od:o=8,i|=8;break;case $c:return e=ar(12,r,t,i|2),e.elementType=$c,e.lanes=s,e;case zc:return e=ar(13,r,t,i),e.elementType=zc,e.lanes=s,e;case Vc:return e=ar(19,r,t,i),e.elementType=Vc,e.lanes=s,e;case Yp:return cu(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kp:o=10;break e;case Dp:o=9;break e;case ad:o=11;break e;case ld:o=14;break e;case Sn:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ar(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function mi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function cu(e,t,r,n){return e=ar(22,e,n,t),e.elementType=Yp,e.lanes=r,e.stateNode={isHidden:!1},e}function uc(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function cc(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nv(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hd(e,t,r,n,i,s,o,a,l){return e=new nv(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ar(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(s),e}function iv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zy(e){if(!e)return Dn;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Kt(r))return zm(e,r,t)}return t}function Vy(e,t,r,n,i,s,o,a,l){return e=Hd(r,n,!0,e,i,s,o,a,l),e.context=zy(null),r=e.current,n=Mt(),i=Hn(r),s=on(n,i),s.callback=t??null,Vn(r,s,i),e.current.lanes=i,Wo(e,i,n),Dt(e,n),e}function fu(e,t,r,n){var i=t.current,s=Mt(),o=Hn(i);return r=zy(r),t.context===null?t.context=r:t.pendingContext=r,t=on(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vn(i,t,o),e!==null&&(Sr(e,i,o,s),za(e,i,o)),o}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qd(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function sv(){return null}var Ly=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gd(e){this._internalRoot=e}du.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));fu(e,t,null,null)};du.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){fu(null,e,null,null)}),t[un]=null}};function du(e){this._internalRoot=e}du.prototype.unstable_scheduleHydration=function(e){if(e){var t=xm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cn.length&&t!==0&&t<Cn[r].priority;r++);Cn.splice(r,0,e),r===0&&_m(e)}};function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function ov(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var f=Pl(o);s.call(f)}}var o=Vy(t,n,e,0,null,!1,!1,"",_h);return e._reactRootContainer=o,e[un]=o.current,No(e.nodeType===8?e.parentNode:e),bi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var f=Pl(l);a.call(f)}}var l=Hd(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=l,e[un]=l.current,No(e.nodeType===8?e.parentNode:e),bi(function(){fu(t,l,r,n)}),l}function pu(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Pl(o);a.call(l)}}fu(t,o,e,i)}else o=ov(r,t,e,i,n);return Pl(o)}gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qs(t.pendingLanes);r!==0&&(fd(t,r|1),Dt(t,et()),!(Fe&6)&&(Bs=et()+500,Xn()))}break;case 13:bi(function(){var n=cn(e,1);if(n!==null){var i=Mt();Sr(n,e,1,i)}}),qd(e,1)}};dd=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var r=Mt();Sr(t,e,134217728,r)}qd(e,134217728)}};wm=function(e){if(e.tag===13){var t=Hn(e),r=cn(e,t);if(r!==null){var n=Mt();Sr(r,e,t,n)}qd(e,t)}};xm=function(){return Pe};vm=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Xc=function(e,t,r){switch(t){case"input":if(qc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=iu(n);if(!i)throw Error(le(90));Xp(n),qc(n,i)}}}break;case"textarea":Jp(e,r);break;case"select":t=r.value,t!=null&&ds(e,!!r.multiple,t,!1)}};om=$d;am=bi;var av={usingClientEntryPoint:!1,Events:[Do,ts,iu,im,sm,$d]},Ds={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lv={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||sv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{eu=Ea.inject(lv),zr=Ea}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=av;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(t))throw Error(le(200));return iv(e,t,null,r)};er.createRoot=function(e,t){if(!Wd(e))throw Error(le(299));var r=!1,n="",i=Ly;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hd(e,1,!1,null,null,r,!1,n,i),e[un]=t.current,No(e.nodeType===8?e.parentNode:e),new Gd(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=cm(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return bi(e)};er.hydrate=function(e,t,r){if(!hu(t))throw Error(le(200));return pu(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!Wd(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Ly;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Vy(t,null,e,1,r??null,i,!1,s,o),e[un]=t.current,No(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new du(t)};er.render=function(e,t,r){if(!hu(t))throw Error(le(200));return pu(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!hu(e))throw Error(le(40));return e._reactRootContainer?(bi(function(){pu(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};er.unstable_batchedUpdates=$d;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hu(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return pu(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hy)}catch(e){console.error(e)}}Hy(),Hp.exports=er;var uv=Hp.exports,qy,bh=uv;qy=bh.createRoot,bh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const Eh="popstate";function cv(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return Rf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wy(i)}return dv(t,r,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fv(){return Math.random().toString(36).substr(2,8)}function Sh(e,t){return{usr:e.state,key:e.key,idx:t}}function Rf(e,t,r,n){return r===void 0&&(r=null),Fo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:r,key:t&&t.key||n||fv()})}function Wy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function js(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dv(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=In.Pop,l=null,f=y();f==null&&(f=0,o.replaceState(Fo({},o.state,{idx:f}),""));function y(){return(o.state||{idx:null}).idx}function p(){a=In.Pop;let O=y(),_=O==null?null:O-f;f=O,l&&l({action:a,location:k.location,delta:_})}function m(O,_){a=In.Push;let x=Rf(k.location,O,_);f=y()+1;let S=Sh(x,f),j=k.createHref(x);try{o.pushState(S,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(j)}s&&l&&l({action:a,location:k.location,delta:1})}function v(O,_){a=In.Replace;let x=Rf(k.location,O,_);f=y();let S=Sh(x,f),j=k.createHref(x);o.replaceState(S,"",j),s&&l&&l({action:a,location:k.location,delta:0})}function N(O){let _=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof O=="string"?O:Wy(O);return x=x.replace(/ $/,"%20"),lt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let k={get action(){return a},get location(){return e(i,o)},listen(O){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Eh,p),l=O,()=>{i.removeEventListener(Eh,p),l=null}},createHref(O){return t(i,O)},createURL:N,encodeLocation(O){let _=N(O);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:v,go(O){return o.go(O)}};return k}var Nh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nh||(Nh={}));function hv(e,t,r){return r===void 0&&(r="/"),pv(e,t,r)}function pv(e,t,r,n){let i=typeof t=="string"?js(t):t,s=Yy(i.pathname||"/",r);if(s==null)return null;let o=Ky(e);mv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let f=Bv(s);a=Sv(o[l],f)}return a}function Ky(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let f=yi([n,l.relativePath]),y=r.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Ky(s.children,t,y,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:bv(f,s.index),routesMeta:y})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Dy(s.path))i(s,o,l)}),t}function Dy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Dy(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function mv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ev(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yv=/^:[\w-]+$/,gv=3,wv=2,xv=1,vv=10,_v=-2,Th=e=>e==="*";function bv(e,t){let r=e.split("/"),n=r.length;return r.some(Th)&&(n+=_v),t&&(n+=wv),r.filter(i=>!Th(i)).reduce((i,s)=>i+(yv.test(s)?gv:s===""?xv:vv),n)}function Ev(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Sv(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],f=a===n.length-1,y=s==="/"?t:t.slice(s.length)||"/",p=Nv({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},y),m=l.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:yi([s,p.pathname]),pathnameBase:Uv(yi([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=yi([s,p.pathnameBase]))}return o}function Nv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Tv(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((f,y,p)=>{let{paramName:m,isOptional:v}=y;if(m==="*"){let k=a[p]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const N=a[p];return v&&!N?f[m]=void 0:f[m]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function Tv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Bv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Av(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?js(e):e;return{pathname:r?r.startsWith("/")?r:kv(r,t):t,search:Fv(n),hash:Iv(i)}}function kv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rv(e,t){let r=Cv(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ov(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=js(e):(i=Fo({},e),lt(!i.pathname||!i.pathname.includes("?"),fc("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),fc("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),fc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?t[p]:"/"}let l=Av(i,a),f=o&&o!=="/"&&o.endsWith("/"),y=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(f||y)&&(l.pathname+="/"),l}const yi=e=>e.join("/").replace(/\/\/+/g,"/"),Uv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zy=["post","put","patch","delete"];new Set(Zy);const Pv=["get",...Zy];new Set(Pv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}const Kd=oe.createContext(null),Mv=oe.createContext(null),mu=oe.createContext(null),yu=oe.createContext(null),Ps=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),Xy=oe.createContext(null);function gu(){return oe.useContext(yu)!=null}function Qy(){return gu()||lt(!1),oe.useContext(yu).location}function Jy(e){oe.useContext(mu).static||oe.useLayoutEffect(e)}function $v(){let{isDataRoute:e}=oe.useContext(Ps);return e?Qv():zv()}function zv(){gu()||lt(!1);let e=oe.useContext(Kd),{basename:t,future:r,navigator:n}=oe.useContext(mu),{matches:i}=oe.useContext(Ps),{pathname:s}=Qy(),o=JSON.stringify(Rv(i,r.v7_relativeSplatPath)),a=oe.useRef(!1);return Jy(()=>{a.current=!0}),oe.useCallback(function(f,y){if(y===void 0&&(y={}),!a.current)return;if(typeof f=="number"){n.go(f);return}let p=Ov(f,JSON.parse(o),s,y.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:yi([t,p.pathname])),(y.replace?n.replace:n.push)(p,y.state,y)},[t,n,o,s,e])}function Vv(e,t){return Lv(e,t)}function Lv(e,t,r,n){gu()||lt(!1);let{navigator:i}=oe.useContext(mu),{matches:s}=oe.useContext(Ps),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let f=Qy(),y;if(t){var p;let O=typeof t=="string"?js(t):t;l==="/"||(p=O.pathname)!=null&&p.startsWith(l)||lt(!1),y=O}else y=f;let m=y.pathname||"/",v=m;if(l!=="/"){let O=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=hv(e,{pathname:v}),k=Kv(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,r,n);return t&&k?oe.createElement(yu.Provider,{value:{location:Io({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:In.Pop}},k):k}function Hv(){let e=Xv(),t=jv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},t),r?oe.createElement("pre",{style:i},r):null,null)}const qv=oe.createElement(Hv,null);class Gv extends oe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?oe.createElement(Ps.Provider,{value:this.props.routeContext},oe.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wv(e){let{routeContext:t,match:r,children:n}=e,i=oe.useContext(Kd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),oe.createElement(Ps.Provider,{value:t},n)}function Kv(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let y=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);y>=0||lt(!1),o=o.slice(0,Math.min(o.length,y+1))}let l=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=y),p.route.id){let{loaderData:m,errors:v}=r,N=p.route.loader&&m[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||N){l=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((y,p,m)=>{let v,N=!1,k=null,O=null;r&&(v=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||qv,l&&(f<0&&m===0?(Jv("route-fallback"),N=!0,O=null):f===m&&(N=!0,O=p.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,m+1)),x=()=>{let S;return v?S=k:N?S=O:p.route.Component?S=oe.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=y,oe.createElement(Wv,{match:p,routeContext:{outlet:y,matches:_,isDataRoute:r!=null},children:S})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?oe.createElement(Gv,{location:r.location,revalidation:r.revalidation,component:k,error:v,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var eg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eg||{}),tg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tg||{});function Dv(e){let t=oe.useContext(Kd);return t||lt(!1),t}function Yv(e){let t=oe.useContext(Mv);return t||lt(!1),t}function Zv(e){let t=oe.useContext(Ps);return t||lt(!1),t}function rg(e){let t=Zv(),r=t.matches[t.matches.length-1];return r.route.id||lt(!1),r.route.id}function Xv(){var e;let t=oe.useContext(Xy),r=Yv(),n=rg();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Qv(){let{router:e}=Dv(eg.UseNavigateStable),t=rg(tg.UseNavigateStable),r=oe.useRef(!1);return Jy(()=>{r.current=!0}),oe.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Io({fromRouteId:t},s)))},[e,t])}const Bh={};function Jv(e,t,r){Bh[e]||(Bh[e]=!0)}function e_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Of(e){lt(!1)}function t_(e){let{basename:t="/",children:r=null,location:n,navigationType:i=In.Pop,navigator:s,static:o=!1,future:a}=e;gu()&&lt(!1);let l=t.replace(/^\/*/,"/"),f=oe.useMemo(()=>({basename:l,navigator:s,static:o,future:Io({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=js(n));let{pathname:y="/",search:p="",hash:m="",state:v=null,key:N="default"}=n,k=oe.useMemo(()=>{let O=Yy(y,l);return O==null?null:{location:{pathname:O,search:p,hash:m,state:v,key:N},navigationType:i}},[l,y,p,m,v,N,i]);return k==null?null:oe.createElement(mu.Provider,{value:f},oe.createElement(yu.Provider,{children:r,value:k}))}function r_(e){let{children:t,location:r}=e;return Vv(Uf(t),r)}new Promise(()=>{});function Uf(e,t){t===void 0&&(t=[]);let r=[];return oe.Children.forEach(e,(n,i)=>{if(!oe.isValidElement(n))return;let s=[...t,i];if(n.type===oe.Fragment){r.push.apply(r,Uf(n.props.children,s));return}n.type!==Of&&lt(!1),!n.props.index||!n.props.children||lt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Uf(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const n_="6";try{window.__reactRouterVersion=n_}catch{}const i_="startTransition",Ah=Qw[i_];function s_(e){let{basename:t,children:r,future:n,window:i}=e,s=oe.useRef();s.current==null&&(s.current=cv({window:i,v5Compat:!0}));let o=s.current,[a,l]=oe.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},y=oe.useCallback(p=>{f&&Ah?Ah(()=>l(p)):l(p)},[l,f]);return oe.useLayoutEffect(()=>o.listen(y),[o,y]),oe.useEffect(()=>e_(n),[n]),oe.createElement(t_,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var kh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kh||(kh={}));var Ch;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ch||(Ch={}));var ng={},Zo={};Zo.byteLength=l_;Zo.toByteArray=c_;Zo.fromByteArray=h_;var Mr=[],rr=[],o_=typeof Uint8Array<"u"?Uint8Array:Array,dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ii=0,a_=dc.length;Ii<a_;++Ii)Mr[Ii]=dc[Ii],rr[dc.charCodeAt(Ii)]=Ii;rr[45]=62;rr[95]=63;function ig(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l_(e){var t=ig(e),r=t[0],n=t[1];return(r+n)*3/4-n}function u_(e,t,r){return(t+r)*3/4-r}function c_(e){var t,r=ig(e),n=r[0],i=r[1],s=new o_(u_(e,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=rr[e.charCodeAt(l)]<<18|rr[e.charCodeAt(l+1)]<<12|rr[e.charCodeAt(l+2)]<<6|rr[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=rr[e.charCodeAt(l)]<<2|rr[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=rr[e.charCodeAt(l)]<<10|rr[e.charCodeAt(l+1)]<<4|rr[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function f_(e){return Mr[e>>18&63]+Mr[e>>12&63]+Mr[e>>6&63]+Mr[e&63]}function d_(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(f_(n));return i.join("")}function h_(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(d_(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Mr[t>>2]+Mr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Mr[t>>10]+Mr[t>>4&63]+Mr[t<<2&63]+"=")),i.join("")}var Xo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Xo.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,f=l>>1,y=-7,p=r?i-1:0,m=r?-1:1,v=e[t+p];for(p+=m,s=v&(1<<-y)-1,v>>=-y,y+=a;y>0;s=s*256+e[t+p],p+=m,y-=8);for(o=s&(1<<-y)-1,s>>=-y,y+=n;y>0;o=o*256+e[t+p],p+=m,y-=8);if(s===0)s=1-f;else{if(s===l)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(v?-1:1)*o*Math.pow(2,s-n)};Xo.write=function(e,t,r,n,i,s){var o,a,l,f=s*8-i-1,y=(1<<f)-1,p=y>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,N=n?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=y):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?t+=m/l:t+=m*Math.pow(2,1-p),t*l>=2&&(o++,l/=2),o+p>=y?(a=0,o=y):o+p>=1?(a=(t*l-1)*Math.pow(2,i),o=o+p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=a&255,v+=N,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;e[r+v]=o&255,v+=N,o/=256,f-=8);e[r+v-N]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Zo,r=Xo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const w=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(w,d),w.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const d=new Uint8Array(w);return Object.setPrototypeOf(d,a.prototype),d}function a(w,d,h){if(typeof w=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(w)}return l(w,d,h)}a.poolSize=8192;function l(w,d,h){if(typeof w=="string")return m(w,d);if(ArrayBuffer.isView(w))return N(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Z(w,ArrayBuffer)||w&&Z(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(w,SharedArrayBuffer)||w&&Z(w.buffer,SharedArrayBuffer)))return k(w,d,h);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=w.valueOf&&w.valueOf();if(R!=null&&R!==w)return a.from(R,d,h);const L=O(w);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return a.from(w[Symbol.toPrimitive]("string"),d,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}a.from=function(w,d,h){return l(w,d,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function y(w,d,h){return f(w),w<=0?o(w):d!==void 0?typeof h=="string"?o(w).fill(d,h):o(w).fill(d):o(w)}a.alloc=function(w,d,h){return y(w,d,h)};function p(w){return f(w),o(w<0?0:_(w)|0)}a.allocUnsafe=function(w){return p(w)},a.allocUnsafeSlow=function(w){return p(w)};function m(w,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const h=S(w,d)|0;let R=o(h);const L=R.write(w,d);return L!==h&&(R=R.slice(0,L)),R}function v(w){const d=w.length<0?0:_(w.length)|0,h=o(d);for(let R=0;R<d;R+=1)h[R]=w[R]&255;return h}function N(w){if(Z(w,Uint8Array)){const d=new Uint8Array(w);return k(d.buffer,d.byteOffset,d.byteLength)}return v(w)}function k(w,d,h){if(d<0||w.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<d+(h||0))throw new RangeError('"length" is outside of buffer bounds');let R;return d===void 0&&h===void 0?R=new Uint8Array(w):h===void 0?R=new Uint8Array(w,d):R=new Uint8Array(w,d,h),Object.setPrototypeOf(R,a.prototype),R}function O(w){if(a.isBuffer(w)){const d=_(w.length)|0,h=o(d);return h.length===0||w.copy(h,0,0,d),h}if(w.length!==void 0)return typeof w.length!="number"||ae(w.length)?o(0):v(w);if(w.type==="Buffer"&&Array.isArray(w.data))return v(w.data)}function _(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function x(w){return+w!=w&&(w=0),a.alloc(+w)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,h){if(Z(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),Z(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(d)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===h)return 0;let R=d.length,L=h.length;for(let J=0,Q=Math.min(R,L);J<Q;++J)if(d[J]!==h[J]){R=d[J],L=h[J];break}return R<L?-1:L<R?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,h){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let R;if(h===void 0)for(h=0,R=0;R<d.length;++R)h+=d[R].length;const L=a.allocUnsafe(h);let J=0;for(R=0;R<d.length;++R){let Q=d[R];if(Z(Q,Uint8Array))J+Q.length>L.length?(a.isBuffer(Q)||(Q=a.from(Q)),Q.copy(L,J)):Uint8Array.prototype.set.call(L,Q,J);else if(a.isBuffer(Q))Q.copy(L,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=Q.length}return L};function S(w,d){if(a.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Z(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const h=w.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&h===0)return 0;let L=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return u(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return B(w).length;default:if(L)return R?-1:u(w).length;d=(""+d).toLowerCase(),L=!0}}a.byteLength=S;function j(w,d,h){let R=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,d>>>=0,h<=d))return"";for(w||(w="utf8");;)switch(w){case"hex":return re(this,d,h);case"utf8":case"utf-8":return te(this,d,h);case"ascii":return me(this,d,h);case"latin1":case"binary":return D(this,d,h);case"base64":return q(this,d,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,d,h);default:if(R)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function F(w,d,h){const R=w[d];w[d]=w[h],w[h]=R}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<d;h+=2)F(this,h,h+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<d;h+=4)F(this,h,h+3),F(this,h+1,h+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<d;h+=8)F(this,h,h+7),F(this,h+1,h+6),F(this,h+2,h+5),F(this,h+3,h+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?te(this,0,d):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const h=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(d+=" ... "),"<Buffer "+d+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(d,h,R,L,J){if(Z(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(h===void 0&&(h=0),R===void 0&&(R=d?d.length:0),L===void 0&&(L=0),J===void 0&&(J=this.length),h<0||R>d.length||L<0||J>this.length)throw new RangeError("out of range index");if(L>=J&&h>=R)return 0;if(L>=J)return-1;if(h>=R)return 1;if(h>>>=0,R>>>=0,L>>>=0,J>>>=0,this===d)return 0;let Q=J-L,_e=R-h;const Be=Math.min(Q,_e),Se=this.slice(L,J),ve=d.slice(h,R);for(let Ie=0;Ie<Be;++Ie)if(Se[Ie]!==ve[Ie]){Q=Se[Ie],_e=ve[Ie];break}return Q<_e?-1:_e<Q?1:0};function U(w,d,h,R,L){if(w.length===0)return-1;if(typeof h=="string"?(R=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,ae(h)&&(h=L?0:w.length-1),h<0&&(h=w.length+h),h>=w.length){if(L)return-1;h=w.length-1}else if(h<0)if(L)h=0;else return-1;if(typeof d=="string"&&(d=a.from(d,R)),a.isBuffer(d))return d.length===0?-1:$(w,d,h,R,L);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(w,d,h):Uint8Array.prototype.lastIndexOf.call(w,d,h):$(w,[d],h,R,L);throw new TypeError("val must be string, number or Buffer")}function $(w,d,h,R,L){let J=1,Q=w.length,_e=d.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(w.length<2||d.length<2)return-1;J=2,Q/=2,_e/=2,h/=2}function Be(ve,Ie){return J===1?ve[Ie]:ve.readUInt16BE(Ie*J)}let Se;if(L){let ve=-1;for(Se=h;Se<Q;Se++)if(Be(w,Se)===Be(d,ve===-1?0:Se-ve)){if(ve===-1&&(ve=Se),Se-ve+1===_e)return ve*J}else ve!==-1&&(Se-=Se-ve),ve=-1}else for(h+_e>Q&&(h=Q-_e),Se=h;Se>=0;Se--){let ve=!0;for(let Ie=0;Ie<_e;Ie++)if(Be(w,Se+Ie)!==Be(d,Ie)){ve=!1;break}if(ve)return Se}return-1}a.prototype.includes=function(d,h,R){return this.indexOf(d,h,R)!==-1},a.prototype.indexOf=function(d,h,R){return U(this,d,h,R,!0)},a.prototype.lastIndexOf=function(d,h,R){return U(this,d,h,R,!1)};function G(w,d,h,R){h=Number(h)||0;const L=w.length-h;R?(R=Number(R),R>L&&(R=L)):R=L;const J=d.length;R>J/2&&(R=J/2);let Q;for(Q=0;Q<R;++Q){const _e=parseInt(d.substr(Q*2,2),16);if(ae(_e))return Q;w[h+Q]=_e}return Q}function V(w,d,h,R){return I(u(d,w.length-h),w,h,R)}function P(w,d,h,R){return I(c(d),w,h,R)}function ne(w,d,h,R){return I(B(d),w,h,R)}function ee(w,d,h,R){return I(b(d,w.length-h),w,h,R)}a.prototype.write=function(d,h,R,L){if(h===void 0)L="utf8",R=this.length,h=0;else if(R===void 0&&typeof h=="string")L=h,R=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(R)?(R=R>>>0,L===void 0&&(L="utf8")):(L=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-h;if((R===void 0||R>J)&&(R=J),d.length>0&&(R<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let Q=!1;for(;;)switch(L){case"hex":return G(this,d,h,R);case"utf8":case"utf-8":return V(this,d,h,R);case"ascii":case"latin1":case"binary":return P(this,d,h,R);case"base64":return ne(this,d,h,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,d,h,R);default:if(Q)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),Q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(w,d,h){return d===0&&h===w.length?t.fromByteArray(w):t.fromByteArray(w.slice(d,h))}function te(w,d,h){h=Math.min(w.length,h);const R=[];let L=d;for(;L<h;){const J=w[L];let Q=null,_e=J>239?4:J>223?3:J>191?2:1;if(L+_e<=h){let Be,Se,ve,Ie;switch(_e){case 1:J<128&&(Q=J);break;case 2:Be=w[L+1],(Be&192)===128&&(Ie=(J&31)<<6|Be&63,Ie>127&&(Q=Ie));break;case 3:Be=w[L+1],Se=w[L+2],(Be&192)===128&&(Se&192)===128&&(Ie=(J&15)<<12|(Be&63)<<6|Se&63,Ie>2047&&(Ie<55296||Ie>57343)&&(Q=Ie));break;case 4:Be=w[L+1],Se=w[L+2],ve=w[L+3],(Be&192)===128&&(Se&192)===128&&(ve&192)===128&&(Ie=(J&15)<<18|(Be&63)<<12|(Se&63)<<6|ve&63,Ie>65535&&Ie<1114112&&(Q=Ie))}}Q===null?(Q=65533,_e=1):Q>65535&&(Q-=65536,R.push(Q>>>10&1023|55296),Q=56320|Q&1023),R.push(Q),L+=_e}return de(R)}const se=4096;function de(w){const d=w.length;if(d<=se)return String.fromCharCode.apply(String,w);let h="",R=0;for(;R<d;)h+=String.fromCharCode.apply(String,w.slice(R,R+=se));return h}function me(w,d,h){let R="";h=Math.min(w.length,h);for(let L=d;L<h;++L)R+=String.fromCharCode(w[L]&127);return R}function D(w,d,h){let R="";h=Math.min(w.length,h);for(let L=d;L<h;++L)R+=String.fromCharCode(w[L]);return R}function re(w,d,h){const R=w.length;(!d||d<0)&&(d=0),(!h||h<0||h>R)&&(h=R);let L="";for(let J=d;J<h;++J)L+=ye[w[J]];return L}function ie(w,d,h){const R=w.slice(d,h);let L="";for(let J=0;J<R.length-1;J+=2)L+=String.fromCharCode(R[J]+R[J+1]*256);return L}a.prototype.slice=function(d,h){const R=this.length;d=~~d,h=h===void 0?R:~~h,d<0?(d+=R,d<0&&(d=0)):d>R&&(d=R),h<0?(h+=R,h<0&&(h=0)):h>R&&(h=R),h<d&&(h=d);const L=this.subarray(d,h);return Object.setPrototypeOf(L,a.prototype),L};function W(w,d,h){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+d>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,h,R){d=d>>>0,h=h>>>0,R||W(d,h,this.length);let L=this[d],J=1,Q=0;for(;++Q<h&&(J*=256);)L+=this[d+Q]*J;return L},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,h,R){d=d>>>0,h=h>>>0,R||W(d,h,this.length);let L=this[d+--h],J=1;for(;h>0&&(J*=256);)L+=this[d+--h]*J;return L},a.prototype.readUint8=a.prototype.readUInt8=function(d,h){return d=d>>>0,h||W(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,h){return d=d>>>0,h||W(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,h){return d=d>>>0,h||W(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,h){return d=d>>>0,h||W(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,h){return d=d>>>0,h||W(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=we(function(d){d=d>>>0,K(d,"offset");const h=this[d],R=this[d+7];(h===void 0||R===void 0)&&H(d,this.length-8);const L=h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,J=this[++d]+this[++d]*2**8+this[++d]*2**16+R*2**24;return BigInt(L)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=we(function(d){d=d>>>0,K(d,"offset");const h=this[d],R=this[d+7];(h===void 0||R===void 0)&&H(d,this.length-8);const L=h*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],J=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+R;return(BigInt(L)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(d,h,R){d=d>>>0,h=h>>>0,R||W(d,h,this.length);let L=this[d],J=1,Q=0;for(;++Q<h&&(J*=256);)L+=this[d+Q]*J;return J*=128,L>=J&&(L-=Math.pow(2,8*h)),L},a.prototype.readIntBE=function(d,h,R){d=d>>>0,h=h>>>0,R||W(d,h,this.length);let L=h,J=1,Q=this[d+--L];for(;L>0&&(J*=256);)Q+=this[d+--L]*J;return J*=128,Q>=J&&(Q-=Math.pow(2,8*h)),Q},a.prototype.readInt8=function(d,h){return d=d>>>0,h||W(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,h){d=d>>>0,h||W(d,2,this.length);const R=this[d]|this[d+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(d,h){d=d>>>0,h||W(d,2,this.length);const R=this[d+1]|this[d]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(d,h){return d=d>>>0,h||W(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,h){return d=d>>>0,h||W(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=we(function(d){d=d>>>0,K(d,"offset");const h=this[d],R=this[d+7];(h===void 0||R===void 0)&&H(d,this.length-8);const L=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(R<<24);return(BigInt(L)<<BigInt(32))+BigInt(h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=we(function(d){d=d>>>0,K(d,"offset");const h=this[d],R=this[d+7];(h===void 0||R===void 0)&&H(d,this.length-8);const L=(h<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(L)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+R)}),a.prototype.readFloatLE=function(d,h){return d=d>>>0,h||W(d,4,this.length),r.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,h){return d=d>>>0,h||W(d,4,this.length),r.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,h){return d=d>>>0,h||W(d,8,this.length),r.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,h){return d=d>>>0,h||W(d,8,this.length),r.read(this,d,!1,52,8)};function X(w,d,h,R,L,J){if(!a.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>L||d<J)throw new RangeError('"value" argument is out of bounds');if(h+R>w.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,h,R,L){if(d=+d,h=h>>>0,R=R>>>0,!L){const _e=Math.pow(2,8*R)-1;X(this,d,h,R,_e,0)}let J=1,Q=0;for(this[h]=d&255;++Q<R&&(J*=256);)this[h+Q]=d/J&255;return h+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,h,R,L){if(d=+d,h=h>>>0,R=R>>>0,!L){const _e=Math.pow(2,8*R)-1;X(this,d,h,R,_e,0)}let J=R-1,Q=1;for(this[h+J]=d&255;--J>=0&&(Q*=256);)this[h+J]=d/Q&255;return h+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,1,255,0),this[h]=d&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,2,65535,0),this[h]=d&255,this[h+1]=d>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,2,65535,0),this[h]=d>>>8,this[h+1]=d&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,4,4294967295,0),this[h+3]=d>>>24,this[h+2]=d>>>16,this[h+1]=d>>>8,this[h]=d&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,4,4294967295,0),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4};function he(w,d,h,R,L){M(d,R,L,w,h,7);let J=Number(d&BigInt(4294967295));w[h++]=J,J=J>>8,w[h++]=J,J=J>>8,w[h++]=J,J=J>>8,w[h++]=J;let Q=Number(d>>BigInt(32)&BigInt(4294967295));return w[h++]=Q,Q=Q>>8,w[h++]=Q,Q=Q>>8,w[h++]=Q,Q=Q>>8,w[h++]=Q,h}function T(w,d,h,R,L){M(d,R,L,w,h,7);let J=Number(d&BigInt(4294967295));w[h+7]=J,J=J>>8,w[h+6]=J,J=J>>8,w[h+5]=J,J=J>>8,w[h+4]=J;let Q=Number(d>>BigInt(32)&BigInt(4294967295));return w[h+3]=Q,Q=Q>>8,w[h+2]=Q,Q=Q>>8,w[h+1]=Q,Q=Q>>8,w[h]=Q,h+8}a.prototype.writeBigUInt64LE=we(function(d,h=0){return he(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=we(function(d,h=0){return T(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,h,R,L){if(d=+d,h=h>>>0,!L){const Be=Math.pow(2,8*R-1);X(this,d,h,R,Be-1,-Be)}let J=0,Q=1,_e=0;for(this[h]=d&255;++J<R&&(Q*=256);)d<0&&_e===0&&this[h+J-1]!==0&&(_e=1),this[h+J]=(d/Q>>0)-_e&255;return h+R},a.prototype.writeIntBE=function(d,h,R,L){if(d=+d,h=h>>>0,!L){const Be=Math.pow(2,8*R-1);X(this,d,h,R,Be-1,-Be)}let J=R-1,Q=1,_e=0;for(this[h+J]=d&255;--J>=0&&(Q*=256);)d<0&&_e===0&&this[h+J+1]!==0&&(_e=1),this[h+J]=(d/Q>>0)-_e&255;return h+R},a.prototype.writeInt8=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,1,127,-128),d<0&&(d=255+d+1),this[h]=d&255,h+1},a.prototype.writeInt16LE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,2,32767,-32768),this[h]=d&255,this[h+1]=d>>>8,h+2},a.prototype.writeInt16BE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,2,32767,-32768),this[h]=d>>>8,this[h+1]=d&255,h+2},a.prototype.writeInt32LE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,4,2147483647,-2147483648),this[h]=d&255,this[h+1]=d>>>8,this[h+2]=d>>>16,this[h+3]=d>>>24,h+4},a.prototype.writeInt32BE=function(d,h,R){return d=+d,h=h>>>0,R||X(this,d,h,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4},a.prototype.writeBigInt64LE=we(function(d,h=0){return he(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=we(function(d,h=0){return T(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(w,d,h,R,L,J){if(h+R>w.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function Ee(w,d,h,R,L){return d=+d,h=h>>>0,L||ce(w,d,h,4),r.write(w,d,h,R,23,4),h+4}a.prototype.writeFloatLE=function(d,h,R){return Ee(this,d,h,!0,R)},a.prototype.writeFloatBE=function(d,h,R){return Ee(this,d,h,!1,R)};function be(w,d,h,R,L){return d=+d,h=h>>>0,L||ce(w,d,h,8),r.write(w,d,h,R,52,8),h+8}a.prototype.writeDoubleLE=function(d,h,R){return be(this,d,h,!0,R)},a.prototype.writeDoubleBE=function(d,h,R){return be(this,d,h,!1,R)},a.prototype.copy=function(d,h,R,L){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(R||(R=0),!L&&L!==0&&(L=this.length),h>=d.length&&(h=d.length),h||(h=0),L>0&&L<R&&(L=R),L===R||d.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),d.length-h<L-R&&(L=d.length-h+R);const J=L-R;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,R,L):Uint8Array.prototype.set.call(d,this.subarray(R,L),h),J},a.prototype.fill=function(d,h,R,L){if(typeof d=="string"){if(typeof h=="string"?(L=h,h=0,R=this.length):typeof R=="string"&&(L=R,R=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(d.length===1){const Q=d.charCodeAt(0);(L==="utf8"&&Q<128||L==="latin1")&&(d=Q)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(h<0||this.length<h||this.length<R)throw new RangeError("Out of range index");if(R<=h)return this;h=h>>>0,R=R===void 0?this.length:R>>>0,d||(d=0);let J;if(typeof d=="number")for(J=h;J<R;++J)this[J]=d;else{const Q=a.isBuffer(d)?d:a.from(d,L),_e=Q.length;if(_e===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(J=0;J<R-h;++J)this[J+h]=Q[J%_e]}return this};const fe={};function pe(w,d,h){fe[w]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(w,d){return`The "${w}" argument must be of type number. Received type ${typeof d}`},TypeError),pe("ERR_OUT_OF_RANGE",function(w,d,h){let R=`The value of "${w}" is out of range.`,L=h;return Number.isInteger(h)&&Math.abs(h)>2**32?L=A(String(h)):typeof h=="bigint"&&(L=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(L=A(L)),L+="n"),R+=` It must be ${d}. Received ${L}`,R},RangeError);function A(w){let d="",h=w.length;const R=w[0]==="-"?1:0;for(;h>=R+4;h-=3)d=`_${w.slice(h-3,h)}${d}`;return`${w.slice(0,h)}${d}`}function C(w,d,h){K(d,"offset"),(w[d]===void 0||w[d+h]===void 0)&&H(d,w.length-(h+1))}function M(w,d,h,R,L,J){if(w>h||w<d){const Q=typeof d=="bigint"?"n":"";let _e;throw d===0||d===BigInt(0)?_e=`>= 0${Q} and < 2${Q} ** ${(J+1)*8}${Q}`:_e=`>= -(2${Q} ** ${(J+1)*8-1}${Q}) and < 2 ** ${(J+1)*8-1}${Q}`,new fe.ERR_OUT_OF_RANGE("value",_e,w)}C(R,L,J)}function K(w,d){if(typeof w!="number")throw new fe.ERR_INVALID_ARG_TYPE(d,"number",w)}function H(w,d,h){throw Math.floor(w)!==w?(K(w,h),new fe.ERR_OUT_OF_RANGE("offset","an integer",w)):d<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,w)}const Y=/[^+/0-9A-Za-z-_]/g;function g(w){if(w=w.split("=")[0],w=w.trim().replace(Y,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function u(w,d){d=d||1/0;let h;const R=w.length;let L=null;const J=[];for(let Q=0;Q<R;++Q){if(h=w.charCodeAt(Q),h>55295&&h<57344){if(!L){if(h>56319){(d-=3)>-1&&J.push(239,191,189);continue}else if(Q+1===R){(d-=3)>-1&&J.push(239,191,189);continue}L=h;continue}if(h<56320){(d-=3)>-1&&J.push(239,191,189),L=h;continue}h=(L-55296<<10|h-56320)+65536}else L&&(d-=3)>-1&&J.push(239,191,189);if(L=null,h<128){if((d-=1)<0)break;J.push(h)}else if(h<2048){if((d-=2)<0)break;J.push(h>>6|192,h&63|128)}else if(h<65536){if((d-=3)<0)break;J.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((d-=4)<0)break;J.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return J}function c(w){const d=[];for(let h=0;h<w.length;++h)d.push(w.charCodeAt(h)&255);return d}function b(w,d){let h,R,L;const J=[];for(let Q=0;Q<w.length&&!((d-=2)<0);++Q)h=w.charCodeAt(Q),R=h>>8,L=h%256,J.push(L),J.push(R);return J}function B(w){return t.toByteArray(g(w))}function I(w,d,h,R){let L;for(L=0;L<R&&!(L+h>=d.length||L>=w.length);++L)d[L+h]=w[L];return L}function Z(w,d){return w instanceof d||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===d.name}function ae(w){return w!==w}const ye=function(){const w="0123456789abcdef",d=new Array(256);for(let h=0;h<16;++h){const R=h*16;for(let L=0;L<16;++L)d[R+L]=w[h]+w[L]}return d}();function we(w){return typeof BigInt>"u"?Ne:w}function Ne(){throw new Error("BigInt not supported")}})(ng);var Ff;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Ff||(Ff={}));const p_="modulepreload",m_=function(e){return"/"+e},Rh={},y_=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=m_(l),l in Rh)return;Rh[l]=!0;const f=l.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${y}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":p_,f||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),f)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ml="abcdefghijklmnopqrstuvwxyz234567",As=Object.create(null);for(let e=0;e<Ml.length;e++)As[Ml[e]]=e;As[0]=As.o;As[1]=As.i;function g_(e){let t=0,r=0,n="";function i(s){return t<0?r|=s>>-t:r=s<<t&248,t>3?(t-=8,1):(t<4&&(n+=Ml[r>>3],t+=5),0)}for(let s=0;s<e.length;)s+=i(e[s]);return n+(t<0?Ml[r>>3]:"")}function w_(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let i=0;function s(o){let a=As[o.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);a<<=3,r|=a>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=a<<5-t&255:r=0)}for(const o of e)s(o);return n.slice(0,i)}const x_=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function v_(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const s=(t[n]^r)&255;r=x_[s]^r>>>8}return(r^-1)>>>0}const ji=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function __(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function fr(e,...t){if(!Qo(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Oh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function b_(e,t){fr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function jo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function hc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kr(e,t){return e<<32-t|e>>>t}const sg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ks(e){if(fr(e),sg)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=E_[e[r]];return t}const Hr={_0:48,_9:57,A:65,F:70,a:97,f:102};function Uh(e){if(e>=Hr._0&&e<=Hr._9)return e-Hr._0;if(e>=Hr.A&&e<=Hr.F)return e-(Hr.A-10);if(e>=Hr.a&&e<=Hr.f)return e-(Hr.a-10)}function og(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(sg)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Uh(e.charCodeAt(s)),a=Uh(e.charCodeAt(s+1));if(o===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function Jo(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ag(e){return typeof e=="string"&&(e=Jo(e)),fr(e),e}function tt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];fr(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class S_{}function Dd(e){const t=n=>e().update(ag(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function lg(e=32){if(ji&&typeof ji.getRandomValues=="function")return ji.getRandomValues(new Uint8Array(e));if(ji&&typeof ji.randomBytes=="function")return Uint8Array.from(ji.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function N_(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,f=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+f,a,n)}function T_(e,t,r){return e&t^~e&r}function B_(e,t,r){return e&t^e&r^t&r}class ug extends S_{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=hc(this.buffer)}update(t){Oh(this),t=ag(t),fr(t);const{view:r,buffer:n,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=hc(t);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Oh(this),b_(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,jo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let p=o;p<i;p++)r[p]=0;N_(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=hc(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=l/4,y=this.get();if(f>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,y[p],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const gn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wn=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Nt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Sa=BigInt(2**32-1),Fh=BigInt(32);function A_(e,t=!1){return t?{h:Number(e&Sa),l:Number(e>>Fh&Sa)}:{h:Number(e>>Fh&Sa)|0,l:Number(e&Sa)|0}}function k_(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=A_(e[s],t);[n[s],i[s]]=[o,a]}return[n,i]}const Ih=(e,t,r)=>e>>>r,jh=(e,t,r)=>e<<32-r|t>>>r,Pi=(e,t,r)=>e>>>r|t<<32-r,Mi=(e,t,r)=>e<<32-r|t>>>r,Na=(e,t,r)=>e<<64-r|t>>>r-32,Ta=(e,t,r)=>e>>>r-32|t<<64-r;function qr(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const C_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),R_=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,O_=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),U_=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,F_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),I_=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,j_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xn=new Uint32Array(64);class cg extends ug{constructor(t=32){super(64,t,8,!1),this.A=gn[0]|0,this.B=gn[1]|0,this.C=gn[2]|0,this.D=gn[3]|0,this.E=gn[4]|0,this.F=gn[5]|0,this.G=gn[6]|0,this.H=gn[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[t,r,n,i,s,o,a,l]}set(t,r,n,i,s,o,a,l){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,r){for(let p=0;p<16;p++,r+=4)xn[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const m=xn[p-15],v=xn[p-2],N=kr(m,7)^kr(m,18)^m>>>3,k=kr(v,17)^kr(v,19)^v>>>10;xn[p]=k+xn[p-7]+N+xn[p-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:f,H:y}=this;for(let p=0;p<64;p++){const m=kr(a,6)^kr(a,11)^kr(a,25),v=y+m+T_(a,l,f)+j_[p]+xn[p]|0,k=(kr(n,2)^kr(n,13)^kr(n,22))+B_(n,i,s)|0;y=f,f=l,l=a,a=o+v|0,o=s,s=i,i=n,n=v+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,f=f+this.G|0,y=y+this.H|0,this.set(n,i,s,o,a,l,f,y)}roundClean(){jo(xn)}destroy(){this.set(0,0,0,0,0,0,0,0),jo(this.buffer)}}class P_ extends cg{constructor(){super(28),this.A=wn[0]|0,this.B=wn[1]|0,this.C=wn[2]|0,this.D=wn[3]|0,this.E=wn[4]|0,this.F=wn[5]|0,this.G=wn[6]|0,this.H=wn[7]|0}}const fg=k_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),M_=fg[0],$_=fg[1],vn=new Uint32Array(80),_n=new Uint32Array(80);class z_ extends ug{constructor(t=64){super(128,t,16,!1),this.Ah=Nt[0]|0,this.Al=Nt[1]|0,this.Bh=Nt[2]|0,this.Bl=Nt[3]|0,this.Ch=Nt[4]|0,this.Cl=Nt[5]|0,this.Dh=Nt[6]|0,this.Dl=Nt[7]|0,this.Eh=Nt[8]|0,this.El=Nt[9]|0,this.Fh=Nt[10]|0,this.Fl=Nt[11]|0,this.Gh=Nt[12]|0,this.Gl=Nt[13]|0,this.Hh=Nt[14]|0,this.Hl=Nt[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:f,El:y,Fh:p,Fl:m,Gh:v,Gl:N,Hh:k,Hl:O}=this;return[t,r,n,i,s,o,a,l,f,y,p,m,v,N,k,O]}set(t,r,n,i,s,o,a,l,f,y,p,m,v,N,k,O){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=f|0,this.El=y|0,this.Fh=p|0,this.Fl=m|0,this.Gh=v|0,this.Gl=N|0,this.Hh=k|0,this.Hl=O|0}process(t,r){for(let S=0;S<16;S++,r+=4)vn[S]=t.getUint32(r),_n[S]=t.getUint32(r+=4);for(let S=16;S<80;S++){const j=vn[S-15]|0,F=_n[S-15]|0,U=Pi(j,F,1)^Pi(j,F,8)^Ih(j,F,7),$=Mi(j,F,1)^Mi(j,F,8)^jh(j,F,7),G=vn[S-2]|0,V=_n[S-2]|0,P=Pi(G,V,19)^Na(G,V,61)^Ih(G,V,6),ne=Mi(G,V,19)^Ta(G,V,61)^jh(G,V,6),ee=O_($,ne,_n[S-7],_n[S-16]),q=U_(ee,U,P,vn[S-7],vn[S-16]);vn[S]=q|0,_n[S]=ee|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:f,Dl:y,Eh:p,El:m,Fh:v,Fl:N,Gh:k,Gl:O,Hh:_,Hl:x}=this;for(let S=0;S<80;S++){const j=Pi(p,m,14)^Pi(p,m,18)^Na(p,m,41),F=Mi(p,m,14)^Mi(p,m,18)^Ta(p,m,41),U=p&v^~p&k,$=m&N^~m&O,G=F_(x,F,$,$_[S],_n[S]),V=I_(G,_,j,U,M_[S],vn[S]),P=G|0,ne=Pi(n,i,28)^Na(n,i,34)^Na(n,i,39),ee=Mi(n,i,28)^Ta(n,i,34)^Ta(n,i,39),q=n&s^n&a^s&a,te=i&o^i&l^o&l;_=k|0,x=O|0,k=v|0,O=N|0,v=p|0,N=m|0,{h:p,l:m}=qr(f|0,y|0,V|0,P|0),f=a|0,y=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const se=C_(P,ee,te);n=R_(se,V,ne,q),i=se|0}({h:n,l:i}=qr(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=qr(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=qr(this.Ch|0,this.Cl|0,a|0,l|0),{h:f,l:y}=qr(this.Dh|0,this.Dl|0,f|0,y|0),{h:p,l:m}=qr(this.Eh|0,this.El|0,p|0,m|0),{h:v,l:N}=qr(this.Fh|0,this.Fl|0,v|0,N|0),{h:k,l:O}=qr(this.Gh|0,this.Gl|0,k|0,O|0),{h:_,l:x}=qr(this.Hh|0,this.Hl|0,_|0,x|0),this.set(n,i,s,o,a,l,f,y,p,m,v,N,k,O,_,x)}roundClean(){jo(vn,_n)}destroy(){jo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dg=Dd(()=>new cg),V_=Dd(()=>new P_),L_=Dd(()=>new z_),H_=dg,q_=V_;function G_(e){return q_.create().update(new Uint8Array(e)).digest()}const Ba="__principal__",W_=2,Ph=4,K_="aaaaa-aa",D_=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},Y_=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let Te=class Ka{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Ph]))}static managementCanister(){return this.fromText(K_)}static selfAuthenticating(t){const r=G_(t);return new this(new Uint8Array([...r,W_]))}static from(t){if(typeof t=="string")return Ka.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Ka(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Ka(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(D_(t))}static fromText(t){let r=t;if(t.includes(Ba)){const o=JSON.parse(t);Ba in o&&(r=o[Ba])}const n=r.toLowerCase().replace(/-/g,"");let i=w_(n);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==r)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return s}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Ph}toUint8Array(){return this._arr}toHex(){return Y_(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,v_(this._arr));const n=new Uint8Array(t),i=Uint8Array.from(this._arr),s=new Uint8Array([...n,...i]),a=g_(s).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[Ba]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function Nr(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function Ge(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const Z_=new RegExp(/^[0-9a-fA-F]+$/);function an(e){if(!Z_.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function hg(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function ea(e,t){return hg(e,t)===0}function yo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function en(e){return e instanceof Uint8Array?yo(e):e instanceof ArrayBuffer?e:Array.isArray(e)?yo(new Uint8Array(e)):"buffer"in e?en(e.buffer):yo(new Uint8Array(e))}class Xe extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=Xe.prototype,Object.setPrototypeOf(this,Xe.prototype)}}function je(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class Ms{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=Ei(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return Ei(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function pc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Ei(e){return e instanceof Uint8Array?pc(e):e instanceof ArrayBuffer?e:Array.isArray(e)?pc(new Uint8Array(e)):"buffer"in e?Ei(e.buffer):pc(new Uint8Array(e))}function X_(e){const r=new TextEncoder().encode(e);let n=0;for(const i of r)n=(n*223+i)%2**32;return n}function $r(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return X_(e)}function pg(){throw new Error("unexpected end of buffer")}function Si(e,t){return e.byteLength<t&&pg(),e.read(t)}function Ni(e){const t=e.readUint8();return t===void 0&&pg(),t}function Qe(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Ms(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function ht(e){let t=BigInt(1),r=BigInt(0),n;do n=Ni(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function ut(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Ms(new ArrayBuffer(r),0);for(;;){const s=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&s&64||!t&&e===BigInt(0)&&!(s&64)){n.write(new Uint8Array([s]));break}else n.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(t?BigInt(128)-o-BigInt(1):o)}return n.buffer}function En(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return ht(e);break}const n=new Uint8Array(Si(e,r+1));let i=BigInt(0);for(let s=n.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(n[s]&127)-1);return-i-BigInt(1)}function Q_(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return mg(e,t)}function mg(e,t){e=BigInt(e);const r=new Ms(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),s=BigInt(0),o=Number(e%i);for(r.write(new Uint8Array([o]));++n<t;)e<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((e/i-s)%BigInt(256)),r.write(new Uint8Array([o])),i*=BigInt(256);return r.buffer}function yg(e,t){let r=BigInt(Ni(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);const s=BigInt(Ni(e));r=r+n*s}return r}function J_(e,t){let r=yg(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function If(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Da="DIDL",Mh=400;function Po(e,t,r){return e.map((n,i)=>r(n,t[i]))}class eb{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){const t=Qe(this._typs.length),r=je(...this._typs);return je(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return ut(this._idx.get(t)||0)}}class tb{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const i=r.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(t,i,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class wu{display(){return this.name}valueToString(t){return rt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class hr extends wu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Qn extends wu{checkType(t){if(t instanceof pn){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class gg extends hr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return ut(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class wg extends wu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let i;return r instanceof pn?i=()=>r.getType():i=()=>r,Object.defineProperty(n,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class xg extends hr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return ut(-2)}decodeValue(t,r){switch(this.checkType(r),Ni(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class $l extends hr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ut(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class Cs extends hr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ut(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class vg extends hr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=Qe(r.byteLength);return je(n,r)}encodeType(){return ut(-15)}decodeValue(t,r){this.checkType(r);const n=ht(t),i=Si(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class _g extends hr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return ut(t)}encodeType(){return ut(-4)}decodeValue(t,r){return this.checkType(r),En(t)}get name(){return"int"}valueToString(t){return t.toString()}}class bg extends hr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return Qe(t)}encodeType(){return ut(-3)}decodeValue(t,r){return this.checkType(r),ht(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class Yd extends hr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return ut(t)}decodeValue(t,r){this.checkType(r);const n=Si(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Ti extends hr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=If(this._bits-1)*BigInt(-1),n=If(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){const s=BigInt(t);i=s>=r&&s<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return mg(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ut(-9-t)}decodeValue(t,r){this.checkType(r);const n=J_(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Gn extends hr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=If(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return Q_(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ut(-5-t)}decodeValue(t,r){this.checkType(r);const n=yg(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class xu extends Qn{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Gn&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof Gn?this._type._bits:this._type instanceof Ti?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=Qe(t.length);if(this._blobOptimization)return je(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return je(r,new Uint8Array(t.buffer));const n=new Ms(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const i of t){const s=this._type.encodeValue(i);n.write(new Uint8Array(s))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=ut(-19),n=this._type.encodeType(t);t.add(this,je(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof xu))throw new Error("Not a vector type");const i=Number(ht(t));if(this._type instanceof Gn){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof Ti){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(t,n._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class Bi extends Qn{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${rt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):je(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=ut(-18),n=this._type.encodeType(t);t.add(this,je(r,n))}decodeValue(t,r){if(r instanceof $l)return[];if(r instanceof Cs)return[];let n=r;if(r instanceof pn){const i=r.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");n=i}if(n instanceof Bi)switch(Ni(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(i),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof $l||this._type instanceof Bi||this._type instanceof Cs)return n.decodeValue(t,n),[];{const i=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(i),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class ta extends Qn{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>$r(r[0])-$r(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=this._fields.map(([i])=>t[i]),n=Po(this._fields,r,([,i],s)=>i.encodeValue(s));return je(...n)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const r=ut(-20),n=Qe(this._fields.length),i=this._fields.map(([s,o])=>je(Qe($r(s)),o.encodeType(t)));t.add(this,je(r,n,je(...i)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof ta))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<n._fields.length;){const[a,l]=n._fields[o];if(s>=this._fields.length){l.decodeValue(t,l),o++;continue}const[f,y]=this._fields[s],p=$r(this._fields[s][0]),m=$r(a);if(p===m)i[f]=y.decodeValue(t,l),s++,o++;else if(m>p)if(y instanceof Bi||y instanceof Cs)i[f]=[],s++;else throw new Error("Cannot find required field "+f);else l.decodeValue(t,l),o++}for(const[a,l]of this._fields.slice(s))if(l instanceof Bi||l instanceof Cs)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([i])=>t[i]);return`record {${Po(this._fields,r,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class vu extends ta{constructor(t){const r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=Po(this._components,t,(n,i)=>n.encodeValue(i));return je(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof vu))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of n._components.entries())s>=this._components.length?o.decodeValue(t,o):i.push(this._components[s].decodeValue(t,o));return i}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Po(this._components,t,(n,i)=>n.valueToString(i)).join("; ")}}`}}class _u extends Qn{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>$r(r[0])-$r(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(t.hasOwnProperty(n)){const s=Qe(r),o=i.encodeValue(t[n]);return je(s,o)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,s])=>{s.buildTypeTable(t)});const r=ut(-21),n=Qe(this._fields.length),i=this._fields.map(([s,o])=>je(Qe($r(s)),o.encodeType(t)));t.add(this,je(r,n,...i))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof _u))throw new Error("Not a variant type");const i=Number(ht(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=n._fields[i];for(const[a,l]of this._fields)if($r(s)===$r(a)){const f=l.decodeValue(t,o);return{[a]:f}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}}class pn extends Qn{constructor(){super(...arguments),this._id=pn._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}pn._counter=0;function Zd(e){if(Ni(e)!==1)throw new Error("Cannot decode principal");const r=Number(ht(e));return Te.fromUint8Array(new Uint8Array(Si(e,r)))}class Eg extends hr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=Qe(r.byteLength);return je(new Uint8Array([1]),n,r)}encodeType(){return ut(-24)}decodeValue(t,r){return this.checkType(r),Zd(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class Xd extends Qn{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),i=Qe(n.byteLength),s=je(new Uint8Array([1]),i,n),o=new TextEncoder().encode(r),a=Qe(o.byteLength);return je(new Uint8Array([1]),s,a,o)}_buildTypeTableImpl(t){this.argTypes.forEach(f=>f.buildTypeTable(t)),this.retTypes.forEach(f=>f.buildTypeTable(t));const r=ut(-22),n=Qe(this.argTypes.length),i=je(...this.argTypes.map(f=>f.encodeType(t))),s=Qe(this.retTypes.length),o=je(...this.retTypes.map(f=>f.encodeType(t))),a=Qe(this.annotations.length),l=je(...this.annotations.map(f=>this.encodeAnnotation(f)));t.add(this,je(r,n,i,s,o,a,l))}decodeValue(t){if(Ni(t)!==1)throw new Error("Cannot decode function reference");const n=Zd(t),i=Number(ht(t)),s=Si(t,i),a=new TextDecoder("utf8",{fatal:!0}).decode(s);return[n,a]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Sg extends Qn{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=Qe(r.length);return je(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const r=ut(-23),n=Qe(this._fields.length),i=this._fields.map(([s,o])=>{const a=new TextEncoder().encode(s),l=Qe(a.length);return je(l,a,o.encodeType(t))});t.add(this,je(r,n,...i))}decodeValue(t){return Zd(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function rt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Mh?t.substring(0,Mh-3)+"...":t}function jf(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new eb;e.forEach(l=>l.buildTypeTable(r));const n=new TextEncoder().encode(Da),i=r.encode(),s=Qe(t.length),o=je(...e.map(l=>l.encodeType(r))),a=je(...Po(e,t,(l,f)=>{try{l.covariant(f)}catch(y){throw new Error(y.message+`

`)}return l.encodeValue(f)}));return je(n,i,s,o,a)}function Ng(e,t){const r=new Ms(t);if(t.byteLength<Da.length)throw new Error("Message length smaller than magic number");const n=Si(r,Da.length),i=new TextDecoder().decode(n);if(i!==Da)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(v){const N=[],k=Number(ht(v));for(let x=0;x<k;x++){const S=Number(En(v));switch(S){case-18:case-19:{const j=Number(En(v));N.push([S,j]);break}case-20:case-21:{const j=[];let F=Number(ht(v)),U;for(;F--;){const $=Number(ht(v));if($>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof U=="number"&&U>=$)throw new Error("field id collision or not sorted");U=$;const G=Number(En(v));j.push([$,G])}N.push([S,j]);break}case-22:{const j=[];let F=Number(ht(v));for(;F--;)j.push(Number(En(v)));const U=[];let $=Number(ht(v));for(;$--;)U.push(Number(En(v)));const G=[];let V=Number(ht(v));for(;V--;)switch(Number(ht(v))){case 1:{G.push("query");break}case 2:{G.push("oneway");break}case 3:{G.push("composite_query");break}default:throw new Error("unknown annotation")}N.push([S,[j,U,G]]);break}case-23:{let j=Number(ht(v));const F=[];for(;j--;){const U=Number(ht(v)),$=new TextDecoder().decode(Si(v,U)),G=En(v);F.push([$,G])}N.push([S,F]);break}default:throw new Error("Illegal op_code: "+S)}}const O=[],_=Number(ht(v));for(let x=0;x<_;x++)O.push(Number(En(v)));return[N,O]}const[o,a]=s(r);if(a.length<e.length)throw new Error("Wrong number of return values");const l=o.map(v=>Yg());function f(v){if(v<-24)throw new Error("future value not supported");if(v<0)switch(v){case-1:return kg;case-2:return Ag;case-3:return Og;case-4:return Rg;case-5:return $g;case-6:return zg;case-7:return Vg;case-8:return Lg;case-9:return Ig;case-10:return jg;case-11:return Pg;case-12:return Mg;case-13:return Ug;case-14:return Fg;case-15:return Cg;case-16:return Bg;case-17:return Tg;case-24:return Hg;default:throw new Error("Illegal op_code: "+v)}if(v>=o.length)throw new Error("type index out of range");return l[v]}function y(v){switch(v[0]){case-19:{const N=f(v[1]);return Gg(N)}case-18:{const N=f(v[1]);return Wg(N)}case-20:{const N={};for(const[_,x]of v[1]){const S=`_${_}_`;N[S]=f(x)}const k=Kg(N),O=k.tryAsTuple();return Array.isArray(O)?qg(...O):k}case-21:{const N={};for(const[k,O]of v[1]){const _=`_${k}_`;N[_]=f(O)}return Dg(N)}case-22:{const[N,k,O]=v[1];return Zg(N.map(_=>f(_)),k.map(_=>f(_)),O)}case-23:{const N={},k=v[1];for(const[O,_]of k){let x=f(_);if(x instanceof pn&&(x=x.getType()),!(x instanceof Xd))throw new Error("Illegal service definition: services can only contain functions");N[O]=x}return Xg(N)}default:throw new Error("Illegal op_code: "+v[0])}}o.forEach((v,N)=>{if(v[0]===-22){const k=y(v);l[N].fill(k)}}),o.forEach((v,N)=>{if(v[0]!==-22){const k=y(v);l[N].fill(k)}});const p=a.map(v=>f(v)),m=e.map((v,N)=>v.decodeValue(r,p[N]));for(let v=e.length;v<p.length;v++)p[v].decodeValue(r,p[v]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return m}const Tg=new gg,Bg=new Cs,rb=new wg,Ag=new xg,kg=new $l,Cg=new vg,Rg=new _g,Og=new bg,Ug=new Yd(32),Fg=new Yd(64),Ig=new Ti(8),jg=new Ti(16),Pg=new Ti(32),Mg=new Ti(64),$g=new Gn(8),zg=new Gn(16),Vg=new Gn(32),Lg=new Gn(64),Hg=new Eg;function qg(...e){return new vu(e)}function Gg(e){return new xu(e)}function Wg(e){return new Bi(e)}function Kg(e){return new ta(e)}function Dg(e){return new _u(e)}function Yg(){return new pn}function Zg(e,t,r=[]){return new Xd(e,t,r)}function Xg(e){return new Sg(e)}const nb=Object.freeze(Object.defineProperty({__proto__:null,Bool:Ag,BoolClass:xg,ConstructType:Qn,Empty:Tg,EmptyClass:gg,FixedIntClass:Ti,FixedNatClass:Gn,Float32:Ug,Float64:Fg,FloatClass:Yd,Func:Zg,FuncClass:Xd,Int:Rg,Int16:jg,Int32:Pg,Int64:Mg,Int8:Ig,IntClass:_g,Nat:Og,Nat16:zg,Nat32:Vg,Nat64:Lg,Nat8:$g,NatClass:bg,Null:kg,NullClass:$l,Opt:Wg,OptClass:Bi,PrimitiveType:hr,Principal:Hg,PrincipalClass:Eg,Rec:Yg,RecClass:pn,Record:Kg,RecordClass:ta,Reserved:Bg,ReservedClass:Cs,Service:Xg,ServiceClass:Sg,Text:Cg,TextClass:vg,Tuple:qg,TupleClass:vu,Type:wu,Unknown:rb,UnknownClass:wg,Variant:Dg,VariantClass:_u,Vec:Gg,VecClass:xu,Visitor:tb,decode:Ng,encode:jf},Symbol.toStringTag,{value:"Module"}));var Qg={},ra={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Zo,r=Xo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var g=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(g,u),g.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');var u=new Uint8Array(g);return Object.setPrototypeOf(u,a.prototype),u}function a(g,u,c){if(typeof g=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(g)}return l(g,u,c)}a.poolSize=8192;function l(g,u,c){if(typeof g=="string")return m(g,u);if(ArrayBuffer.isView(g))return N(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(K(g,ArrayBuffer)||g&&K(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(g,SharedArrayBuffer)||g&&K(g.buffer,SharedArrayBuffer)))return k(g,u,c);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var b=g.valueOf&&g.valueOf();if(b!=null&&b!==g)return a.from(b,u,c);var B=O(g);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return a.from(g[Symbol.toPrimitive]("string"),u,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}a.from=function(g,u,c){return l(g,u,c)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function y(g,u,c){return f(g),g<=0?o(g):u!==void 0?typeof c=="string"?o(g).fill(u,c):o(g).fill(u):o(g)}a.alloc=function(g,u,c){return y(g,u,c)};function p(g){return f(g),o(g<0?0:_(g)|0)}a.allocUnsafe=function(g){return p(g)},a.allocUnsafeSlow=function(g){return p(g)};function m(g,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var c=S(g,u)|0,b=o(c),B=b.write(g,u);return B!==c&&(b=b.slice(0,B)),b}function v(g){for(var u=g.length<0?0:_(g.length)|0,c=o(u),b=0;b<u;b+=1)c[b]=g[b]&255;return c}function N(g){if(K(g,Uint8Array)){var u=new Uint8Array(g);return k(u.buffer,u.byteOffset,u.byteLength)}return v(g)}function k(g,u,c){if(u<0||g.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<u+(c||0))throw new RangeError('"length" is outside of buffer bounds');var b;return u===void 0&&c===void 0?b=new Uint8Array(g):c===void 0?b=new Uint8Array(g,u):b=new Uint8Array(g,u,c),Object.setPrototypeOf(b,a.prototype),b}function O(g){if(a.isBuffer(g)){var u=_(g.length)|0,c=o(u);return c.length===0||g.copy(c,0,0,u),c}if(g.length!==void 0)return typeof g.length!="number"||H(g.length)?o(0):v(g);if(g.type==="Buffer"&&Array.isArray(g.data))return v(g.data)}function _(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function x(g){return+g!=g&&(g=0),a.alloc(+g)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,c){if(K(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),K(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(u)||!a.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===c)return 0;for(var b=u.length,B=c.length,I=0,Z=Math.min(b,B);I<Z;++I)if(u[I]!==c[I]){b=u[I],B=c[I];break}return b<B?-1:B<b?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,c){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);var b;if(c===void 0)for(c=0,b=0;b<u.length;++b)c+=u[b].length;var B=a.allocUnsafe(c),I=0;for(b=0;b<u.length;++b){var Z=u[b];if(K(Z,Uint8Array))I+Z.length>B.length?a.from(Z).copy(B,I):Uint8Array.prototype.set.call(B,Z,I);else if(a.isBuffer(Z))Z.copy(B,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=Z.length}return B};function S(g,u){if(a.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||K(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);var c=g.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&c===0)return 0;for(var B=!1;;)switch(u){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return fe(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return C(g).length;default:if(B)return b?-1:fe(g).length;u=(""+u).toLowerCase(),B=!0}}a.byteLength=S;function j(g,u,c){var b=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,u>>>=0,c<=u))return"";for(g||(g="utf8");;)switch(g){case"hex":return re(this,u,c);case"utf8":case"utf-8":return te(this,u,c);case"ascii":return me(this,u,c);case"latin1":case"binary":return D(this,u,c);case"base64":return q(this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,u,c);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),b=!0}}a.prototype._isBuffer=!0;function F(g,u,c){var b=g[u];g[u]=g[c],g[c]=b}a.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<u;c+=2)F(this,c,c+1);return this},a.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<u;c+=4)F(this,c,c+3),F(this,c+1,c+2);return this},a.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<u;c+=8)F(this,c,c+7),F(this,c+1,c+6),F(this,c+2,c+5),F(this,c+3,c+4);return this},a.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?te(this,0,u):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){var u="",c=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(u+=" ... "),"<Buffer "+u+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(u,c,b,B,I){if(K(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(c===void 0&&(c=0),b===void 0&&(b=u?u.length:0),B===void 0&&(B=0),I===void 0&&(I=this.length),c<0||b>u.length||B<0||I>this.length)throw new RangeError("out of range index");if(B>=I&&c>=b)return 0;if(B>=I)return-1;if(c>=b)return 1;if(c>>>=0,b>>>=0,B>>>=0,I>>>=0,this===u)return 0;for(var Z=I-B,ae=b-c,ye=Math.min(Z,ae),we=this.slice(B,I),Ne=u.slice(c,b),w=0;w<ye;++w)if(we[w]!==Ne[w]){Z=we[w],ae=Ne[w];break}return Z<ae?-1:ae<Z?1:0};function U(g,u,c,b,B){if(g.length===0)return-1;if(typeof c=="string"?(b=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,H(c)&&(c=B?0:g.length-1),c<0&&(c=g.length+c),c>=g.length){if(B)return-1;c=g.length-1}else if(c<0)if(B)c=0;else return-1;if(typeof u=="string"&&(u=a.from(u,b)),a.isBuffer(u))return u.length===0?-1:$(g,u,c,b,B);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(g,u,c):Uint8Array.prototype.lastIndexOf.call(g,u,c):$(g,[u],c,b,B);throw new TypeError("val must be string, number or Buffer")}function $(g,u,c,b,B){var I=1,Z=g.length,ae=u.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(g.length<2||u.length<2)return-1;I=2,Z/=2,ae/=2,c/=2}function ye(h,R){return I===1?h[R]:h.readUInt16BE(R*I)}var we;if(B){var Ne=-1;for(we=c;we<Z;we++)if(ye(g,we)===ye(u,Ne===-1?0:we-Ne)){if(Ne===-1&&(Ne=we),we-Ne+1===ae)return Ne*I}else Ne!==-1&&(we-=we-Ne),Ne=-1}else for(c+ae>Z&&(c=Z-ae),we=c;we>=0;we--){for(var w=!0,d=0;d<ae;d++)if(ye(g,we+d)!==ye(u,d)){w=!1;break}if(w)return we}return-1}a.prototype.includes=function(u,c,b){return this.indexOf(u,c,b)!==-1},a.prototype.indexOf=function(u,c,b){return U(this,u,c,b,!0)},a.prototype.lastIndexOf=function(u,c,b){return U(this,u,c,b,!1)};function G(g,u,c,b){c=Number(c)||0;var B=g.length-c;b?(b=Number(b),b>B&&(b=B)):b=B;var I=u.length;b>I/2&&(b=I/2);for(var Z=0;Z<b;++Z){var ae=parseInt(u.substr(Z*2,2),16);if(H(ae))return Z;g[c+Z]=ae}return Z}function V(g,u,c,b){return M(fe(u,g.length-c),g,c,b)}function P(g,u,c,b){return M(pe(u),g,c,b)}function ne(g,u,c,b){return M(C(u),g,c,b)}function ee(g,u,c,b){return M(A(u,g.length-c),g,c,b)}a.prototype.write=function(u,c,b,B){if(c===void 0)B="utf8",b=this.length,c=0;else if(b===void 0&&typeof c=="string")B=c,b=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(b)?(b=b>>>0,B===void 0&&(B="utf8")):(B=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var I=this.length-c;if((b===void 0||b>I)&&(b=I),u.length>0&&(b<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var Z=!1;;)switch(B){case"hex":return G(this,u,c,b);case"utf8":case"utf-8":return V(this,u,c,b);case"ascii":case"latin1":case"binary":return P(this,u,c,b);case"base64":return ne(this,u,c,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,u,c,b);default:if(Z)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),Z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(g,u,c){return u===0&&c===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(u,c))}function te(g,u,c){c=Math.min(g.length,c);for(var b=[],B=u;B<c;){var I=g[B],Z=null,ae=I>239?4:I>223?3:I>191?2:1;if(B+ae<=c){var ye,we,Ne,w;switch(ae){case 1:I<128&&(Z=I);break;case 2:ye=g[B+1],(ye&192)===128&&(w=(I&31)<<6|ye&63,w>127&&(Z=w));break;case 3:ye=g[B+1],we=g[B+2],(ye&192)===128&&(we&192)===128&&(w=(I&15)<<12|(ye&63)<<6|we&63,w>2047&&(w<55296||w>57343)&&(Z=w));break;case 4:ye=g[B+1],we=g[B+2],Ne=g[B+3],(ye&192)===128&&(we&192)===128&&(Ne&192)===128&&(w=(I&15)<<18|(ye&63)<<12|(we&63)<<6|Ne&63,w>65535&&w<1114112&&(Z=w))}}Z===null?(Z=65533,ae=1):Z>65535&&(Z-=65536,b.push(Z>>>10&1023|55296),Z=56320|Z&1023),b.push(Z),B+=ae}return de(b)}var se=4096;function de(g){var u=g.length;if(u<=se)return String.fromCharCode.apply(String,g);for(var c="",b=0;b<u;)c+=String.fromCharCode.apply(String,g.slice(b,b+=se));return c}function me(g,u,c){var b="";c=Math.min(g.length,c);for(var B=u;B<c;++B)b+=String.fromCharCode(g[B]&127);return b}function D(g,u,c){var b="";c=Math.min(g.length,c);for(var B=u;B<c;++B)b+=String.fromCharCode(g[B]);return b}function re(g,u,c){var b=g.length;(!u||u<0)&&(u=0),(!c||c<0||c>b)&&(c=b);for(var B="",I=u;I<c;++I)B+=Y[g[I]];return B}function ie(g,u,c){for(var b=g.slice(u,c),B="",I=0;I<b.length-1;I+=2)B+=String.fromCharCode(b[I]+b[I+1]*256);return B}a.prototype.slice=function(u,c){var b=this.length;u=~~u,c=c===void 0?b:~~c,u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),c<0?(c+=b,c<0&&(c=0)):c>b&&(c=b),c<u&&(c=u);var B=this.subarray(u,c);return Object.setPrototypeOf(B,a.prototype),B};function W(g,u,c){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+u>c)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,c,b){u=u>>>0,c=c>>>0,b||W(u,c,this.length);for(var B=this[u],I=1,Z=0;++Z<c&&(I*=256);)B+=this[u+Z]*I;return B},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,c,b){u=u>>>0,c=c>>>0,b||W(u,c,this.length);for(var B=this[u+--c],I=1;c>0&&(I*=256);)B+=this[u+--c]*I;return B},a.prototype.readUint8=a.prototype.readUInt8=function(u,c){return u=u>>>0,c||W(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,c){return u=u>>>0,c||W(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,c){return u=u>>>0,c||W(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,c){return u=u>>>0,c||W(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,c){return u=u>>>0,c||W(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readIntLE=function(u,c,b){u=u>>>0,c=c>>>0,b||W(u,c,this.length);for(var B=this[u],I=1,Z=0;++Z<c&&(I*=256);)B+=this[u+Z]*I;return I*=128,B>=I&&(B-=Math.pow(2,8*c)),B},a.prototype.readIntBE=function(u,c,b){u=u>>>0,c=c>>>0,b||W(u,c,this.length);for(var B=c,I=1,Z=this[u+--B];B>0&&(I*=256);)Z+=this[u+--B]*I;return I*=128,Z>=I&&(Z-=Math.pow(2,8*c)),Z},a.prototype.readInt8=function(u,c){return u=u>>>0,c||W(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,c){u=u>>>0,c||W(u,2,this.length);var b=this[u]|this[u+1]<<8;return b&32768?b|4294901760:b},a.prototype.readInt16BE=function(u,c){u=u>>>0,c||W(u,2,this.length);var b=this[u+1]|this[u]<<8;return b&32768?b|4294901760:b},a.prototype.readInt32LE=function(u,c){return u=u>>>0,c||W(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,c){return u=u>>>0,c||W(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readFloatLE=function(u,c){return u=u>>>0,c||W(u,4,this.length),r.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,c){return u=u>>>0,c||W(u,4,this.length),r.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,c){return u=u>>>0,c||W(u,8,this.length),r.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,c){return u=u>>>0,c||W(u,8,this.length),r.read(this,u,!1,52,8)};function X(g,u,c,b,B,I){if(!a.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>B||u<I)throw new RangeError('"value" argument is out of bounds');if(c+b>g.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,c,b,B){if(u=+u,c=c>>>0,b=b>>>0,!B){var I=Math.pow(2,8*b)-1;X(this,u,c,b,I,0)}var Z=1,ae=0;for(this[c]=u&255;++ae<b&&(Z*=256);)this[c+ae]=u/Z&255;return c+b},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,c,b,B){if(u=+u,c=c>>>0,b=b>>>0,!B){var I=Math.pow(2,8*b)-1;X(this,u,c,b,I,0)}var Z=b-1,ae=1;for(this[c+Z]=u&255;--Z>=0&&(ae*=256);)this[c+Z]=u/ae&255;return c+b},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,1,255,0),this[c]=u&255,c+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,2,65535,0),this[c]=u&255,this[c+1]=u>>>8,c+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,2,65535,0),this[c]=u>>>8,this[c+1]=u&255,c+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,4,4294967295,0),this[c+3]=u>>>24,this[c+2]=u>>>16,this[c+1]=u>>>8,this[c]=u&255,c+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,4,4294967295,0),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4},a.prototype.writeIntLE=function(u,c,b,B){if(u=+u,c=c>>>0,!B){var I=Math.pow(2,8*b-1);X(this,u,c,b,I-1,-I)}var Z=0,ae=1,ye=0;for(this[c]=u&255;++Z<b&&(ae*=256);)u<0&&ye===0&&this[c+Z-1]!==0&&(ye=1),this[c+Z]=(u/ae>>0)-ye&255;return c+b},a.prototype.writeIntBE=function(u,c,b,B){if(u=+u,c=c>>>0,!B){var I=Math.pow(2,8*b-1);X(this,u,c,b,I-1,-I)}var Z=b-1,ae=1,ye=0;for(this[c+Z]=u&255;--Z>=0&&(ae*=256);)u<0&&ye===0&&this[c+Z+1]!==0&&(ye=1),this[c+Z]=(u/ae>>0)-ye&255;return c+b},a.prototype.writeInt8=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,1,127,-128),u<0&&(u=255+u+1),this[c]=u&255,c+1},a.prototype.writeInt16LE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,2,32767,-32768),this[c]=u&255,this[c+1]=u>>>8,c+2},a.prototype.writeInt16BE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,2,32767,-32768),this[c]=u>>>8,this[c+1]=u&255,c+2},a.prototype.writeInt32LE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,4,2147483647,-2147483648),this[c]=u&255,this[c+1]=u>>>8,this[c+2]=u>>>16,this[c+3]=u>>>24,c+4},a.prototype.writeInt32BE=function(u,c,b){return u=+u,c=c>>>0,b||X(this,u,c,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4};function he(g,u,c,b,B,I){if(c+b>g.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function T(g,u,c,b,B){return u=+u,c=c>>>0,B||he(g,u,c,4),r.write(g,u,c,b,23,4),c+4}a.prototype.writeFloatLE=function(u,c,b){return T(this,u,c,!0,b)},a.prototype.writeFloatBE=function(u,c,b){return T(this,u,c,!1,b)};function ce(g,u,c,b,B){return u=+u,c=c>>>0,B||he(g,u,c,8),r.write(g,u,c,b,52,8),c+8}a.prototype.writeDoubleLE=function(u,c,b){return ce(this,u,c,!0,b)},a.prototype.writeDoubleBE=function(u,c,b){return ce(this,u,c,!1,b)},a.prototype.copy=function(u,c,b,B){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(b||(b=0),!B&&B!==0&&(B=this.length),c>=u.length&&(c=u.length),c||(c=0),B>0&&B<b&&(B=b),B===b||u.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),u.length-c<B-b&&(B=u.length-c+b);var I=B-b;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,b,B):Uint8Array.prototype.set.call(u,this.subarray(b,B),c),I},a.prototype.fill=function(u,c,b,B){if(typeof u=="string"){if(typeof c=="string"?(B=c,c=0,b=this.length):typeof b=="string"&&(B=b,b=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(u.length===1){var I=u.charCodeAt(0);(B==="utf8"&&I<128||B==="latin1")&&(u=I)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(c<0||this.length<c||this.length<b)throw new RangeError("Out of range index");if(b<=c)return this;c=c>>>0,b=b===void 0?this.length:b>>>0,u||(u=0);var Z;if(typeof u=="number")for(Z=c;Z<b;++Z)this[Z]=u;else{var ae=a.isBuffer(u)?u:a.from(u,B),ye=ae.length;if(ye===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(Z=0;Z<b-c;++Z)this[Z+c]=ae[Z%ye]}return this};var Ee=/[^+/0-9A-Za-z-_]/g;function be(g){if(g=g.split("=")[0],g=g.trim().replace(Ee,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function fe(g,u){u=u||1/0;for(var c,b=g.length,B=null,I=[],Z=0;Z<b;++Z){if(c=g.charCodeAt(Z),c>55295&&c<57344){if(!B){if(c>56319){(u-=3)>-1&&I.push(239,191,189);continue}else if(Z+1===b){(u-=3)>-1&&I.push(239,191,189);continue}B=c;continue}if(c<56320){(u-=3)>-1&&I.push(239,191,189),B=c;continue}c=(B-55296<<10|c-56320)+65536}else B&&(u-=3)>-1&&I.push(239,191,189);if(B=null,c<128){if((u-=1)<0)break;I.push(c)}else if(c<2048){if((u-=2)<0)break;I.push(c>>6|192,c&63|128)}else if(c<65536){if((u-=3)<0)break;I.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((u-=4)<0)break;I.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return I}function pe(g){for(var u=[],c=0;c<g.length;++c)u.push(g.charCodeAt(c)&255);return u}function A(g,u){for(var c,b,B,I=[],Z=0;Z<g.length&&!((u-=2)<0);++Z)c=g.charCodeAt(Z),b=c>>8,B=c%256,I.push(B),I.push(b);return I}function C(g){return t.toByteArray(be(g))}function M(g,u,c,b){for(var B=0;B<b&&!(B+c>=u.length||B>=g.length);++B)u[B+c]=g[B];return B}function K(g,u){return g instanceof u||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===u.name}function H(g){return g!==g}var Y=function(){for(var g="0123456789abcdef",u=new Array(256),c=0;c<16;++c)for(var b=c*16,B=0;B<16;++B)u[b+B]=g[c]+g[B];return u}()})(ra);var Jg={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,f=14,y=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,v=1e9;function N(U){var $,G,V,P=T.prototype={constructor:T,toString:null,valueOf:null},ne=new T(1),ee=20,q=4,te=-7,se=21,de=-1e7,me=1e7,D=!1,re=1,ie=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},X="0123456789abcdefghijklmnopqrstuvwxyz",he=!0;function T(A,C){var M,K,H,Y,g,u,c,b,B=this;if(!(B instanceof T))return new T(A,C);if(C==null){if(A&&A._isBigNumber===!0){B.s=A.s,!A.c||A.e>me?B.c=B.e=null:A.e<de?B.c=[B.e=0]:(B.e=A.e,B.c=A.c.slice());return}if((u=typeof A=="number")&&A*0==0){if(B.s=1/A<0?(A=-A,-1):1,A===~~A){for(Y=0,g=A;g>=10;g/=10,Y++);Y>me?B.c=B.e=null:(B.e=Y,B.c=[A]);return}b=String(A)}else{if(!n.test(b=String(A)))return V(B,b,u);B.s=b.charCodeAt(0)==45?(b=b.slice(1),-1):1}(Y=b.indexOf("."))>-1&&(b=b.replace(".","")),(g=b.search(/e/i))>0?(Y<0&&(Y=g),Y+=+b.slice(g+1),b=b.substring(0,g)):Y<0&&(Y=b.length)}else{if(x(C,2,X.length,"Base"),C==10&&he)return B=new T(A),fe(B,ee+B.e+1,q);if(b=String(A),u=typeof A=="number"){if(A*0!=0)return V(B,b,u,C);if(B.s=1/A<0?(b=b.slice(1),-1):1,T.DEBUG&&b.replace(/^0\.0*|\./,"").length>15)throw Error(a+A)}else B.s=b.charCodeAt(0)===45?(b=b.slice(1),-1):1;for(M=X.slice(0,C),Y=g=0,c=b.length;g<c;g++)if(M.indexOf(K=b.charAt(g))<0){if(K=="."){if(g>Y){Y=c;continue}}else if(!H&&(b==b.toUpperCase()&&(b=b.toLowerCase())||b==b.toLowerCase()&&(b=b.toUpperCase()))){H=!0,g=-1,Y=0;continue}return V(B,String(A),u,C)}u=!1,b=G(b,C,10,B.s),(Y=b.indexOf("."))>-1?b=b.replace(".",""):Y=b.length}for(g=0;b.charCodeAt(g)===48;g++);for(c=b.length;b.charCodeAt(--c)===48;);if(b=b.slice(g,++c)){if(c-=g,u&&T.DEBUG&&c>15&&(A>y||A!==s(A)))throw Error(a+B.s*A);if((Y=Y-g-1)>me)B.c=B.e=null;else if(Y<de)B.c=[B.e=0];else{if(B.e=Y,B.c=[],g=(Y+1)%f,Y<0&&(g+=f),g<c){for(g&&B.c.push(+b.slice(0,g)),c-=f;g<c;)B.c.push(+b.slice(g,g+=f));g=f-(b=b.slice(g)).length}else g-=c;for(;g--;b+="0");B.c.push(+b)}}else B.c=[B.e=0]}T.clone=N,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(A){var C,M;if(A!=null)if(typeof A=="object"){if(A.hasOwnProperty(C="DECIMAL_PLACES")&&(M=A[C],x(M,0,v,C),ee=M),A.hasOwnProperty(C="ROUNDING_MODE")&&(M=A[C],x(M,0,8,C),q=M),A.hasOwnProperty(C="EXPONENTIAL_AT")&&(M=A[C],M&&M.pop?(x(M[0],-v,0,C),x(M[1],0,v,C),te=M[0],se=M[1]):(x(M,-v,v,C),te=-(se=M<0?-M:M))),A.hasOwnProperty(C="RANGE"))if(M=A[C],M&&M.pop)x(M[0],-v,-1,C),x(M[1],1,v,C),de=M[0],me=M[1];else if(x(M,-v,v,C),M)de=-(me=M<0?-M:M);else throw Error(o+C+" cannot be zero: "+M);if(A.hasOwnProperty(C="CRYPTO"))if(M=A[C],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))D=M;else throw D=!M,Error(o+"crypto unavailable");else D=M;else throw Error(o+C+" not true or false: "+M);if(A.hasOwnProperty(C="MODULO_MODE")&&(M=A[C],x(M,0,9,C),re=M),A.hasOwnProperty(C="POW_PRECISION")&&(M=A[C],x(M,0,v,C),ie=M),A.hasOwnProperty(C="FORMAT"))if(M=A[C],typeof M=="object")W=M;else throw Error(o+C+" not an object: "+M);if(A.hasOwnProperty(C="ALPHABET"))if(M=A[C],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))he=M.slice(0,10)=="0123456789",X=M;else throw Error(o+C+" invalid: "+M)}else throw Error(o+"Object expected: "+A);return{DECIMAL_PLACES:ee,ROUNDING_MODE:q,EXPONENTIAL_AT:[te,se],RANGE:[de,me],CRYPTO:D,MODULO_MODE:re,POW_PRECISION:ie,FORMAT:W,ALPHABET:X}},T.isBigNumber=function(A){if(!A||A._isBigNumber!==!0)return!1;if(!T.DEBUG)return!0;var C,M,K=A.c,H=A.e,Y=A.s;e:if({}.toString.call(K)=="[object Array]"){if((Y===1||Y===-1)&&H>=-v&&H<=v&&H===s(H)){if(K[0]===0){if(H===0&&K.length===1)return!0;break e}if(C=(H+1)%f,C<1&&(C+=f),String(K[0]).length==C){for(C=0;C<K.length;C++)if(M=K[C],M<0||M>=l||M!==s(M))break e;if(M!==0)return!0}}}else if(K===null&&H===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(o+"Invalid BigNumber: "+A)},T.maximum=T.max=function(){return Ee(arguments,-1)},T.minimum=T.min=function(){return Ee(arguments,1)},T.random=function(){var A=9007199254740992,C=Math.random()*A&2097151?function(){return s(Math.random()*A)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var K,H,Y,g,u,c=0,b=[],B=new T(ne);if(M==null?M=ee:x(M,0,v),g=i(M/f),D)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(g*=2));c<g;)u=K[c]*131072+(K[c+1]>>>11),u>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),K[c]=H[0],K[c+1]=H[1]):(b.push(u%1e14),c+=2);c=g/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(g*=7);c<g;)u=(K[c]&31)*281474976710656+K[c+1]*1099511627776+K[c+2]*4294967296+K[c+3]*16777216+(K[c+4]<<16)+(K[c+5]<<8)+K[c+6],u>=9e15?crypto.randomBytes(7).copy(K,c):(b.push(u%1e14),c+=7);c=g/7}else throw D=!1,Error(o+"crypto unavailable");if(!D)for(;c<g;)u=C(),u<9e15&&(b[c++]=u%1e14);for(g=b[--c],M%=f,g&&M&&(u=p[f-M],b[c]=s(g/u)*u);b[c]===0;b.pop(),c--);if(c<0)b=[Y=0];else{for(Y=-1;b[0]===0;b.splice(0,1),Y-=f);for(c=1,u=b[0];u>=10;u/=10,c++);c<f&&(Y-=f-c)}return B.e=Y,B.c=b,B}}(),T.sum=function(){for(var A=1,C=arguments,M=new T(C[0]);A<C.length;)M=M.plus(C[A++]);return M},G=function(){var A="0123456789";function C(M,K,H,Y){for(var g,u=[0],c,b=0,B=M.length;b<B;){for(c=u.length;c--;u[c]*=K);for(u[0]+=Y.indexOf(M.charAt(b++)),g=0;g<u.length;g++)u[g]>H-1&&(u[g+1]==null&&(u[g+1]=0),u[g+1]+=u[g]/H|0,u[g]%=H)}return u.reverse()}return function(M,K,H,Y,g){var u,c,b,B,I,Z,ae,ye,we=M.indexOf("."),Ne=ee,w=q;for(we>=0&&(B=ie,ie=0,M=M.replace(".",""),ye=new T(K),Z=ye.pow(M.length-we),ie=B,ye.c=C(F(O(Z.c),Z.e,"0"),10,H,A),ye.e=ye.c.length),ae=C(M,K,H,g?(u=X,A):(u=A,X)),b=B=ae.length;ae[--B]==0;ae.pop());if(!ae[0])return u.charAt(0);if(we<0?--b:(Z.c=ae,Z.e=b,Z.s=Y,Z=$(Z,ye,Ne,w,H),ae=Z.c,I=Z.r,b=Z.e),c=b+Ne+1,we=ae[c],B=H/2,I=I||c<0||ae[c+1]!=null,I=w<4?(we!=null||I)&&(w==0||w==(Z.s<0?3:2)):we>B||we==B&&(w==4||I||w==6&&ae[c-1]&1||w==(Z.s<0?8:7)),c<1||!ae[0])M=I?F(u.charAt(1),-Ne,u.charAt(0)):u.charAt(0);else{if(ae.length=c,I)for(--H;++ae[--c]>H;)ae[c]=0,c||(++b,ae=[1].concat(ae));for(B=ae.length;!ae[--B];);for(we=0,M="";we<=B;M+=u.charAt(ae[we++]));M=F(M,b,u.charAt(0))}return M}}(),$=function(){function A(K,H,Y){var g,u,c,b,B=0,I=K.length,Z=H%m,ae=H/m|0;for(K=K.slice();I--;)c=K[I]%m,b=K[I]/m|0,g=ae*c+b*Z,u=Z*c+g%m*m+B,B=(u/Y|0)+(g/m|0)+ae*b,K[I]=u%Y;return B&&(K=[B].concat(K)),K}function C(K,H,Y,g){var u,c;if(Y!=g)c=Y>g?1:-1;else for(u=c=0;u<Y;u++)if(K[u]!=H[u]){c=K[u]>H[u]?1:-1;break}return c}function M(K,H,Y,g){for(var u=0;Y--;)K[Y]-=u,u=K[Y]<H[Y]?1:0,K[Y]=u*g+K[Y]-H[Y];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,H,Y,g,u){var c,b,B,I,Z,ae,ye,we,Ne,w,d,h,R,L,J,Q,_e,Be=K.s==H.s?1:-1,Se=K.c,ve=H.c;if(!Se||!Se[0]||!ve||!ve[0])return new T(!K.s||!H.s||(Se?ve&&Se[0]==ve[0]:!ve)?NaN:Se&&Se[0]==0||!ve?Be*0:Be/0);for(we=new T(Be),Ne=we.c=[],b=K.e-H.e,Be=Y+b+1,u||(u=l,b=k(K.e/f)-k(H.e/f),Be=Be/f|0),B=0;ve[B]==(Se[B]||0);B++);if(ve[B]>(Se[B]||0)&&b--,Be<0)Ne.push(1),I=!0;else{for(L=Se.length,Q=ve.length,B=0,Be+=2,Z=s(u/(ve[0]+1)),Z>1&&(ve=A(ve,Z,u),Se=A(Se,Z,u),Q=ve.length,L=Se.length),R=Q,w=Se.slice(0,Q),d=w.length;d<Q;w[d++]=0);_e=ve.slice(),_e=[0].concat(_e),J=ve[0],ve[1]>=u/2&&J++;do{if(Z=0,c=C(ve,w,Q,d),c<0){if(h=w[0],Q!=d&&(h=h*u+(w[1]||0)),Z=s(h/J),Z>1)for(Z>=u&&(Z=u-1),ae=A(ve,Z,u),ye=ae.length,d=w.length;C(ae,w,ye,d)==1;)Z--,M(ae,Q<ye?_e:ve,ye,u),ye=ae.length,c=1;else Z==0&&(c=Z=1),ae=ve.slice(),ye=ae.length;if(ye<d&&(ae=[0].concat(ae)),M(w,ae,d,u),d=w.length,c==-1)for(;C(ve,w,Q,d)<1;)Z++,M(w,Q<d?_e:ve,d,u),d=w.length}else c===0&&(Z++,w=[0]);Ne[B++]=Z,w[0]?w[d++]=Se[R]||0:(w=[Se[R]],d=1)}while((R++<L||w[0]!=null)&&Be--);I=w[0]!=null,Ne[0]||Ne.splice(0,1)}if(u==l){for(B=1,Be=Ne[0];Be>=10;Be/=10,B++);fe(we,Y+(we.e=B+b*f-1)+1,g,I)}else we.e=b,we.r=+I;return we}}();function ce(A,C,M,K){var H,Y,g,u,c;if(M==null?M=q:x(M,0,8),!A.c)return A.toString();if(H=A.c[0],g=A.e,C==null)c=O(A.c),c=K==1||K==2&&(g<=te||g>=se)?j(c,g):F(c,g,"0");else if(A=fe(new T(A),C,M),Y=A.e,c=O(A.c),u=c.length,K==1||K==2&&(C<=Y||Y<=te)){for(;u<C;c+="0",u++);c=j(c,Y)}else if(C-=g+(K===2&&Y>g),c=F(c,Y,"0"),Y+1>u){if(--C>0)for(c+=".";C--;c+="0");}else if(C+=Y-u,C>0)for(Y+1==u&&(c+=".");C--;c+="0");return A.s<0&&H?"-"+c:c}function Ee(A,C){for(var M,K,H=1,Y=new T(A[0]);H<A.length;H++)K=new T(A[H]),(!K.s||(M=_(Y,K))===C||M===0&&Y.s===C)&&(Y=K);return Y}function be(A,C,M){for(var K=1,H=C.length;!C[--H];C.pop());for(H=C[0];H>=10;H/=10,K++);return(M=K+M*f-1)>me?A.c=A.e=null:M<de?A.c=[A.e=0]:(A.e=M,A.c=C),A}V=function(){var A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,M=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,g,u,c){var b,B=u?g:g.replace(H,"");if(K.test(B))Y.s=isNaN(B)?null:B<0?-1:1;else{if(!u&&(B=B.replace(A,function(I,Z,ae){return b=(ae=ae.toLowerCase())=="x"?16:ae=="b"?2:8,!c||c==b?Z:I}),c&&(b=c,B=B.replace(C,"$1").replace(M,"0.$1")),g!=B))return new T(B,b);if(T.DEBUG)throw Error(o+"Not a"+(c?" base "+c:"")+" number: "+g);Y.s=null}Y.c=Y.e=null}}();function fe(A,C,M,K){var H,Y,g,u,c,b,B,I=A.c,Z=p;if(I){e:{for(H=1,u=I[0];u>=10;u/=10,H++);if(Y=C-H,Y<0)Y+=f,g=C,c=I[b=0],B=s(c/Z[H-g-1]%10);else if(b=i((Y+1)/f),b>=I.length)if(K){for(;I.length<=b;I.push(0));c=B=0,H=1,Y%=f,g=Y-f+1}else break e;else{for(c=u=I[b],H=1;u>=10;u/=10,H++);Y%=f,g=Y-f+H,B=g<0?0:s(c/Z[H-g-1]%10)}if(K=K||C<0||I[b+1]!=null||(g<0?c:c%Z[H-g-1]),K=M<4?(B||K)&&(M==0||M==(A.s<0?3:2)):B>5||B==5&&(M==4||K||M==6&&(Y>0?g>0?c/Z[H-g]:0:I[b-1])%10&1||M==(A.s<0?8:7)),C<1||!I[0])return I.length=0,K?(C-=A.e+1,I[0]=Z[(f-C%f)%f],A.e=-C||0):I[0]=A.e=0,A;if(Y==0?(I.length=b,u=1,b--):(I.length=b+1,u=Z[f-Y],I[b]=g>0?s(c/Z[H-g]%Z[g])*u:0),K)for(;;)if(b==0){for(Y=1,g=I[0];g>=10;g/=10,Y++);for(g=I[0]+=u,u=1;g>=10;g/=10,u++);Y!=u&&(A.e++,I[0]==l&&(I[0]=1));break}else{if(I[b]+=u,I[b]!=l)break;I[b--]=0,u=1}for(Y=I.length;I[--Y]===0;I.pop());}A.e>me?A.c=A.e=null:A.e<de&&(A.c=[A.e=0])}return A}function pe(A){var C,M=A.e;return M===null?A.toString():(C=O(A.c),C=M<=te||M>=se?j(C,M):F(C,M,"0"),A.s<0?"-"+C:C)}return P.absoluteValue=P.abs=function(){var A=new T(this);return A.s<0&&(A.s=1),A},P.comparedTo=function(A,C){return _(this,new T(A,C))},P.decimalPlaces=P.dp=function(A,C){var M,K,H,Y=this;if(A!=null)return x(A,0,v),C==null?C=q:x(C,0,8),fe(new T(Y),A+Y.e+1,C);if(!(M=Y.c))return null;if(K=((H=M.length-1)-k(this.e/f))*f,H=M[H])for(;H%10==0;H/=10,K--);return K<0&&(K=0),K},P.dividedBy=P.div=function(A,C){return $(this,new T(A,C),ee,q)},P.dividedToIntegerBy=P.idiv=function(A,C){return $(this,new T(A,C),0,1)},P.exponentiatedBy=P.pow=function(A,C){var M,K,H,Y,g,u,c,b,B,I=this;if(A=new T(A),A.c&&!A.isInteger())throw Error(o+"Exponent not an integer: "+pe(A));if(C!=null&&(C=new T(C)),u=A.e>14,!I.c||!I.c[0]||I.c[0]==1&&!I.e&&I.c.length==1||!A.c||!A.c[0])return B=new T(Math.pow(+pe(I),u?A.s*(2-S(A)):+pe(A))),C?B.mod(C):B;if(c=A.s<0,C){if(C.c?!C.c[0]:!C.s)return new T(NaN);K=!c&&I.isInteger()&&C.isInteger(),K&&(I=I.mod(C))}else{if(A.e>9&&(I.e>0||I.e<-1||(I.e==0?I.c[0]>1||u&&I.c[1]>=24e7:I.c[0]<8e13||u&&I.c[0]<=9999975e7)))return Y=I.s<0&&S(A)?-0:0,I.e>-1&&(Y=1/Y),new T(c?1/Y:Y);ie&&(Y=i(ie/f+2))}for(u?(M=new T(.5),c&&(A.s=1),b=S(A)):(H=Math.abs(+pe(A)),b=H%2),B=new T(ne);;){if(b){if(B=B.times(I),!B.c)break;Y?B.c.length>Y&&(B.c.length=Y):K&&(B=B.mod(C))}if(H){if(H=s(H/2),H===0)break;b=H%2}else if(A=A.times(M),fe(A,A.e+1,1),A.e>14)b=S(A);else{if(H=+pe(A),H===0)break;b=H%2}I=I.times(I),Y?I.c&&I.c.length>Y&&(I.c.length=Y):K&&(I=I.mod(C))}return K?B:(c&&(B=ne.div(B)),C?B.mod(C):Y?fe(B,ie,q,g):B)},P.integerValue=function(A){var C=new T(this);return A==null?A=q:x(A,0,8),fe(C,C.e+1,A)},P.isEqualTo=P.eq=function(A,C){return _(this,new T(A,C))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(A,C){return _(this,new T(A,C))>0},P.isGreaterThanOrEqualTo=P.gte=function(A,C){return(C=_(this,new T(A,C)))===1||C===0},P.isInteger=function(){return!!this.c&&k(this.e/f)>this.c.length-2},P.isLessThan=P.lt=function(A,C){return _(this,new T(A,C))<0},P.isLessThanOrEqualTo=P.lte=function(A,C){return(C=_(this,new T(A,C)))===-1||C===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(A,C){var M,K,H,Y,g=this,u=g.s;if(A=new T(A,C),C=A.s,!u||!C)return new T(NaN);if(u!=C)return A.s=-C,g.plus(A);var c=g.e/f,b=A.e/f,B=g.c,I=A.c;if(!c||!b){if(!B||!I)return B?(A.s=-C,A):new T(I?g:NaN);if(!B[0]||!I[0])return I[0]?(A.s=-C,A):new T(B[0]?g:q==3?-0:0)}if(c=k(c),b=k(b),B=B.slice(),u=c-b){for((Y=u<0)?(u=-u,H=B):(b=c,H=I),H.reverse(),C=u;C--;H.push(0));H.reverse()}else for(K=(Y=(u=B.length)<(C=I.length))?u:C,u=C=0;C<K;C++)if(B[C]!=I[C]){Y=B[C]<I[C];break}if(Y&&(H=B,B=I,I=H,A.s=-A.s),C=(K=I.length)-(M=B.length),C>0)for(;C--;B[M++]=0);for(C=l-1;K>u;){if(B[--K]<I[K]){for(M=K;M&&!B[--M];B[M]=C);--B[M],B[K]+=l}B[K]-=I[K]}for(;B[0]==0;B.splice(0,1),--b);return B[0]?be(A,B,b):(A.s=q==3?-1:1,A.c=[A.e=0],A)},P.modulo=P.mod=function(A,C){var M,K,H=this;return A=new T(A,C),!H.c||!A.s||A.c&&!A.c[0]?new T(NaN):!A.c||H.c&&!H.c[0]?new T(H):(re==9?(K=A.s,A.s=1,M=$(H,A,0,3),A.s=K,M.s*=K):M=$(H,A,0,re),A=H.minus(M.times(A)),!A.c[0]&&re==1&&(A.s=H.s),A)},P.multipliedBy=P.times=function(A,C){var M,K,H,Y,g,u,c,b,B,I,Z,ae,ye,we,Ne,w=this,d=w.c,h=(A=new T(A,C)).c;if(!d||!h||!d[0]||!h[0])return!w.s||!A.s||d&&!d[0]&&!h||h&&!h[0]&&!d?A.c=A.e=A.s=null:(A.s*=w.s,!d||!h?A.c=A.e=null:(A.c=[0],A.e=0)),A;for(K=k(w.e/f)+k(A.e/f),A.s*=w.s,c=d.length,I=h.length,c<I&&(ye=d,d=h,h=ye,H=c,c=I,I=H),H=c+I,ye=[];H--;ye.push(0));for(we=l,Ne=m,H=I;--H>=0;){for(M=0,Z=h[H]%Ne,ae=h[H]/Ne|0,g=c,Y=H+g;Y>H;)b=d[--g]%Ne,B=d[g]/Ne|0,u=ae*b+B*Z,b=Z*b+u%Ne*Ne+ye[Y]+M,M=(b/we|0)+(u/Ne|0)+ae*B,ye[Y--]=b%we;ye[Y]=M}return M?++K:ye.splice(0,1),be(A,ye,K)},P.negated=function(){var A=new T(this);return A.s=-A.s||null,A},P.plus=function(A,C){var M,K=this,H=K.s;if(A=new T(A,C),C=A.s,!H||!C)return new T(NaN);if(H!=C)return A.s=-C,K.minus(A);var Y=K.e/f,g=A.e/f,u=K.c,c=A.c;if(!Y||!g){if(!u||!c)return new T(H/0);if(!u[0]||!c[0])return c[0]?A:new T(u[0]?K:H*0)}if(Y=k(Y),g=k(g),u=u.slice(),H=Y-g){for(H>0?(g=Y,M=c):(H=-H,M=u),M.reverse();H--;M.push(0));M.reverse()}for(H=u.length,C=c.length,H-C<0&&(M=c,c=u,u=M,C=H),H=0;C;)H=(u[--C]=u[C]+c[C]+H)/l|0,u[C]=l===u[C]?0:u[C]%l;return H&&(u=[H].concat(u),++g),be(A,u,g)},P.precision=P.sd=function(A,C){var M,K,H,Y=this;if(A!=null&&A!==!!A)return x(A,1,v),C==null?C=q:x(C,0,8),fe(new T(Y),A,C);if(!(M=Y.c))return null;if(H=M.length-1,K=H*f+1,H=M[H]){for(;H%10==0;H/=10,K--);for(H=M[0];H>=10;H/=10,K++);}return A&&Y.e+1>K&&(K=Y.e+1),K},P.shiftedBy=function(A){return x(A,-y,y),this.times("1e"+A)},P.squareRoot=P.sqrt=function(){var A,C,M,K,H,Y=this,g=Y.c,u=Y.s,c=Y.e,b=ee+4,B=new T("0.5");if(u!==1||!g||!g[0])return new T(!u||u<0&&(!g||g[0])?NaN:g?Y:1/0);if(u=Math.sqrt(+pe(Y)),u==0||u==1/0?(C=O(g),(C.length+c)%2==0&&(C+="0"),u=Math.sqrt(+C),c=k((c+1)/2)-(c<0||c%2),u==1/0?C="5e"+c:(C=u.toExponential(),C=C.slice(0,C.indexOf("e")+1)+c),M=new T(C)):M=new T(u+""),M.c[0]){for(c=M.e,u=c+b,u<3&&(u=0);;)if(H=M,M=B.times(H.plus($(Y,H,b,1))),O(H.c).slice(0,u)===(C=O(M.c)).slice(0,u))if(M.e<c&&--u,C=C.slice(u-3,u+1),C=="9999"||!K&&C=="4999"){if(!K&&(fe(H,H.e+ee+2,0),H.times(H).eq(Y))){M=H;break}b+=4,u+=4,K=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(fe(M,M.e+ee+2,1),A=!M.times(M).eq(Y));break}}return fe(M,M.e+ee+1,q,A)},P.toExponential=function(A,C){return A!=null&&(x(A,0,v),A++),ce(this,A,C,1)},P.toFixed=function(A,C){return A!=null&&(x(A,0,v),A=A+this.e+1),ce(this,A,C)},P.toFormat=function(A,C,M){var K,H=this;if(M==null)A!=null&&C&&typeof C=="object"?(M=C,C=null):A&&typeof A=="object"?(M=A,A=C=null):M=W;else if(typeof M!="object")throw Error(o+"Argument not an object: "+M);if(K=H.toFixed(A,C),H.c){var Y,g=K.split("."),u=+M.groupSize,c=+M.secondaryGroupSize,b=M.groupSeparator||"",B=g[0],I=g[1],Z=H.s<0,ae=Z?B.slice(1):B,ye=ae.length;if(c&&(Y=u,u=c,c=Y,ye-=Y),u>0&&ye>0){for(Y=ye%u||u,B=ae.substr(0,Y);Y<ye;Y+=u)B+=b+ae.substr(Y,u);c>0&&(B+=b+ae.slice(Y)),Z&&(B="-"+B)}K=I?B+(M.decimalSeparator||"")+((c=+M.fractionGroupSize)?I.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):I):B}return(M.prefix||"")+K+(M.suffix||"")},P.toFraction=function(A){var C,M,K,H,Y,g,u,c,b,B,I,Z,ae=this,ye=ae.c;if(A!=null&&(u=new T(A),!u.isInteger()&&(u.c||u.s!==1)||u.lt(ne)))throw Error(o+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+pe(u));if(!ye)return new T(ae);for(C=new T(ne),b=M=new T(ne),K=c=new T(ne),Z=O(ye),Y=C.e=Z.length-ae.e-1,C.c[0]=p[(g=Y%f)<0?f+g:g],A=!A||u.comparedTo(C)>0?Y>0?C:b:u,g=me,me=1/0,u=new T(Z),c.c[0]=0;B=$(u,C,0,1),H=M.plus(B.times(K)),H.comparedTo(A)!=1;)M=K,K=H,b=c.plus(B.times(H=b)),c=H,C=u.minus(B.times(H=C)),u=H;return H=$(A.minus(M),K,0,1),c=c.plus(H.times(b)),M=M.plus(H.times(K)),c.s=b.s=ae.s,Y=Y*2,I=$(b,K,Y,q).minus(ae).abs().comparedTo($(c,M,Y,q).minus(ae).abs())<1?[b,K]:[c,M],me=g,I},P.toNumber=function(){return+pe(this)},P.toPrecision=function(A,C){return A!=null&&x(A,1,v),ce(this,A,C,2)},P.toString=function(A){var C,M=this,K=M.s,H=M.e;return H===null?K?(C="Infinity",K<0&&(C="-"+C)):C="NaN":(A==null?C=H<=te||H>=se?j(O(M.c),H):F(O(M.c),H,"0"):A===10&&he?(M=fe(new T(M),ee+H+1,q),C=F(O(M.c),M.e,"0")):(x(A,2,X.length,"Base"),C=G(F(O(M.c),H,"0"),10,A,K,!0)),K<0&&M.c[0]&&(C="-"+C)),C},P.valueOf=P.toJSON=function(){return pe(this)},P._isBigNumber=!0,U!=null&&T.set(U),T}function k(U){var $=U|0;return U>0||U===$?$:$-1}function O(U){for(var $,G,V=1,P=U.length,ne=U[0]+"";V<P;){for($=U[V++]+"",G=f-$.length;G--;$="0"+$);ne+=$}for(P=ne.length;ne.charCodeAt(--P)===48;);return ne.slice(0,P+1||1)}function _(U,$){var G,V,P=U.c,ne=$.c,ee=U.s,q=$.s,te=U.e,se=$.e;if(!ee||!q)return null;if(G=P&&!P[0],V=ne&&!ne[0],G||V)return G?V?0:-q:ee;if(ee!=q)return ee;if(G=ee<0,V=te==se,!P||!ne)return V?0:!P^G?1:-1;if(!V)return te>se^G?1:-1;for(q=(te=P.length)<(se=ne.length)?te:se,ee=0;ee<q;ee++)if(P[ee]!=ne[ee])return P[ee]>ne[ee]^G?1:-1;return te==se?0:te>se^G?1:-1}function x(U,$,G,V){if(U<$||U>G||U!==s(U))throw Error(o+(V||"Argument")+(typeof U=="number"?U<$||U>G?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function S(U){var $=U.c.length-1;return k(U.e/f)==$&&U.c[$]%2!=0}function j(U,$){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+($<0?"e":"e+")+$}function F(U,$,G){var V,P;if($<0){for(P=G+".";++$;P+=G);U=P+U}else if(V=U.length,++$>V){for(P=G,$-=V;--$;P+=G);U+=P}else $<V&&(U=U.slice(0,$)+"."+U.slice($));return U}r=N(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(vs)})(Jg);var bu=Jg.exports,ib=function(t,r,n){var i=new t.Uint8Array(n),s=r.pushInt,o=r.pushInt32,a=r.pushInt32Neg,l=r.pushInt64,f=r.pushInt64Neg,y=r.pushFloat,p=r.pushFloatSingle,m=r.pushFloatDouble,v=r.pushTrue,N=r.pushFalse,k=r.pushUndefined,O=r.pushNull,_=r.pushInfinity,x=r.pushInfinityNeg,S=r.pushNaN,j=r.pushNaNNeg,F=r.pushArrayStart,U=r.pushArrayStartFixed,$=r.pushArrayStartFixed32,G=r.pushArrayStartFixed64,V=r.pushObjectStart,P=r.pushObjectStartFixed,ne=r.pushObjectStartFixed32,ee=r.pushObjectStartFixed64,q=r.pushByteString,te=r.pushByteStringStart,se=r.pushUtf8String,de=r.pushUtf8StringStart,me=r.pushSimpleUnassigned,D=r.pushTagStart,re=r.pushTagStart4,ie=r.pushTagStart8,W=r.pushTagUnassigned,X=r.pushBreak,he=t.Math.pow,T=0,ce=0,Ee=0;function be(z){for(z=z|0,T=0,ce=z;(T|0)<(ce|0)&&(Ee=Fw[i[T]&255](i[T]|0)|0,!((Ee|0)>0)););return Ee|0}function fe(z){return z=z|0,((T|0)+(z|0)|0)<(ce|0)?0:1}function pe(z){return z=z|0,i[z|0]<<8|i[z+1|0]|0}function A(z){return z=z|0,i[z|0]<<24|i[z+1|0]<<16|i[z+2|0]<<8|i[z+3|0]|0}function C(z){return z=z|0,s(z|0),T=T+1|0,0}function M(z){return z=z|0,fe(1)|0?1:(s(i[T+1|0]|0),T=T+2|0,0)}function K(z){return z=z|0,fe(2)|0?1:(s(pe(T+1|0)|0),T=T+3|0,0)}function H(z){return z=z|0,fe(4)|0?1:(o(pe(T+1|0)|0,pe(T+3|0)|0),T=T+5|0,0)}function Y(z){return z=z|0,fe(8)|0?1:(l(pe(T+1|0)|0,pe(T+3|0)|0,pe(T+5|0)|0,pe(T+7|0)|0),T=T+9|0,0)}function g(z){return z=z|0,s(-1-(z-32|0)|0),T=T+1|0,0}function u(z){return z=z|0,fe(1)|0?1:(s(-1-(i[T+1|0]|0)|0),T=T+2|0,0)}function c(z){z=z|0;var Re=0;return fe(2)|0?1:(Re=pe(T+1|0)|0,s(-1-(Re|0)|0),T=T+3|0,0)}function b(z){return z=z|0,fe(4)|0?1:(a(pe(T+1|0)|0,pe(T+3|0)|0),T=T+5|0,0)}function B(z){return z=z|0,fe(8)|0?1:(f(pe(T+1|0)|0,pe(T+3|0)|0,pe(T+5|0)|0,pe(T+7|0)|0),T=T+9|0,0)}function I(z){z=z|0;var Re=0,Oe=0,Ce=0;return Ce=z-64|0,fe(Ce|0)|0?1:(Re=T+1|0,Oe=(T+1|0)+(Ce|0)|0,q(Re|0,Oe|0),T=Oe|0,0)}function Z(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(1)|0||(Ce=i[T+1|0]|0,Re=T+2|0,Oe=(T+2|0)+(Ce|0)|0,fe(Ce+1|0)|0)?1:(q(Re|0,Oe|0),T=Oe|0,0)}function ae(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(2)|0||(Ce=pe(T+1|0)|0,Re=T+3|0,Oe=(T+3|0)+(Ce|0)|0,fe(Ce+2|0)|0)?1:(q(Re|0,Oe|0),T=Oe|0,0)}function ye(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(4)|0||(Ce=A(T+1|0)|0,Re=T+5|0,Oe=(T+5|0)+(Ce|0)|0,fe(Ce+4|0)|0)?1:(q(Re|0,Oe|0),T=Oe|0,0)}function we(z){return z=z|0,1}function Ne(z){return z=z|0,te(),T=T+1|0,0}function w(z){z=z|0;var Re=0,Oe=0,Ce=0;return Ce=z-96|0,fe(Ce|0)|0?1:(Re=T+1|0,Oe=(T+1|0)+(Ce|0)|0,se(Re|0,Oe|0),T=Oe|0,0)}function d(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(1)|0||(Ce=i[T+1|0]|0,Re=T+2|0,Oe=(T+2|0)+(Ce|0)|0,fe(Ce+1|0)|0)?1:(se(Re|0,Oe|0),T=Oe|0,0)}function h(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(2)|0||(Ce=pe(T+1|0)|0,Re=T+3|0,Oe=(T+3|0)+(Ce|0)|0,fe(Ce+2|0)|0)?1:(se(Re|0,Oe|0),T=Oe|0,0)}function R(z){z=z|0;var Re=0,Oe=0,Ce=0;return fe(4)|0||(Ce=A(T+1|0)|0,Re=T+5|0,Oe=(T+5|0)+(Ce|0)|0,fe(Ce+4|0)|0)?1:(se(Re|0,Oe|0),T=Oe|0,0)}function L(z){return z=z|0,1}function J(z){return z=z|0,de(),T=T+1|0,0}function Q(z){return z=z|0,U(z-128|0),T=T+1|0,0}function _e(z){return z=z|0,fe(1)|0?1:(U(i[T+1|0]|0),T=T+2|0,0)}function Be(z){return z=z|0,fe(2)|0?1:(U(pe(T+1|0)|0),T=T+3|0,0)}function Se(z){return z=z|0,fe(4)|0?1:($(pe(T+1|0)|0,pe(T+3|0)|0),T=T+5|0,0)}function ve(z){return z=z|0,fe(8)|0?1:(G(pe(T+1|0)|0,pe(T+3|0)|0,pe(T+5|0)|0,pe(T+7|0)|0),T=T+9|0,0)}function Ie(z){return z=z|0,F(),T=T+1|0,0}function Ve(z){z=z|0;var Re=0;return Re=z-160|0,fe(Re|0)|0?1:(P(Re|0),T=T+1|0,0)}function Fu(z){return z=z|0,fe(1)|0?1:(P(i[T+1|0]|0),T=T+2|0,0)}function Iu(z){return z=z|0,fe(2)|0?1:(P(pe(T+1|0)|0),T=T+3|0,0)}function ju(z){return z=z|0,fe(4)|0?1:(ne(pe(T+1|0)|0,pe(T+3|0)|0),T=T+5|0,0)}function Pu(z){return z=z|0,fe(8)|0?1:(ee(pe(T+1|0)|0,pe(T+3|0)|0,pe(T+5|0)|0,pe(T+7|0)|0),T=T+9|0,0)}function Mu(z){return z=z|0,V(),T=T+1|0,0}function mn(z){return z=z|0,D(z-192|0|0),T=T+1|0,0}function G3(z){return z=z|0,D(z|0),T=T+1|0,0}function W3(z){return z=z|0,D(z|0),T=T+1|0,0}function K3(z){return z=z|0,D(z|0),T=T+1|0,0}function D3(z){return z=z|0,D(z|0),T=T+1|0,0}function ft(z){return z=z|0,D(z-192|0|0),T=T+1|0,0}function Y3(z){return z=z|0,D(z|0),T=T+1|0,0}function Z3(z){return z=z|0,D(z|0),T=T+1|0,0}function X3(z){return z=z|0,D(z|0),T=T+1|0,0}function _w(z){return z=z|0,fe(1)|0?1:(D(i[T+1|0]|0),T=T+2|0,0)}function bw(z){return z=z|0,fe(2)|0?1:(D(pe(T+1|0)|0),T=T+3|0,0)}function Ew(z){return z=z|0,fe(4)|0?1:(re(pe(T+1|0)|0,pe(T+3|0)|0),T=T+5|0,0)}function Sw(z){return z=z|0,fe(8)|0?1:(ie(pe(T+1|0)|0,pe(T+3|0)|0,pe(T+5|0)|0,pe(T+7|0)|0),T=T+9|0,0)}function nt(z){return z=z|0,me((z|0)-224|0),T=T+1|0,0}function Nw(z){return z=z|0,N(),T=T+1|0,0}function Tw(z){return z=z|0,v(),T=T+1|0,0}function Bw(z){return z=z|0,O(),T=T+1|0,0}function Aw(z){return z=z|0,k(),T=T+1|0,0}function kw(z){return z=z|0,fe(1)|0?1:(me(i[T+1|0]|0),T=T+2|0,0)}function Cw(z){z=z|0;var Re=0,Oe=0,Ce=1,oa=0,zs=0,Q3=0;return fe(2)|0?1:(Re=i[T+1|0]|0,Oe=i[T+2|0]|0,(Re|0)&128&&(Ce=-1),oa=+(((Re|0)&124)>>2),zs=+(((Re|0)&3)<<8|Oe),+oa==0?y(+(+Ce*5960464477539063e-23*+zs)):+oa==31?+Ce==1?+zs>0?S():_():+zs>0?j():x():y(+(+Ce*he(2,+(+oa-25))*+(1024+zs))),T=T+3|0,0)}function Rw(z){return z=z|0,fe(4)|0?1:(p(i[T+1|0]|0,i[T+2|0]|0,i[T+3|0]|0,i[T+4|0]|0),T=T+5|0,0)}function Ow(z){return z=z|0,fe(8)|0?1:(m(i[T+1|0]|0,i[T+2|0]|0,i[T+3|0]|0,i[T+4|0]|0,i[T+5|0]|0,i[T+6|0]|0,i[T+7|0]|0,i[T+8|0]|0),T=T+9|0,0)}function $e(z){return z=z|0,1}function Uw(z){return z=z|0,X(),T=T+1|0,0}var Fw=[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,M,K,H,Y,$e,$e,$e,$e,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,u,c,b,B,$e,$e,$e,$e,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Z,ae,ye,we,$e,$e,$e,Ne,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,d,h,R,L,$e,$e,$e,J,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,_e,Be,Se,ve,$e,$e,$e,Ie,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Fu,Iu,ju,Pu,$e,$e,$e,Mu,mn,mn,mn,mn,mn,mn,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,_w,bw,Ew,Sw,$e,$e,$e,$e,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,Nw,Tw,Bw,Aw,kw,Cw,Rw,Ow,$e,$e,$e,Uw];return{parse:be}},Eu={},Ot={};const Qd=bu.BigNumber;Ot.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Ot.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Ot.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Ot.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Ot.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Ot.SHIFT32=Math.pow(2,32);Ot.SHIFT16=Math.pow(2,16);Ot.MAX_SAFE_HIGH=2097151;Ot.NEG_ONE=new Qd(-1);Ot.TEN=new Qd(10);Ot.TWO=new Qd(2);Ot.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=ra,r=bu.BigNumber,n=Ot,i=n.SHIFT32,s=n.SHIFT16,o=2097151;e.parseHalf=function(f){var y,p,m;return m=f[0]&128?-1:1,y=(f[0]&124)>>2,p=(f[0]&3)<<8|f[1],y?y===31?m*(p?NaN:1/0):m*Math.pow(2,y-25)*(1024+p):m*5960464477539063e-23*p};function a(l){return l<16?"0"+l.toString(16):l.toString(16)}e.arrayBufferToBignumber=function(l){const f=l.byteLength;let y="";for(let p=0;p<f;p++)y+=a(l[p]);return new r(y,16)},e.buildMap=l=>{const f=new Map,y=Object.keys(l),p=y.length;for(let m=0;m<p;m++)f.set(y[m],l[y[m]]);return f},e.buildInt32=(l,f)=>l*s+f,e.buildInt64=(l,f,y,p)=>{const m=e.buildInt32(l,f),v=e.buildInt32(y,p);return m>o?new r(m).times(i).plus(v):m*i+v},e.writeHalf=function(f,y){const p=t.allocUnsafe(4);p.writeFloatBE(y,0);const m=p.readUInt32BE(0);if(m&8191)return!1;var v=m>>16&32768;const N=m>>23&255,k=m&8388607;if(N>=113&&N<=142)v+=(N-112<<10)+(k>>13);else if(N>=103&&N<113){if(k&(1<<126-N)-1)return!1;v+=k+8388608>>126-N}else return!1;return f.writeUInt16BE(v,0),!0},e.keySorter=function(l,f){var y=l[0].byteLength,p=f[0].byteLength;return y>p?1:p>y?-1:l[0].compare(f[0])},e.isNegativeZero=l=>l===0&&1/l<0,e.nextPowerOf2=l=>{let f=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,f+=1;return 1<<f}})(Eu);const Jd=Ot,sb=Jd.MT,Aa=Jd.SIMPLE,mc=Jd.SYMS;let ob=class Pf{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,sb.SIMPLE_FLOAT)}static isSimple(t){return t instanceof Pf}static decode(t,r){switch(r==null&&(r=!0),t){case Aa.FALSE:return!1;case Aa.TRUE:return!0;case Aa.NULL:return r?null:mc.NULL;case Aa.UNDEFINED:return r?void 0:mc.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return mc.BREAK;default:return new Pf(t)}}};var e1=ob;let ab=class Mf{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=Mf["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(Mf,this.value)}catch(i){return r=i,this.err=r,this}}};var t1=ab;const r1=self.location?self.location.protocol+"//"+self.location.host:"",$f=self.URL;let lb=class{constructor(t="",r=r1){this.super=new $f(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function ub(e){if(typeof e=="string")return new $f(e).toString();if(!(e instanceof $f)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),l=e.hash||"",f=e.pathname||"",y=e.path||f+a;return`${i}${t||r}${s||o+n}${y}${l}`}}var n1={URLWithLegacySupport:lb,URLSearchParams:self.URLSearchParams,defaultBase:r1,format:ub};const{URLWithLegacySupport:t4,format:r4}=n1,{URLWithLegacySupport:cb,format:n4,URLSearchParams:i4,defaultBase:s4}=n1;var i1={URL:cb};const{Buffer:$i}=ra,$h=Xo,fb=bu.BigNumber,db=ib,Ut=Eu,Me=Ot,hb=e1,pb=t1,{URL:mb}=i1;let zf=class Vf{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Ut.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=$i.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Ut.arrayBufferToBignumber(r),3:r=>Me.NEG_ONE.minus(Ut.arrayBufferToBignumber(r)),4:r=>Me.TEN.pow(r[0]).times(r[1]),5:r=>Me.TWO.pow(r[0]).times(r[1]),32:r=>new mb(r),35:r=>new RegExp(r)},t.tags),this.parser=db(vs,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Me.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Me.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Me.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Me.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Me.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Me.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Me.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Me.PARENT.ARRAY:case Me.PARENT.BYTE_STRING:case Me.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Me.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Me.PARENT.MAP,n.ref=Ut.buildMap(n.ref)));break;case Me.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Me.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Me.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new pb(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return $i.concat(t)}createByteStringFromHeap(t,r){return t===r?$i.alloc(0):$i.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Ut.buildInt32(t,r)}createInt64(t,r,n,i){return Ut.buildInt64(t,r,n,i)}createFloat(t){return t}createFloatSingle(t,r,n,i){return $h.read([t,r,n,i],0,!1,23,4)}createFloatDouble(t,r,n,i,s,o,a,l){return $h.read([t,r,n,i,s,o,a,l],0,!1,52,8)}createInt32Neg(t,r){return-1-Ut.buildInt32(t,r)}createInt64Neg(t,r,n,i){const s=Ut.buildInt32(t,r),o=Ut.buildInt32(n,i);return s>Me.MAX_SAFE_HIGH?Me.NEG_ONE.minus(new fb(s).times(Me.SHIFT32).plus(o)):-1-(s*Me.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new hb(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,i){this._push(this.createInt64(t,r,n,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,i){this._push(this.createFloatSingle(t,r,n,i))}pushFloatDouble(t,r,n,i,s,o,a,l){this._push(this.createFloatDouble(t,r,n,i,s,o,a,l))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,i){this._push(this.createInt64Neg(t,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Me.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=Ut.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,i){const s=Ut.buildInt64(t,r,n,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=Ut.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,i){const s=Ut.buildInt64(t,r,n,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:Me.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Me.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Me.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Ut.buildInt32(t,r))}pushTagStart8(t,r,n,i){this.pushTagStart(Ut.buildInt64(t,r,n,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Me.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Me.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=$i.from(t,r||"hex")),new Vf({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=$i.from(t,r||"hex")),new Vf({size:t.length}).decodeAll(t)}};zf.decodeFirst=zf.decode;var s1=zf;const{Buffer:yc}=ra,yb=s1,gb=Eu;class e0 extends yb{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,i){return super.createInt64(t,r,n,i).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,i){return super.createInt64Neg(t,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return gb.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,i){return`${super.createFloatSingle(t,r,n,i)}_2`}createFloatDouble(t,r,n,i,s,o,a,l){return`${super.createFloatDouble(t,r,n,i,s,o,a,l)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${yc.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),i=Array.from(n.keys()).reduce(zh(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(t,r){const n=super.createObject(t),i=Object.keys(n).reduce(zh(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${yc.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=yc.from(t,r||"hex")),new e0().decodeFirst(t)}}var wb=e0;function zh(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Ir}=ra,{URL:xb}=i1,Lf=bu.BigNumber,gc=Eu,ct=Ot,mr=ct.MT,ka=ct.NUMBYTES,Vh=ct.SHIFT32,Lh=ct.SYMS,zi=ct.TAG,vb=ct.MT.SIMPLE_FLOAT<<5|ct.NUMBYTES.TWO,_b=ct.MT.SIMPLE_FLOAT<<5|ct.NUMBYTES.FOUR,bb=ct.MT.SIMPLE_FLOAT<<5|ct.NUMBYTES.EIGHT,Eb=ct.MT.SIMPLE_FLOAT<<5|ct.SIMPLE.TRUE,Sb=ct.MT.SIMPLE_FLOAT<<5|ct.SIMPLE.FALSE,Nb=ct.MT.SIMPLE_FLOAT<<5|ct.SIMPLE.UNDEFINED,Hh=ct.MT.SIMPLE_FLOAT<<5|ct.SIMPLE.NULL,Tb=new Lf("0x20000000000000"),Bb=Ir.from("f97e00","hex"),Ab=Ir.from("f9fc00","hex"),kb=Ir.from("f97c00","hex");function Cb(e){return{}.toString.call(e).slice(8,-1)}class zl{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[xb,this._pushUrl],[Lf,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===t){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,o}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(Bb)}_pushInfinity(t){const r=t<0?Ab:kb;return this.push(r)}_pushFloat(t){const r=Ir.allocUnsafe(2);if(gc.writeHalf(r,t)&&gc.parseHalf(r)===t)return this._pushUInt8(vb)&&this.push(r);const n=Ir.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(_b)&&this.push(n):this._pushUInt8(bb)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const i=r<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|ka.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|ka.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|ka.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ka.EIGHT)&&this._pushUInt32BE(Math.floor(t/Vh))&&this._pushUInt32BE(t%Vh):r===mr.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,mr.NEG_INT,t):this._pushInt(t,mr.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=Ir.byteLength(t,"utf8");return this._pushInt(r,mr.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?Eb:Sb)}_pushUndefined(t){return this._pushUInt8(Nb)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,mr.ARRAY))return!1;for(let i=0;i<n;i++)if(!t.pushAny(r[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,mr.TAG)}_pushDate(t,r){return t._pushTag(zi.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,mr.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(zi.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,mr.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(zi.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=zi.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=zi.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=Ir.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(zi.DECIMAL_FRAC)&&t._pushInt(2,mr.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new Lf(10).pow(n));return t._pushIntNum(-n)?i.abs().isLessThan(Tb)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,r){return t._pushInt(r.size,mr.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(Hh);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var s=Object.keys(t),o=s.length;return this._pushInt(o,mr.MAP)?this._pushRawMap(o,s.map(a=>[a,t[a]])):!1}_pushRawMap(t,r){r=r.map(function(i){return i[0]=zl.encode(i[0]),i}).sort(gc.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=Cb(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Ir.isBuffer(t)?t:Ir.from(t));case"Null":return this._pushUInt8(Hh);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case Lh.NULL:return this._pushObject(null);case Lh.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=r[o];var a=Ir.allocUnsafe(s),l=0,f=0;for(o=0;o<i;o++){switch(f=r[o],n[o]){case 0:t[o].copy(a,l);break;case 1:a.writeUInt8(t[o],l,!0);break;case 2:a.writeUInt16BE(t[o],l,!0);break;case 3:a.writeUInt32BE(t[o],l,!0);break;case 4:a.writeDoubleBE(t[o],l,!0);break;case 5:a.write(t[o],l,f,"utf8");break;default:throw new Error("unkown method")}l+=f}var y=a;return this._reset(),y}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new zl;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var Rb=zl;(function(e){e.Diagnose=wb,e.Decoder=s1,e.Encoder=Rb,e.Simple=e1,e.Tagged=t1,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Qg);const o1=Rp(Qg);function br(e){return yo(H_.create().update(new Uint8Array(e)).digest())}function Ya(e){if(e instanceof o1.Tagged)return Ya(e.value);if(typeof e=="string")return a1(e);if(typeof e=="number")return br(Qe(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return br(e);if(Array.isArray(e)){const t=e.map(Ya);return br(Nr(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return br(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Ya(e.toHash());if(typeof e=="object")return Vl(e);if(typeof e=="bigint")return br(Qe(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const a1=e=>{const t=new TextEncoder().encode(e);return br(t)};function Mo(e){return Vl(e)}function Vl(e){const n=Object.entries(e).filter(([,o])=>o!==void 0).map(([o,a])=>{const l=a1(o),f=Ya(a);return[l,f]}).sort(([o],[a])=>hg(o,a)),i=Nr(...n.map(o=>Nr(...o)));return br(i)}var Ob=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ub=new TextEncoder().encode(`
ic-request`);class t0{getPrincipal(){return this._principal||(this._principal=Te.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=Ob(t,["body"]),i=Mo(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Nr(Ub,i))}})}}class Ll{getPrincipal(){return Te.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var Ht={},$s={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});const Fb=9007199254740992;function dn(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((i,s)=>i+s.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const i of t)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function Br(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const i=[(e<<5)+t].concat(r.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function Su(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Br(e,r,t.toString(16))}}function l1(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return dn(new Uint8Array(Su(3,e.length)),new Uint8Array(t))}function Ib(e,t){if(e==14277111)return dn(new Uint8Array([217,217,247]),t);if(e<24)return dn(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),i=e.toString(16).slice(-n*2).padStart(n*2,"0"),s=[192+r].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}ze.tagged=Ib;function na(e){return new Uint8Array(e).buffer}ze.raw=na;function r0(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}ze.uSmall=r0;function u1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Br(0,24,e)}ze.u8=u1;function c1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Br(0,25,e)}ze.u16=c1;function f1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Br(0,26,e)}ze.u32=f1;function n0(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Br(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),Fb),e=e.toString(16),Br(0,27,e)}ze.u64=n0;function d1(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return r0(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}ze.iSmall=d1;function h1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Br(1,24,e)}ze.i8=h1;function p1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Br(1,25,e)}ze.i16=p1;function m1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Br(1,26,e)}ze.i32=m1;function y1(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((i,s)=>{if(r)return s+i;let o=parseInt(s,16)-1;return o>=0?(r=!0,o.toString(16)+i):"f"+i},"");return r?Br(1,27,n):n0(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Br(1,27,e)}ze.i64=y1;function jb(e){return e>=0?e<24?r0(e):e<=255?u1(e):e<=65535?c1(e):e<=4294967295?f1(e):n0(e):e>=-24?d1(e):e>=-255?h1(e):e>=-65535?p1(e):e>=-4294967295?m1(e):y1(e)}ze.number=jb;function Pb(e){return dn(Su(2,e.byteLength),e)}ze.bytes=Pb;function Mb(e){return l1(e)}ze.string=Mb;function $b(e){return dn(Su(4,e.length),...e)}ze.array=$b;function zb(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[i])=>n.localeCompare(i))),dn(Su(5,e.size),...r.map(([n,i])=>dn(l1(n),i)))}ze.map=zb;function Vb(e){const t=new Float32Array([e]);return dn(new Uint8Array([250]),new Uint8Array(t.buffer))}ze.singleFloat=Vb;function Lb(e){const t=new Float64Array([e]);return dn(new Uint8Array([251]),new Uint8Array(t.buffer))}ze.doubleFloat=Lb;function Hb(e){return e?g1():w1()}ze.bool=Hb;function g1(){return na(new Uint8Array([245]))}ze.true_=g1;function w1(){return na(new Uint8Array([244]))}ze.false_=w1;function qb(){return na(new Uint8Array([246]))}ze.null_=qb;function Gb(){return na(new Uint8Array([247]))}ze.undefined_=Gb;var Wb=vs&&vs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty($s,"__esModule",{value:!0});const yr=Wb(ze),Kb=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class x1{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return yr.undefined_();case"boolean":return yr.bool(t);case"number":return Math.floor(t)===t?yr.number(t):yr.doubleFloat(t);case"string":return yr.string(t);case"object":if(t===null)return yr.null_();if(Array.isArray(t))return yr.array(t.map(r=>this._serializer.serializeValue(r)));if(Kb.find(r=>t instanceof r))return yr.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,i]of t.entries())r.set(n,this._serializer.serializeValue(i));return yr.map(r,this._stable)}else{const r=new Map;for(const[n,i]of Object.entries(t))r.set(n,this._serializer.serializeValue(i));return yr.map(r,this._stable)}default:throw new Error("Invalid value.")}}}$s.JsonDefaultCborEncoder=x1;class v1{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}$s.ToCborEncoder=v1;class _1{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new x1(r,t)),r.addEncoder(new v1),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}$s.CborSerializer=_1;class Db extends _1{serialize(t){return yr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}$s.SelfDescribeCborSerializer=Db;(function(e){function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}var r=vs&&vs.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(e,"__esModule",{value:!0}),t($s);const n=r(ze);e.value=n})(Ht);class Yb{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return Ht.value.bytes(t.toUint8Array())}}class Zb{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Ht.value.bytes(new Uint8Array(t))}}class Xb{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Ht.value.tagged(2,Ht.value.bytes(an(t.toString(16)))):Ht.value.tagged(3,Ht.value.bytes(an((BigInt("-1")*t).toString(16))))}}const Nu=Ht.SelfDescribeCborSerializer.withDefaultEncoders(!0);Nu.addEncoder(new Yb);Nu.addEncoder(new Zb);Nu.addEncoder(new Xb);var Hf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Hf||(Hf={}));function wc(e){return Nu.serialize(e)}function qh(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class Qb extends o1.Decoder{createByteString(t){return Nr(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function tn(e){const t=new Uint8Array(e),r=new Qb({size:t.byteLength,tags:{2:n=>qh(n),3:n=>-qh(n),[Hf.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${Ge(t)}`)}}const Ca=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var qf;(function(e){e.Call="call"})(qf||(qf={}));function Gf(){const e=new ArrayBuffer(16),t=new DataView(e),r=Ca(),n=Ca(),i=Ca(),s=Ca();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,s),e}const Gh=BigInt(1e6),Jb=60*1e3;class Ra{constructor(t){if(t<90*1e3){const a=BigInt(Date.now()+t)*Gh/BigInt(1e9);this._value=a*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+t-Jb))*Gh/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return Ht.value.u64(this._value.toString(16),16)}toHash(){return Qe(this._value)}}function Wh(e=Gf){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function eo(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class xc extends Xe{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class eE extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class tE extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class rE extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i0=BigInt(0),Hl=BigInt(1);function $o(e,t=""){if(typeof e!="boolean"){const r=t&&`"${t}"`;throw new Error(r+"expected boolean, got type="+typeof e)}return e}function ws(e,t,r=""){const n=Qo(e),i=e==null?void 0:e.length,s=t!==void 0;if(!n||s&&i!==t){const o=r&&`"${r}" `,a=s?` of length ${t}`:"",l=n?`length=${i}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return e}function b1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?i0:BigInt("0x"+e)}function Lr(e){return b1(ks(e))}function zo(e){return fr(e),b1(ks(Uint8Array.from(e).reverse()))}function xt(e,t){return og(e.toString(16).padStart(t*2,"0"))}function E1(e,t){return xt(e,t).reverse()}function Vt(e,t,r){let n;if(typeof t=="string")try{n=og(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Qo(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Kh(e){return Uint8Array.from(e)}const vc=e=>typeof e=="bigint"&&i0<=e;function S1(e,t,r){return vc(e)&&vc(t)&&vc(r)&&t<=e&&e<r}function Dh(e,t,r,n){if(!S1(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Vo(e){let t;for(t=0;e>i0;e>>=Hl,t+=1);return t}function nE(e,t){return e>>BigInt(t)&Hl}const Ri=e=>(Hl<<BigInt(e))-Hl;function iE(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function ia(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,s,o){const a=e[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(t).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}const N1=()=>{throw new Error("not implemented")};function Lo(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gt=BigInt(0),_t=BigInt(1),fi=BigInt(2),T1=BigInt(3),B1=BigInt(4),A1=BigInt(5),sE=BigInt(7),k1=BigInt(8),oE=BigInt(9),C1=BigInt(16);function Je(e,t){const r=e%t;return r>=Gt?r:t+r}function Cr(e,t,r){let n=e;for(;t-- >Gt;)n*=n,n%=r;return n}function Yh(e,t){if(e===Gt)throw new Error("invert: expected non-zero number");if(t<=Gt)throw new Error("invert: expected positive modulus, got "+t);let r=Je(e,t),n=t,i=Gt,s=_t;for(;r!==Gt;){const a=n/r,l=n%r,f=i-s*a;n=r,r=l,i=s,s=f}if(n!==_t)throw new Error("invert: does not exist");return Je(i,t)}function s0(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function R1(e,t){const r=(e.ORDER+_t)/B1,n=e.pow(t,r);return s0(e,n,t),n}function aE(e,t){const r=(e.ORDER-A1)/k1,n=e.mul(t,fi),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,fi),i),a=e.mul(s,e.sub(o,e.ONE));return s0(e,a,t),a}function lE(e){const t=Jn(e),r=O1(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+sE)/C1;return(a,l)=>{let f=a.pow(l,o),y=a.mul(f,n);const p=a.mul(f,i),m=a.mul(f,s),v=a.eql(a.sqr(y),l),N=a.eql(a.sqr(p),l);f=a.cmov(f,y,v),y=a.cmov(m,p,N);const k=a.eql(a.sqr(y),l),O=a.cmov(f,y,k);return s0(a,O,l),O}}function O1(e){if(e<T1)throw new Error("sqrt is not defined for small field");let t=e-_t,r=0;for(;t%fi===Gt;)t/=fi,r++;let n=fi;const i=Jn(e);for(;ql(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return R1;let s=i.pow(n,t);const o=(t+_t)/fi;return function(l,f){if(l.is0(f))return f;if(ql(l,f)!==1)throw new Error("Cannot find square root");let y=r,p=l.mul(l.ONE,s),m=l.pow(f,t),v=l.pow(f,o);for(;!l.eql(m,l.ONE);){if(l.is0(m))return l.ZERO;let N=1,k=l.sqr(m);for(;!l.eql(k,l.ONE);)if(N++,k=l.sqr(k),N===y)throw new Error("Cannot find square root");const O=_t<<BigInt(y-N-1),_=l.pow(p,O);y=N,p=l.sqr(_),m=l.mul(m,p),v=l.mul(v,_)}return v}}function uE(e){return e%B1===T1?R1:e%k1===A1?aE:e%C1===oE?lE(e):O1(e)}const cE=(e,t)=>(Je(e,t)&_t)===_t,fE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=fE.reduce((n,i)=>(n[i]="function",n),t);return ia(e,r),e}function Tu(e,t,r){if(r<Gt)throw new Error("invalid exponent, negatives unsupported");if(r===Gt)return e.ONE;if(r===_t)return t;let n=e.ONE,i=t;for(;r>Gt;)r&_t&&(n=e.mul(n,i)),i=e.sqr(i),r>>=_t;return n}function Oi(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((o,a,l)=>e.is0(a)?o:(n[l]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,l)=>e.is0(a)?o:(n[l]=e.mul(o,n[l]),e.mul(o,a)),s),n}function ql(e,t){const r=(e.ORDER-_t)/fi,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function dE(e,t){t!==void 0&&__(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Jn(e,t,r=!1,n={}){if(e<=Gt)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o=!1,a;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const m=t;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(r=m.isLE),typeof m.modFromBytes=="boolean"&&(o=m.modFromBytes),a=m.allowedLengths}else typeof t=="number"&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:l,nByteLength:f}=dE(e,i);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let y;const p=Object.freeze({ORDER:e,isLE:r,BITS:l,BYTES:f,MASK:Ri(l),ZERO:Gt,ONE:_t,allowedLengths:a,create:m=>Je(m,e),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return Gt<=m&&m<e},is0:m=>m===Gt,isValidNot0:m=>!p.is0(m)&&p.isValid(m),isOdd:m=>(m&_t)===_t,neg:m=>Je(-m,e),eql:(m,v)=>m===v,sqr:m=>Je(m*m,e),add:(m,v)=>Je(m+v,e),sub:(m,v)=>Je(m-v,e),mul:(m,v)=>Je(m*v,e),pow:(m,v)=>Tu(p,m,v),div:(m,v)=>Je(m*Yh(v,e),e),sqrN:m=>m*m,addN:(m,v)=>m+v,subN:(m,v)=>m-v,mulN:(m,v)=>m*v,inv:m=>Yh(m,e),sqrt:s||(m=>(y||(y=uE(e)),y(p,m))),toBytes:m=>r?E1(m,f):xt(m,f),fromBytes:(m,v=!0)=>{if(a){if(!a.includes(m.length)||m.length>f)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+m.length);const k=new Uint8Array(f);k.set(m,r?0:k.length-m.length),m=k}if(m.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+m.length);let N=r?zo(m):Lr(m);if(o&&(N=Je(N,e)),!v&&!p.isValid(N))throw new Error("invalid field element: outside of range 0..ORDER");return N},invertBatch:m=>Oi(p,m),cmov:(m,v,N)=>N?v:m});return Object.freeze(p)}function F1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function I1(e){const t=F1(e);return t+Math.ceil(t/2)}function hE(e,t,r=!1){const n=e.length,i=F1(t),s=I1(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?zo(e):Lr(e),a=Je(o,t-_t)+_t;return r?E1(a,i):xt(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rs=BigInt(0),di=BigInt(1);function Gl(e,t){const r=t.negate();return e?r:t}function rn(e,t){const r=Oi(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function j1(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function _c(e,t){j1(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=Ri(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function Zh(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),l=e>>o;a>n&&(a-=s,l+=di);const f=t*n,y=f+Math.abs(a)-1,p=a===0,m=a<0,v=t%2!==0;return{nextN:l,offset:y,isZero:p,isNeg:m,isNegF:v,offsetF:f}}function pE(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function mE(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const bc=new WeakMap,P1=new WeakMap;function Ec(e){return P1.get(e)||1}function Xh(e){if(e!==Rs)throw new Error("invalid wNAF")}class M1{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>Rs;)r&di&&(n=n.add(i)),i=i.double(),r>>=di;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=_c(r,this.bits),s=[];let o=t,a=o;for(let l=0;l<n;l++){a=o,s.push(a);for(let f=1;f<i;f++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=_c(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:f,isZero:y,isNeg:p,isNegF:m,offsetF:v}=Zh(n,a,o);n=l,y?s=s.add(Gl(m,r[v])):i=i.add(Gl(p,r[f]))}return Xh(n),{p:i,f:s}}wNAFUnsafe(t,r,n,i=this.ZERO){const s=_c(t,this.bits);for(let o=0;o<s.windows&&n!==Rs;o++){const{nextN:a,offset:l,isZero:f,isNeg:y}=Zh(n,o,s);if(n=a,!f){const p=r[l];i=i.add(y?p.negate():p)}}return Xh(n),i}getPrecomputes(t,r,n){let i=bc.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),bc.set(r,i))),i}cached(t,r,n){const i=Ec(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const s=Ec(t);return s===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,t,n),r,i)}createCache(t,r){j1(r,this.bits),P1.set(t,r),bc.delete(t)}hasCache(t){return Ec(t)!==1}}function yE(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Rs||n>Rs;)r&di&&(s=s.add(i)),n&di&&(o=o.add(i)),i=i.double(),r>>=di,n>>=di;return{p1:s,p2:o}}function $1(e,t,r,n){pE(r,e),mE(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Vo(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const f=Ri(l),y=new Array(Number(f)+1).fill(o),p=Math.floor((t.BITS-1)/l)*l;let m=o;for(let v=p;v>=0;v-=l){y.fill(o);for(let k=0;k<s;k++){const O=n[k],_=Number(O>>BigInt(v)&f);y[_]=y[_].add(r[k])}let N=o;for(let k=y.length-1,O=o;k>0;k--)O=O.add(y[k]),N=N.add(O);if(m=m.add(N),v!==0)for(let k=0;k<l;k++)m=m.double()}return m}function Qh(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return U1(t),t}else return Jn(e,{isLE:r})}function z1(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const f=t[l];if(!(typeof f=="bigint"&&f>Rs))throw new Error(`CURVE.${l} must be positive bigint`)}const i=Qh(t.p,r.Fp,n),s=Qh(t.n,r.Fn,n),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:s}}const gE=Lr;function Tn(e,t){if(Ho(e),Ho(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function wE(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Ho(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function V1(e){if(!Qo(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?Jo(e):e}function xE(e,t,r,n){fr(e),Ho(r),t=V1(t),t.length>255&&(t=n(tt(Jo("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=tt(t,Tn(t.length,1)),l=Tn(0,s),f=Tn(r,2),y=new Array(o),p=n(tt(l,e,f,Tn(0,1),a));y[0]=n(tt(p,Tn(1,1),a));for(let v=1;v<=o;v++){const N=[wE(p,y[v-1]),Tn(v+1,1),a];y[v]=n(tt(...N))}return tt(...y).slice(0,r)}function vE(e,t,r,n,i){if(fr(e),Ho(r),t=V1(t),t.length>255){const s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update(Jo("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Tn(r,2)).update(t).update(Tn(t.length,1)).digest()}function Sc(e,t,r){ia(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:s,hash:o,expand:a,DST:l}=r;if(!iE(r.hash))throw new Error("expected valid hash");fr(e),Ho(t);const f=n.toString(2).length,y=Math.ceil((f+i)/8),p=t*s*y;let m;if(a==="xmd")m=xE(e,l,p,o);else if(a==="xof")m=vE(e,l,p,i,o);else if(a==="_internal_pass")m=e;else throw new Error('expand must be "xmd" or "xof"');const v=new Array(t);for(let N=0;N<t;N++){const k=new Array(s);for(let O=0;O<s;O++){const _=y*(O+N*s),x=m.subarray(_,_+y);k[O]=Je(gE(x),n)}v[N]=k}return v}function L1(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,l]=r.map(p=>p.reduce((m,v)=>e.add(e.mul(m,n),v))),[f,y]=Oi(e,[o,l],!0);return n=e.mul(s,f),i=e.mul(i,e.mul(a,y)),{x:n,y:i}}}const _E=Jo("HashToScalar-");function Jh(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(s,o){const a=Object.assign({},r,o),l=Sc(s,2,a),f=n(l[0]),y=n(l[1]);return i(f.add(y))},encodeToCurve(s,o){const a=r.encodeDST?{DST:r.encodeDST}:{},l=Object.assign({},r,a,o),f=Sc(s,1,l),y=n(f[0]);return i(y)},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(n(s))},hashToScalar(s,o){const a=e.Fn.ORDER,l=Object.assign({},r,{p:a,m:1,DST:_E},o);return Sc(s,1,l)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ep=(e,t)=>(e+(e>=0?t:-t)/Gr)/t;function bE(e,t,r){const[[n,i],[s,o]]=t,a=ep(o*e,r),l=ep(-i*e,r);let f=e-a*n-l*s,y=-a*i-l*o;const p=f<hi,m=y<hi;p&&(f=-f),m&&(y=-y);const v=Ri(Math.ceil(Vo(r)/2))+It;if(f<hi||f>=v||y<hi||y>=v)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:p,k1:f,k2neg:m,k2:y}}const hi=BigInt(0),It=BigInt(1),Gr=BigInt(2),ls=BigInt(3),Wf=BigInt(4);function Wl(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let i=Vt("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function EE(e,t={}){const r=z1("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;ia(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!n.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=TE(n,i);function y(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p(ee,q,te){const{x:se,y:de}=q.toAffine(),me=n.toBytes(se);if($o(te,"isCompressed"),te){y();const D=!n.isOdd(de);return tt(SE(D),me)}else return tt(Uint8Array.of(4),me,n.toBytes(de))}function m(ee){ws(ee,void 0,"Point");const{publicKey:q,publicKeyUncompressed:te}=f,se=ee.length,de=ee[0],me=ee.subarray(1);if(se===q&&(de===2||de===3)){const D=n.fromBytes(me);if(!n.isValid(D))throw new Error("bad point: is not on curve, wrong x");const re=k(D);let ie;try{ie=n.sqrt(re)}catch(he){const T=he instanceof Error?": "+he.message:"";throw new Error("bad point: is not on curve, sqrt error"+T)}y();const W=n.isOdd(ie);return(de&1)===1!==W&&(ie=n.neg(ie)),{x:D,y:ie}}else if(se===te&&de===4){const D=n.BYTES,re=n.fromBytes(me.subarray(0,D)),ie=n.fromBytes(me.subarray(D,D*2));if(!O(re,ie))throw new Error("bad point: is not on curve");return{x:re,y:ie}}else throw new Error(`bad point: got length ${se}, expected compressed=${q} or uncompressed=${te}`)}const v=t.toBytes||p,N=t.fromBytes||m;function k(ee){const q=n.sqr(ee),te=n.mul(q,ee);return n.add(n.add(te,n.mul(ee,s.a)),s.b)}function O(ee,q){const te=n.sqr(q),se=k(ee);return n.eql(te,se)}if(!O(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const _=n.mul(n.pow(s.a,ls),Wf),x=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(_,x)))throw new Error("bad curve params: a or b");function S(ee,q,te=!1){if(!n.isValid(q)||te&&n.is0(q))throw new Error(`bad point coordinate ${ee}`);return q}function j(ee){if(!(ee instanceof V))throw new Error("ProjectivePoint expected")}function F(ee){if(!l||!l.basises)throw new Error("no endo");return bE(ee,l.basises,i.ORDER)}const U=Lo((ee,q)=>{const{X:te,Y:se,Z:de}=ee;if(n.eql(de,n.ONE))return{x:te,y:se};const me=ee.is0();q==null&&(q=me?n.ONE:n.inv(de));const D=n.mul(te,q),re=n.mul(se,q),ie=n.mul(de,q);if(me)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ie,n.ONE))throw new Error("invZ was invalid");return{x:D,y:re}}),$=Lo(ee=>{if(ee.is0()){if(t.allowInfinityPoint&&!n.is0(ee.Y))return;throw new Error("bad point: ZERO")}const{x:q,y:te}=ee.toAffine();if(!n.isValid(q)||!n.isValid(te))throw new Error("bad point: x or y not field elements");if(!O(q,te))throw new Error("bad point: equation left != right");if(!ee.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function G(ee,q,te,se,de){return te=new V(n.mul(te.X,ee),te.Y,te.Z),q=Gl(se,q),te=Gl(de,te),q.add(te)}class V{constructor(q,te,se){this.X=S("x",q),this.Y=S("y",te,!0),this.Z=S("z",se),Object.freeze(this)}static CURVE(){return s}static fromAffine(q){const{x:te,y:se}=q||{};if(!q||!n.isValid(te)||!n.isValid(se))throw new Error("invalid affine point");if(q instanceof V)throw new Error("projective point not allowed");return n.is0(te)&&n.is0(se)?V.ZERO:new V(te,se,n.ONE)}static fromBytes(q){const te=V.fromAffine(N(ws(q,void 0,"point")));return te.assertValidity(),te}static fromHex(q){return V.fromBytes(Vt("pointHex",q))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(q=8,te=!0){return ne.createCache(this,q),te||this.multiply(ls),this}assertValidity(){$(this)}hasEvenY(){const{y:q}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(q)}equals(q){j(q);const{X:te,Y:se,Z:de}=this,{X:me,Y:D,Z:re}=q,ie=n.eql(n.mul(te,re),n.mul(me,de)),W=n.eql(n.mul(se,re),n.mul(D,de));return ie&&W}negate(){return new V(this.X,n.neg(this.Y),this.Z)}double(){const{a:q,b:te}=s,se=n.mul(te,ls),{X:de,Y:me,Z:D}=this;let re=n.ZERO,ie=n.ZERO,W=n.ZERO,X=n.mul(de,de),he=n.mul(me,me),T=n.mul(D,D),ce=n.mul(de,me);return ce=n.add(ce,ce),W=n.mul(de,D),W=n.add(W,W),re=n.mul(q,W),ie=n.mul(se,T),ie=n.add(re,ie),re=n.sub(he,ie),ie=n.add(he,ie),ie=n.mul(re,ie),re=n.mul(ce,re),W=n.mul(se,W),T=n.mul(q,T),ce=n.sub(X,T),ce=n.mul(q,ce),ce=n.add(ce,W),W=n.add(X,X),X=n.add(W,X),X=n.add(X,T),X=n.mul(X,ce),ie=n.add(ie,X),T=n.mul(me,D),T=n.add(T,T),X=n.mul(T,ce),re=n.sub(re,X),W=n.mul(T,he),W=n.add(W,W),W=n.add(W,W),new V(re,ie,W)}add(q){j(q);const{X:te,Y:se,Z:de}=this,{X:me,Y:D,Z:re}=q;let ie=n.ZERO,W=n.ZERO,X=n.ZERO;const he=s.a,T=n.mul(s.b,ls);let ce=n.mul(te,me),Ee=n.mul(se,D),be=n.mul(de,re),fe=n.add(te,se),pe=n.add(me,D);fe=n.mul(fe,pe),pe=n.add(ce,Ee),fe=n.sub(fe,pe),pe=n.add(te,de);let A=n.add(me,re);return pe=n.mul(pe,A),A=n.add(ce,be),pe=n.sub(pe,A),A=n.add(se,de),ie=n.add(D,re),A=n.mul(A,ie),ie=n.add(Ee,be),A=n.sub(A,ie),X=n.mul(he,pe),ie=n.mul(T,be),X=n.add(ie,X),ie=n.sub(Ee,X),X=n.add(Ee,X),W=n.mul(ie,X),Ee=n.add(ce,ce),Ee=n.add(Ee,ce),be=n.mul(he,be),pe=n.mul(T,pe),Ee=n.add(Ee,be),be=n.sub(ce,be),be=n.mul(he,be),pe=n.add(pe,be),ce=n.mul(Ee,pe),W=n.add(W,ce),ce=n.mul(A,pe),ie=n.mul(fe,ie),ie=n.sub(ie,ce),ce=n.mul(fe,Ee),X=n.mul(A,X),X=n.add(X,ce),new V(ie,W,X)}subtract(q){return this.add(q.negate())}is0(){return this.equals(V.ZERO)}multiply(q){const{endo:te}=t;if(!i.isValidNot0(q))throw new Error("invalid scalar: out of range");let se,de;const me=D=>ne.cached(this,D,re=>rn(V,re));if(te){const{k1neg:D,k1:re,k2neg:ie,k2:W}=F(q),{p:X,f:he}=me(re),{p:T,f:ce}=me(W);de=he.add(ce),se=G(te.beta,X,T,D,ie)}else{const{p:D,f:re}=me(q);se=D,de=re}return rn(V,[se,de])[0]}multiplyUnsafe(q){const{endo:te}=t,se=this;if(!i.isValid(q))throw new Error("invalid scalar: out of range");if(q===hi||se.is0())return V.ZERO;if(q===It)return se;if(ne.hasCache(this))return this.multiply(q);if(te){const{k1neg:de,k1:me,k2neg:D,k2:re}=F(q),{p1:ie,p2:W}=yE(V,se,me,re);return G(te.beta,ie,W,de,D)}else return ne.unsafe(se,q)}multiplyAndAddUnsafe(q,te,se){const de=this.multiplyUnsafe(te).add(q.multiplyUnsafe(se));return de.is0()?void 0:de}toAffine(q){return U(this,q)}isTorsionFree(){const{isTorsionFree:q}=t;return o===It?!0:q?q(V,this):ne.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:q}=t;return o===It?this:q?q(V,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(q=!0){return $o(q,"isCompressed"),this.assertValidity(),v(V,this,q)}toHex(q=!0){return ks(this.toBytes(q))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(q=!0){return this.toBytes(q)}_setWindowSize(q){this.precompute(q)}static normalizeZ(q){return rn(V,q)}static msm(q,te){return $1(V,i,q,te)}static fromPrivateKey(q){return V.BASE.multiply(Wl(i,q))}}V.BASE=new V(s.Gx,s.Gy,n.ONE),V.ZERO=new V(n.ZERO,n.ONE,n.ZERO),V.Fp=n,V.Fn=i;const P=i.BITS,ne=new M1(V,t.endo?Math.ceil(P/2):P);return V.BASE.precompute(8),V}function SE(e){return Uint8Array.of(e?2:3)}function NE(e,t){const r=e.ORDER;let n=hi;for(let N=r-It;N%Gr===hi;N/=Gr)n+=It;const i=n,s=Gr<<i-It-It,o=s*Gr,a=(r-It)/o,l=(a-It)/Gr,f=o-It,y=s,p=e.pow(t,a),m=e.pow(t,(a+It)/Gr);let v=(N,k)=>{let O=p,_=e.pow(k,f),x=e.sqr(_);x=e.mul(x,k);let S=e.mul(N,x);S=e.pow(S,l),S=e.mul(S,_),_=e.mul(S,k),x=e.mul(S,N);let j=e.mul(x,_);S=e.pow(j,y);let F=e.eql(S,e.ONE);_=e.mul(x,m),S=e.mul(j,O),x=e.cmov(_,x,F),j=e.cmov(S,j,F);for(let U=i;U>It;U--){let $=U-Gr;$=Gr<<$-It;let G=e.pow(j,$);const V=e.eql(G,e.ONE);_=e.mul(x,O),O=e.mul(O,O),G=e.mul(j,O),x=e.cmov(_,x,V),j=e.cmov(G,j,V)}return{isValid:F,value:x}};if(e.ORDER%Wf===ls){const N=(e.ORDER-ls)/Wf,k=e.sqrt(e.neg(t));v=(O,_)=>{let x=e.sqr(_);const S=e.mul(O,_);x=e.mul(x,S);let j=e.pow(x,N);j=e.mul(j,S);const F=e.mul(j,k),U=e.mul(e.sqr(j),_),$=e.eql(U,O);let G=e.cmov(F,j,$);return{isValid:$,value:G}}}return v}function H1(e,t){U1(e);const{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const s=NE(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let a,l,f,y,p,m,v,N;a=e.sqr(o),a=e.mul(a,i),l=e.sqr(a),l=e.add(l,a),f=e.add(l,e.ONE),f=e.mul(f,n),y=e.cmov(i,e.neg(l),!e.eql(l,e.ZERO)),y=e.mul(y,r),l=e.sqr(f),m=e.sqr(y),p=e.mul(m,r),l=e.add(l,p),l=e.mul(l,f),m=e.mul(m,y),p=e.mul(m,n),l=e.add(l,p),v=e.mul(a,f);const{isValid:k,value:O}=s(l,m);N=e.mul(a,o),N=e.mul(N,O),v=e.cmov(v,f,k),N=e.cmov(N,O,k);const _=e.isOdd(o)===e.isOdd(N);N=e.cmov(e.neg(N),N,_);const x=Oi(e,[y],!0)[0];return v=e.mul(v,x),{x:v,y:N}}}function TE(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function tp(e){const{CURVE:t,curveOpts:r}=BE(e),n=EE(t,r);return kE(e,n)}function BE(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Jn(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function AE(e,t,r){function n(i){const s=e.sqr(i),o=e.mul(s,i);return e.add(e.add(o,e.mul(i,t)),r)}return n}function kE(e,t){const{Fp:r,Fn:n}=t;function i(o){return S1(o,It,n.ORDER)}const s=AE(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:o=>Wl(n,o),weierstrassEquation:s,isWithinCurveOrder:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CE=BigInt(0),Oa=BigInt(1),rp=BigInt(2),us=BigInt(3);function RE(e){const t=[];for(;e>Oa;e>>=Oa)(e&Oa)===CE?t.unshift(0):(e&us)===us?(t.unshift(-1),e+=Oa):t.unshift(1);return t}function Nc(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function OE(e,t,r,n){const{Fp2:i,Fp12:s}=e,{twistType:o,ateLoopSize:a,xNegative:l,postPrecompute:f}=n;let y;if(o==="multiplicative")y=(S,j,F,U,$,G)=>s.mul014(U,S,i.mul(j,$),i.mul(F,G));else if(o==="divisive")y=(S,j,F,U,$,G)=>s.mul034(U,i.mul(F,G),i.mul(j,$),S);else throw new Error("bls: unknown twist type");const p=i.div(i.ONE,i.mul(i.ONE,rp));function m(S,j,F,U){const $=i.sqr(F),G=i.sqr(U),V=i.mulByB(i.mul(G,us)),P=i.mul(V,us),ne=i.sub(i.sub(i.sqr(i.add(F,U)),G),$),ee=i.sub(V,$),q=i.mul(i.sqr(j),us),te=i.neg(ne);return S.push([ee,q,te]),j=i.mul(i.mul(i.mul(i.sub($,P),j),F),p),F=i.sub(i.sqr(i.mul(i.add($,P),p)),i.mul(i.sqr(V),us)),U=i.mul($,ne),{Rx:j,Ry:F,Rz:U}}function v(S,j,F,U,$,G){const V=i.sub(F,i.mul(G,U)),P=i.sub(j,i.mul($,U)),ne=i.sub(i.mul(V,$),i.mul(P,G)),ee=i.neg(V),q=P;S.push([ne,ee,q]);const te=i.sqr(P),se=i.mul(te,P),de=i.mul(te,j),me=i.add(i.sub(se,i.mul(de,rp)),i.mul(i.sqr(V),U));return j=i.mul(P,me),F=i.sub(i.mul(i.sub(de,me),V),i.mul(se,F)),U=i.mul(U,se),{Rx:j,Ry:F,Rz:U}}const N=RE(a),k=Lo(S=>{const j=S,{x:F,y:U}=j.toAffine(),$=F,G=U,V=i.neg(U);let P=$,ne=G,ee=i.ONE;const q=[];for(const te of N){const se=[];({Rx:P,Ry:ne,Rz:ee}=m(se,P,ne,ee)),te&&({Rx:P,Ry:ne,Rz:ee}=v(se,P,ne,ee,$,te===-1?V:G)),q.push(se)}if(f){const te=q[q.length-1];f(P,ne,ee,$,G,v.bind(null,te))}return q});function O(S,j=!1){let F=s.ONE;if(S.length){const U=S[0][0].length;for(let $=0;$<U;$++){F=s.sqr(F);for(const[G,V,P]of S)for(const[ne,ee,q]of G[$])F=y(ne,ee,q,F,V,P)}}return l&&(F=s.conjugate(F)),j?s.finalExponentiate(F):F}function _(S,j=!0){const F=[];rn(t,S.map(({g1:U})=>U)),rn(r,S.map(({g2:U})=>U));for(const{g1:U,g2:$}of S){if(U.is0()||$.is0())throw new Error("pairing is not available for ZERO point");U.assertValidity(),$.assertValidity();const G=U.toAffine();F.push([k($),G.x,G.y])}return O(F,j)}function x(S,j,F=!0){return _([{g1:S,g2:j}],F)}return{Fp12:s,millerLoopBatch:O,pairing:x,pairingBatch:_,calcPairingPrecomputes:k}}function np(e,t,r,n,i){const{Fp12:s,pairingBatch:o}=e;function a(p){return p instanceof t.Point?p:t.Point.fromHex(p)}function l(p){return p instanceof r.Point?p:r.Point.fromHex(p)}function f(p){if(!(p instanceof r.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return p}const y=i?(p,m)=>({g1:m,g2:p}):(p,m)=>({g1:p,g2:m});return{getPublicKey(p){const m=Wl(t.Point.Fn,p);return t.Point.BASE.multiply(m)},sign(p,m,v){if(v!=null)throw new Error("sign() expects 2 arguments");const N=Wl(t.Point.Fn,m);return f(p).assertValidity(),p.multiply(N)},verify(p,m,v,N){if(N!=null)throw new Error("verify() expects 3 arguments");p=l(p),v=a(v);const k=v.negate(),O=t.Point.BASE,_=f(m),x=p,S=o([y(k,_),y(O,x)]);return s.eql(S,s.ONE)},verifyBatch(p,m,v){if(Nc(m),v.length!==m.length)throw new Error("amount of public keys and messages should be equal");const N=l(p),k=m,O=v.map(a),_=new Map;for(let j=0;j<O.length;j++){const F=O[j],U=k[j];let $=_.get(U);$===void 0&&($=[],_.set(U,$)),$.push(F)}const x=[],S=t.Point.BASE;try{for(const[j,F]of _){const U=F.reduce(($,G)=>$.add(G));x.push(y(U,j))}return x.push(y(S.negate(),N)),s.eql(o(x),s.ONE)}catch{return!1}},aggregatePublicKeys(p){Nc(p),p=p.map(v=>a(v));const m=p.reduce((v,N)=>v.add(N),t.Point.ZERO);return m.assertValidity(),m},aggregateSignatures(p){Nc(p),p=p.map(v=>l(v));const m=p.reduce((v,N)=>v.add(N),r.Point.ZERO);return m.assertValidity(),m},hash(p,m){fr(p);const v=m?{DST:m}:void 0;return r.hashToCurve(p,v)},Signature:n}}function UE(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:s}=e.fields,o=tp(e.G1),a=Object.assign(o,Jh(o.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),l=tp(e.G2),f=Object.assign(l,Jh(l.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),y=OE(e.fields,a.Point,f.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:p,pairing:m,pairingBatch:v,calcPairingPrecomputes:N}=y,k=np(y,a,f,e.G2.Signature,!1),O=np(y,f,a,e.G1.ShortSignature,!0),_=e.randomBytes||lg,x=()=>{const D=I1(r.ORDER);return hE(_(D),r.ORDER)},S={randomSecretKey:x,randomPrivateKey:x,calcPairingPrecomputes:N},{ShortSignature:j}=e.G1,{Signature:F}=e.G2;function U(D,re){return D instanceof a.Point?D:O.hash(Vt("point",D),re==null?void 0:re.DST)}function $(D,re){return D instanceof f.Point?D:k.hash(Vt("point",D),re==null?void 0:re.DST)}function G(D){return k.getPublicKey(D).toBytes(!0)}function V(D){return O.getPublicKey(D).toBytes(!0)}function P(D,re,ie){const W=$(D,ie),X=k.sign(W,re);return D instanceof f.Point?X:F.toBytes(X)}function ne(D,re,ie){const W=U(D,ie),X=O.sign(W,re);return D instanceof a.Point?X:j.toBytes(X)}function ee(D,re,ie,W){const X=$(re,W);return k.verify(D,X,ie)}function q(D,re,ie,W){const X=U(re,W);return O.verify(D,X,ie)}function te(D){const re=k.aggregatePublicKeys(D);return D[0]instanceof a.Point?re:re.toBytes(!0)}function se(D){const re=k.aggregateSignatures(D);return D[0]instanceof f.Point?re:F.toBytes(re)}function de(D){const re=O.aggregateSignatures(D);return D[0]instanceof a.Point?re:j.toBytes(re)}function me(D,re,ie,W){const X=re.map(he=>$(he,W));return k.verifyBatch(D,X,ie)}return a.Point.BASE.precompute(4),{longSignatures:k,shortSignatures:O,millerLoopBatch:p,pairing:m,pairingBatch:v,verifyBatch:me,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:S,getPublicKey:G,getPublicKeyForShortSignatures:V,sign:P,signShortSignature:ne,verify:ee,verifyShortSignature:q,aggregatePublicKeys:te,aggregateSignatures:se,aggregateShortSignatures:de,G1:a,G2:f,Signature:F,ShortSignature:j}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ip=BigInt(0),nn=BigInt(1),Pt=BigInt(2),sp=BigInt(3);function o0(e,t,r,n,i=1,s){const o=BigInt(s===void 0?n:s),a=r**BigInt(n),l=[];for(let f=0;f<i;f++){const y=BigInt(f+1),p=[];for(let m=0,v=nn;m<n;m++){const N=(y*v-y)/o%a;p.push(e.pow(t,N)),v*=r}l.push(p)}return l}function FE(e,t,r){const n=t.pow(r,(e.ORDER-nn)/sp),i=t.pow(r,(e.ORDER-nn)/Pt);function s(m,v){const N=t.mul(t.frobeniusMap(m,1),n),k=t.mul(t.frobeniusMap(v,1),i);return[N,k]}const o=t.pow(r,(e.ORDER**Pt-nn)/sp),a=t.pow(r,(e.ORDER**Pt-nn)/Pt);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(m,v){return[t.mul(m,o),t.neg(v)]}const f=m=>(v,N)=>{const k=N.toAffine(),O=m(k.x,k.y);return v.fromAffine({x:O[0],y:O[1]})},y=f(s),p=f(l);return{psi:s,psi2:l,G2psi:y,G2psi2:p,PSI_X:n,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}const op=(e,t)=>{if(t.length!==2)throw new Error("invalid tuple");const r=t.map(n=>e.create(n));return{c0:r[0],c1:r[1]}};class IE{constructor(t,r={}){this.MASK=nn;const n=t.ORDER,i=n*n;this.Fp=t,this.ORDER=i,this.BITS=Vo(i),this.BYTES=Math.ceil(Vo(i)/8),this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.Fp_NONRESIDUE=t.create(r.NONRESIDUE||BigInt(-1)),this.Fp_div2=t.div(t.ONE,Pt),this.NONRESIDUE=op(t,r.FP2_NONRESIDUE),this.FROBENIUS_COEFFICIENTS=o0(t,this.Fp_NONRESIDUE,t.ORDER,2)[0],this.mulByB=r.Fp2mulByB,Object.seal(this)}fromBigTuple(t){return op(this.Fp,t)}create(t){return t}isValid({c0:t,c1:r}){function n(i,s){return typeof i=="bigint"&&ip<=i&&i<s}return n(t,this.ORDER)&&n(r,this.ORDER)}is0({c0:t,c1:r}){return this.Fp.is0(t)&&this.Fp.is0(r)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}eql({c0:t,c1:r},{c0:n,c1:i}){return this.Fp.eql(t,n)&&this.Fp.eql(r,i)}neg({c0:t,c1:r}){return{c0:this.Fp.neg(t),c1:this.Fp.neg(r)}}pow(t,r){return Tu(this,t,r)}invertBatch(t){return Oi(this,t)}add(t,r){const{c0:n,c1:i}=t,{c0:s,c1:o}=r;return{c0:this.Fp.add(n,s),c1:this.Fp.add(i,o)}}sub({c0:t,c1:r},{c0:n,c1:i}){return{c0:this.Fp.sub(t,n),c1:this.Fp.sub(r,i)}}mul({c0:t,c1:r},n){const{Fp:i}=this;if(typeof n=="bigint")return{c0:i.mul(t,n),c1:i.mul(r,n)};const{c0:s,c1:o}=n;let a=i.mul(t,s),l=i.mul(r,o);const f=i.sub(a,l),y=i.sub(i.mul(i.add(t,r),i.add(s,o)),i.add(a,l));return{c0:f,c1:y}}sqr({c0:t,c1:r}){const{Fp:n}=this,i=n.add(t,r),s=n.sub(t,r),o=n.add(t,t);return{c0:n.mul(i,s),c1:n.mul(o,r)}}addN(t,r){return this.add(t,r)}subN(t,r){return this.sub(t,r)}mulN(t,r){return this.mul(t,r)}sqrN(t){return this.sqr(t)}div(t,r){const{Fp:n}=this;return this.mul(t,typeof r=="bigint"?n.inv(n.create(r)):this.inv(r))}inv({c0:t,c1:r}){const{Fp:n}=this,i=n.inv(n.create(t*t+r*r));return{c0:n.mul(i,n.create(t)),c1:n.mul(i,n.create(-r))}}sqrt(t){const{Fp:r}=this,n=this,{c0:i,c1:s}=t;if(r.is0(s))return ql(r,i)===1?n.create({c0:r.sqrt(i),c1:r.ZERO}):n.create({c0:r.ZERO,c1:r.sqrt(r.div(i,this.Fp_NONRESIDUE))});const o=r.sqrt(r.sub(r.sqr(i),r.mul(r.sqr(s),this.Fp_NONRESIDUE)));let a=r.mul(r.add(o,i),this.Fp_div2);ql(r,a)===-1&&(a=r.sub(a,o));const f=r.sqrt(a),y=n.create({c0:f,c1:r.div(r.mul(s,this.Fp_div2),f)});if(!n.eql(n.sqr(y),t))throw new Error("Cannot find square root");const p=y,m=n.neg(p),{re:v,im:N}=n.reim(p),{re:k,im:O}=n.reim(m);return N>O||N===O&&v>k?p:m}isOdd(t){const{re:r,im:n}=this.reim(t),i=r%Pt,s=r===ip,o=n%Pt;return BigInt(i||s&&o)==nn}fromBytes(t){const{Fp:r}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:r.fromBytes(t.subarray(0,r.BYTES)),c1:r.fromBytes(t.subarray(r.BYTES))}}toBytes({c0:t,c1:r}){return tt(this.Fp.toBytes(t),this.Fp.toBytes(r))}cmov({c0:t,c1:r},{c0:n,c1:i},s){return{c0:this.Fp.cmov(t,n,s),c1:this.Fp.cmov(r,i,s)}}reim({c0:t,c1:r}){return{re:t,im:r}}Fp4Square(t,r){const n=this,i=n.sqr(t),s=n.sqr(r);return{first:n.add(n.mulByNonresidue(s),i),second:n.sub(n.sub(n.sqr(n.add(t,r)),i),s)}}mulByNonresidue({c0:t,c1:r}){return this.mul({c0:t,c1:r},this.NONRESIDUE)}frobeniusMap({c0:t,c1:r},n){return{c0:t,c1:this.Fp.mul(r,this.FROBENIUS_COEFFICIENTS[n%2])}}}class jE{constructor(t){this.MASK=nn,this.Fp2=t,this.ORDER=t.ORDER,this.BITS=3*t.BITS,this.BYTES=3*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO,c2:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO,c2:t.ZERO};const{Fp:r}=t,n=o0(t,t.NONRESIDUE,r.ORDER,6,2,3);this.FROBENIUS_COEFFICIENTS_1=n[0],this.FROBENIUS_COEFFICIENTS_2=n[1],Object.seal(this)}add({c0:t,c1:r,c2:n},{c0:i,c1:s,c2:o}){const{Fp2:a}=this;return{c0:a.add(t,i),c1:a.add(r,s),c2:a.add(n,o)}}sub({c0:t,c1:r,c2:n},{c0:i,c1:s,c2:o}){const{Fp2:a}=this;return{c0:a.sub(t,i),c1:a.sub(r,s),c2:a.sub(n,o)}}mul({c0:t,c1:r,c2:n},i){const{Fp2:s}=this;if(typeof i=="bigint")return{c0:s.mul(t,i),c1:s.mul(r,i),c2:s.mul(n,i)};const{c0:o,c1:a,c2:l}=i,f=s.mul(t,o),y=s.mul(r,a),p=s.mul(n,l);return{c0:s.add(f,s.mulByNonresidue(s.sub(s.mul(s.add(r,n),s.add(a,l)),s.add(y,p)))),c1:s.add(s.sub(s.mul(s.add(t,r),s.add(o,a)),s.add(f,y)),s.mulByNonresidue(p)),c2:s.sub(s.add(y,s.mul(s.add(t,n),s.add(o,l))),s.add(f,p))}}sqr({c0:t,c1:r,c2:n}){const{Fp2:i}=this;let s=i.sqr(t),o=i.mul(i.mul(t,r),Pt),a=i.mul(i.mul(r,n),Pt),l=i.sqr(n);return{c0:i.add(i.mulByNonresidue(a),s),c1:i.add(i.mulByNonresidue(l),o),c2:i.sub(i.sub(i.add(i.add(o,i.sqr(i.add(i.sub(t,r),n))),a),s),l)}}addN(t,r){return this.add(t,r)}subN(t,r){return this.sub(t,r)}mulN(t,r){return this.mul(t,r)}sqrN(t){return this.sqr(t)}create(t){return t}isValid({c0:t,c1:r,c2:n}){const{Fp2:i}=this;return i.isValid(t)&&i.isValid(r)&&i.isValid(n)}is0({c0:t,c1:r,c2:n}){const{Fp2:i}=this;return i.is0(t)&&i.is0(r)&&i.is0(n)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:r,c2:n}){const{Fp2:i}=this;return{c0:i.neg(t),c1:i.neg(r),c2:i.neg(n)}}eql({c0:t,c1:r,c2:n},{c0:i,c1:s,c2:o}){const{Fp2:a}=this;return a.eql(t,i)&&a.eql(r,s)&&a.eql(n,o)}sqrt(t){return N1()}div(t,r){const{Fp2:n}=this,{Fp:i}=n;return this.mul(t,typeof r=="bigint"?i.inv(i.create(r)):this.inv(r))}pow(t,r){return Tu(this,t,r)}invertBatch(t){return Oi(this,t)}inv({c0:t,c1:r,c2:n}){const{Fp2:i}=this;let s=i.sub(i.sqr(t),i.mulByNonresidue(i.mul(n,r))),o=i.sub(i.mulByNonresidue(i.sqr(n)),i.mul(t,r)),a=i.sub(i.sqr(r),i.mul(t,n)),l=i.inv(i.add(i.mulByNonresidue(i.add(i.mul(n,o),i.mul(r,a))),i.mul(t,s)));return{c0:i.mul(l,s),c1:i.mul(l,o),c2:i.mul(l,a)}}fromBytes(t){const{Fp2:r}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);const n=r.BYTES;return{c0:r.fromBytes(t.subarray(0,n)),c1:r.fromBytes(t.subarray(n,n*2)),c2:r.fromBytes(t.subarray(2*n))}}toBytes({c0:t,c1:r,c2:n}){const{Fp2:i}=this;return tt(i.toBytes(t),i.toBytes(r),i.toBytes(n))}cmov({c0:t,c1:r,c2:n},{c0:i,c1:s,c2:o},a){const{Fp2:l}=this;return{c0:l.cmov(t,i,a),c1:l.cmov(r,s,a),c2:l.cmov(n,o,a)}}fromBigSix(t){const{Fp2:r}=this;if(!Array.isArray(t)||t.length!==6)throw new Error("invalid Fp6 usage");return{c0:r.fromBigTuple(t.slice(0,2)),c1:r.fromBigTuple(t.slice(2,4)),c2:r.fromBigTuple(t.slice(4,6))}}frobeniusMap({c0:t,c1:r,c2:n},i){const{Fp2:s}=this;return{c0:s.frobeniusMap(t,i),c1:s.mul(s.frobeniusMap(r,i),this.FROBENIUS_COEFFICIENTS_1[i%6]),c2:s.mul(s.frobeniusMap(n,i),this.FROBENIUS_COEFFICIENTS_2[i%6])}}mulByFp2({c0:t,c1:r,c2:n},i){const{Fp2:s}=this;return{c0:s.mul(t,i),c1:s.mul(r,i),c2:s.mul(n,i)}}mulByNonresidue({c0:t,c1:r,c2:n}){const{Fp2:i}=this;return{c0:i.mulByNonresidue(n),c1:t,c2:r}}mul1({c0:t,c1:r,c2:n},i){const{Fp2:s}=this;return{c0:s.mulByNonresidue(s.mul(n,i)),c1:s.mul(t,i),c2:s.mul(r,i)}}mul01({c0:t,c1:r,c2:n},i,s){const{Fp2:o}=this;let a=o.mul(t,i),l=o.mul(r,s);return{c0:o.add(o.mulByNonresidue(o.sub(o.mul(o.add(r,n),s),l)),a),c1:o.sub(o.sub(o.mul(o.add(i,s),o.add(t,r)),a),l),c2:o.add(o.sub(o.mul(o.add(t,n),i),a),l)}}}class PE{constructor(t,r){this.MASK=nn;const{Fp2:n}=t,{Fp:i}=n;this.Fp6=t,this.ORDER=n.ORDER,this.BITS=2*t.BITS,this.BYTES=2*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.FROBENIUS_COEFFICIENTS=o0(n,n.NONRESIDUE,i.ORDER,12,1,6)[0],this.X_LEN=r.X_LEN,this.finalExponentiate=r.Fp12finalExponentiate}create(t){return t}isValid({c0:t,c1:r}){const{Fp6:n}=this;return n.isValid(t)&&n.isValid(r)}is0({c0:t,c1:r}){const{Fp6:n}=this;return n.is0(t)&&n.is0(r)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:r}){const{Fp6:n}=this;return{c0:n.neg(t),c1:n.neg(r)}}eql({c0:t,c1:r},{c0:n,c1:i}){const{Fp6:s}=this;return s.eql(t,n)&&s.eql(r,i)}sqrt(t){N1()}inv({c0:t,c1:r}){const{Fp6:n}=this;let i=n.inv(n.sub(n.sqr(t),n.mulByNonresidue(n.sqr(r))));return{c0:n.mul(t,i),c1:n.neg(n.mul(r,i))}}div(t,r){const{Fp6:n}=this,{Fp2:i}=n,{Fp:s}=i;return this.mul(t,typeof r=="bigint"?s.inv(s.create(r)):this.inv(r))}pow(t,r){return Tu(this,t,r)}invertBatch(t){return Oi(this,t)}add({c0:t,c1:r},{c0:n,c1:i}){const{Fp6:s}=this;return{c0:s.add(t,n),c1:s.add(r,i)}}sub({c0:t,c1:r},{c0:n,c1:i}){const{Fp6:s}=this;return{c0:s.sub(t,n),c1:s.sub(r,i)}}mul({c0:t,c1:r},n){const{Fp6:i}=this;if(typeof n=="bigint")return{c0:i.mul(t,n),c1:i.mul(r,n)};let{c0:s,c1:o}=n,a=i.mul(t,s),l=i.mul(r,o);return{c0:i.add(a,i.mulByNonresidue(l)),c1:i.sub(i.mul(i.add(t,r),i.add(s,o)),i.add(a,l))}}sqr({c0:t,c1:r}){const{Fp6:n}=this;let i=n.mul(t,r);return{c0:n.sub(n.sub(n.mul(n.add(n.mulByNonresidue(r),t),n.add(t,r)),i),n.mulByNonresidue(i)),c1:n.add(i,i)}}addN(t,r){return this.add(t,r)}subN(t,r){return this.sub(t,r)}mulN(t,r){return this.mul(t,r)}sqrN(t){return this.sqr(t)}fromBytes(t){const{Fp6:r}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:r.fromBytes(t.subarray(0,r.BYTES)),c1:r.fromBytes(t.subarray(r.BYTES))}}toBytes({c0:t,c1:r}){const{Fp6:n}=this;return tt(n.toBytes(t),n.toBytes(r))}cmov({c0:t,c1:r},{c0:n,c1:i},s){const{Fp6:o}=this;return{c0:o.cmov(t,n,s),c1:o.cmov(r,i,s)}}fromBigTwelve(t){const{Fp6:r}=this;return{c0:r.fromBigSix(t.slice(0,6)),c1:r.fromBigSix(t.slice(6,12))}}frobeniusMap(t,r){const{Fp6:n}=this,{Fp2:i}=n,{c0:s,c1:o,c2:a}=n.frobeniusMap(t.c1,r),l=this.FROBENIUS_COEFFICIENTS[r%12];return{c0:n.frobeniusMap(t.c0,r),c1:n.create({c0:i.mul(s,l),c1:i.mul(o,l),c2:i.mul(a,l)})}}mulByFp2({c0:t,c1:r},n){const{Fp6:i}=this;return{c0:i.mulByFp2(t,n),c1:i.mulByFp2(r,n)}}conjugate({c0:t,c1:r}){return{c0:t,c1:this.Fp6.neg(r)}}mul014({c0:t,c1:r},n,i,s){const{Fp6:o}=this,{Fp2:a}=o;let l=o.mul01(t,n,i),f=o.mul1(r,s);return{c0:o.add(o.mulByNonresidue(f),l),c1:o.sub(o.sub(o.mul01(o.add(r,t),n,a.add(i,s)),l),f)}}mul034({c0:t,c1:r},n,i,s){const{Fp6:o}=this,{Fp2:a}=o,l=o.create({c0:a.mul(t.c0,n),c1:a.mul(t.c1,n),c2:a.mul(t.c2,n)}),f=o.mul01(r,i,s),y=o.mul01(o.add(t,r),a.add(n,i),s);return{c0:o.add(o.mulByNonresidue(f),l),c1:o.sub(y,o.add(l,f))}}_cyclotomicSquare({c0:t,c1:r}){const{Fp6:n}=this,{Fp2:i}=n,{c0:s,c1:o,c2:a}=t,{c0:l,c1:f,c2:y}=r,{first:p,second:m}=i.Fp4Square(s,f),{first:v,second:N}=i.Fp4Square(l,a),{first:k,second:O}=i.Fp4Square(o,y),_=i.mulByNonresidue(O);return{c0:n.create({c0:i.add(i.mul(i.sub(p,s),Pt),p),c1:i.add(i.mul(i.sub(v,o),Pt),v),c2:i.add(i.mul(i.sub(k,a),Pt),k)}),c1:n.create({c0:i.add(i.mul(i.add(_,l),Pt),_),c1:i.add(i.mul(i.add(m,f),Pt),m),c2:i.add(i.mul(i.add(N,y),Pt),N)})}}_cyclotomicExp(t,r){let n=this.ONE;for(let i=this.X_LEN-1;i>=0;i--)n=this._cyclotomicSquare(n),nE(r,i)&&(n=this.mul(n,t));return n}}function ME(e){const t=Jn(e.ORDER),r=new IE(t,e),n=new jE(r),i=new PE(n,e);return{Fp:t,Fp2:r,Fp6:n,Fp12:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),Kl=BigInt(1),dr=BigInt(2),Bu=BigInt(3),qo=BigInt(4),Bn=BigInt("0xd201000000010000"),$E=Vo(Bn),Ai={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:Ct,b:qo,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},zE=Jn(Ai.n,{modFromBytes:!0,isLE:!0}),{Fp:xe,Fp2:Ae,Fp6:VE,Fp12:Ue}=ME({ORDER:Ai.p,X_LEN:$E,FP2_NONRESIDUE:[Kl,Kl],Fp2mulByB:({c0:e,c1:t})=>{const r=xe.mul(e,qo),n=xe.mul(t,qo);return{c0:xe.sub(r,n),c1:xe.add(r,n)}},Fp12finalExponentiate:e=>{const t=Bn,r=Ue.div(Ue.frobeniusMap(e,6),e),n=Ue.mul(Ue.frobeniusMap(r,2),r),i=Ue.conjugate(Ue._cyclotomicExp(n,t)),s=Ue.mul(Ue.conjugate(Ue._cyclotomicSquare(n)),i),o=Ue.conjugate(Ue._cyclotomicExp(s,t)),a=Ue.conjugate(Ue._cyclotomicExp(o,t)),l=Ue.mul(Ue.conjugate(Ue._cyclotomicExp(a,t)),Ue._cyclotomicSquare(i)),f=Ue.conjugate(Ue._cyclotomicExp(l,t)),y=Ue.frobeniusMap(Ue.mul(i,a),2),p=Ue.frobeniusMap(Ue.mul(o,n),3),m=Ue.frobeniusMap(Ue.mul(l,Ue.conjugate(n)),1),v=Ue.mul(Ue.mul(f,Ue.conjugate(s)),n);return Ue.mul(Ue.mul(Ue.mul(y,p),m),v)}}),{G2psi:ap,G2psi2:LE}=FE(xe,Ae,Ae.div(Ae.ONE,Ae.NONRESIDUE)),Tc=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:xe.ORDER,m:2,k:128,expand:"xmd",hash:dg}),a0={p:Ae.ORDER,n:Ai.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ae.ZERO,b:Ae.fromBigTuple([qo,qo]),Gx:Ae.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ae.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Au=sa(xe.toBytes(Ct),{infinity:!0,compressed:!0});function ku(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function sa(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function HE(e,t,r){const{BYTES:n,ORDER:i}=xe,s=t.is0(),{x:o,y:a}=t.toAffine();if(r){if(s)return Au.slice();const l=!!(a*dr/i);return sa(xt(o,n),{compressed:!0,sort:l})}else return s?tt(Uint8Array.of(64),new Uint8Array(2*n-1)):tt(xt(o,n),xt(a,n))}function Bc(e){e.assertValidity();const{BYTES:t,ORDER:r}=xe,{x:n,y:i}=e.toAffine();if(e.is0())return Au.slice();const s=!!(i*dr/r);return sa(xt(n,t),{compressed:!0,sort:s})}function qE(e){const{compressed:t,infinity:r,sort:n,value:i}=ku(e),{BYTES:s,ORDER:o}=xe;if(i.length===48&&t){const a=Lr(i),l=xe.create(a&Ri(xe.BITS));if(r){if(l!==Ct)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:Ct,y:Ct}}const f=xe.add(xe.pow(l,Bu),xe.create(Ai.b));let y=xe.sqrt(f);if(!y)throw new Error("invalid G1 point: compressed point");return y*dr/o!==BigInt(n)&&(y=xe.neg(y)),{x:xe.create(l),y:xe.create(y)}}else if(i.length===96&&!t){const a=Lr(i.subarray(0,s)),l=Lr(i.subarray(s));if(r){if(a!==Ct||l!==Ct)throw new Error("G1: non-empty point at infinity");return Cu.G1.Point.ZERO.toAffine()}return{x:xe.create(a),y:xe.create(l)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function lp(e){const{infinity:t,sort:r,value:n}=ku(Vt("signatureHex",e,48)),i=xe.ORDER,s=Cu.G1.Point,o=Lr(n);if(t)return s.ZERO;const a=xe.create(o&Ri(xe.BITS)),l=xe.add(xe.pow(a,Bu),xe.create(Ai.b));let f=xe.sqrt(l);if(!f)throw new Error("invalid G1 point: compressed");const y=BigInt(r);f*dr/i!==y&&(f=xe.neg(f));const p=s.fromAffine({x:a,y:f});return p.assertValidity(),p}function GE(e,t,r){const{BYTES:n,ORDER:i}=xe,s=t.is0(),{x:o,y:a}=t.toAffine();if(r){if(s)return tt(Au,xt(Ct,n));const l=!!(a.c1===Ct?a.c0*dr/i:a.c1*dr/i);return tt(sa(xt(o.c1,n),{compressed:!0,sort:l}),xt(o.c0,n))}else{if(s)return tt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:l,im:f}=Ae.reim(o),{re:y,im:p}=Ae.reim(a);return tt(xt(f,n),xt(l,n),xt(p,n),xt(y,n))}}function Ac(e){e.assertValidity();const{BYTES:t}=xe;if(e.is0())return tt(Au,xt(Ct,t));const{x:r,y:n}=e.toAffine(),{re:i,im:s}=Ae.reim(r),{re:o,im:a}=Ae.reim(n),f=!!((a>Ct?a*dr:o*dr)/xe.ORDER&Kl),y=i;return tt(sa(xt(s,t),{sort:f,compressed:!0}),xt(y,t))}function WE(e){const{BYTES:t,ORDER:r}=xe,{compressed:n,infinity:i,sort:s,value:o}=ku(e);if(!n&&!i&&s||!n&&i&&s||s&&i&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const a=(l,f,y)=>Lr(l.slice(f,y));if(o.length===96&&n){if(i){if(o.reduce((N,k)=>N!==0?k+1:k,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ae.ZERO,y:Ae.ZERO}}const l=a(o,0,t),f=a(o,t,2*t),y=Ae.create({c0:xe.create(f),c1:xe.create(l)}),p=Ae.add(Ae.pow(y,Bu),a0.b);let m=Ae.sqrt(p);const v=m.c1===Ct?m.c0*dr/r:m.c1*dr/r?Kl:Ct;return m=s&&v>0?m:Ae.neg(m),{x:y,y:m}}else if(o.length===192&&!n){if(i){if(o.reduce((m,v)=>m!==0?v+1:v,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ae.ZERO,y:Ae.ZERO}}const l=a(o,0*t,1*t),f=a(o,1*t,2*t),y=a(o,2*t,3*t),p=a(o,3*t,4*t);return{x:Ae.fromBigTuple([f,l]),y:Ae.fromBigTuple([p,y])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function up(e){const{ORDER:t}=xe,{infinity:r,sort:n,value:i}=ku(Vt("signatureHex",e)),s=Cu.G2.Point,o=i.length/2;if(o!==48&&o!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const a=Lr(i.slice(0,o)),l=Lr(i.slice(o));if(r)return s.ZERO;const f=xe.create(a&Ri(xe.BITS)),y=xe.create(l),p=Ae.create({c0:y,c1:f}),m=Ae.add(Ae.pow(p,Bu),a0.b);let v=Ae.sqrt(m);if(!v)throw new Error("Failed to find a square root");const{re:N,im:k}=Ae.reim(v),O=BigInt(n),_=k>Ct&&k*dr/t!==O,x=k===Ct&&N*dr/t!==O;(_||x)&&(v=Ae.neg(v));const S=s.fromAffine({x:p,y:v});return S.assertValidity(),S}const Cu=UE({fields:{Fp:xe,Fp2:Ae,Fp6:VE,Fp12:Ue,Fr:zE},G1:{...Ai,Fp:xe,htfDefaults:{...Tc,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(xe.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(Bn).negate().multiplyUnsafe(Bn).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(Bn).add(t),mapToCurve:XE,fromBytes:qE,toBytes:HE,ShortSignature:{fromBytes(e){return fr(e),lp(e)},fromHex(e){return lp(e)},toBytes(e){return Bc(e)},toRawBytes(e){return Bc(e)},toHex(e){return ks(Bc(e))}}},G2:{...a0,Fp:Ae,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Tc},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:QE,isTorsionFree:(e,t)=>t.multiplyUnsafe(Bn).negate().equals(ap(e,t)),clearCofactor:(e,t)=>{const r=Bn;let n=t.multiplyUnsafe(r).negate(),i=ap(e,t),s=t.double();return s=LE(e,s),s=s.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),s=s.add(i),s=s.subtract(n),s.subtract(t)},fromBytes:WE,toBytes:GE,Signature:{fromBytes(e){return fr(e),up(e)},fromHex(e){return up(e)},toBytes(e){return Ac(e)},toRawBytes(e){return Ac(e)},toHex(e){return ks(Ac(e))}}},params:{ateLoopSize:Bn,r:Ai.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Tc}),KE=L1(Ae,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ae.fromBigTuple(t.map(BigInt))))),DE=L1(xe,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),YE=H1(xe,{A:xe.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:xe.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:xe.create(BigInt(11))}),ZE=H1(Ae,{A:Ae.create({c0:xe.create(Ct),c1:xe.create(BigInt(240))}),B:Ae.create({c0:xe.create(BigInt(1012)),c1:xe.create(BigInt(1012))}),Z:Ae.create({c0:xe.create(BigInt(-2)),c1:xe.create(BigInt(-1))})});function XE(e){const{x:t,y:r}=YE(xe.create(e[0]));return DE(t,r)}function QE(e){const{x:t,y:r}=ZE(Ae.fromBigTuple(e));return KE(t,r)}function JE(e,t,r){const n=typeof e=="string"?e:Ge(e),i=typeof t=="string"?t:Ge(t),s=typeof r=="string"?r:Ge(r);return Cu.verifyShortSignature(i,s,n)}const q1=e=>ht(new Ms(e)),l0=e=>{const t=q1(e);return new Date(Number(t)/1e6)};var e8=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},t8=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Za;class jr extends Xe{constructor(t){super(`Invalid certificate: ${t}`)}}var Zt;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Zt||(Zt={}));function r8(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}class gi{constructor(t,r,n,i,s=5,o=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=s,Za.set(this,!1),e8(this,Za,o,"f"),this.cert=tn(new Uint8Array(t))}static async create(t){const r=gi.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=JE),new gi(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Os(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await Xa(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=i8(r),s=Nr(to("ic-state-root"),t);let o=!1;const a=or(this.lookup(["time"]));if(!a)throw new jr("Certificate does not contain a time");if(!t8(this,Za,"f")){const f=this._maxAgeInMinutes*60*1e3,y=Date.now(),p=y-f,m=y+3e5,v=l0(a);if(v.getTime()<p)throw new jr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+v.toISOString()+" Current time: "+new Date(y).toISOString());if(v.getTime()>m)throw new jr("Certificate is signed more than 5 minutes in the future. Certificate time: "+v.toISOString()+" Current time: "+new Date(y).toISOString())}try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(s))}catch{o=!1}if(!o)throw new jr("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await gi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new jr("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==k8&&!G1({canisterId:this._canisterId,subnetId:Te.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new jr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Ge(t.subnet_id)}`);const n=or(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${Ge(t.subnet_id)}`);return n}}Za=new WeakMap;const Ys=an("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),n8=96;function i8(e){const t=Ys.byteLength+n8;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Ys.byteLength);if(!ea(r,Ys))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Ys}, but get ${r}`);return e.slice(Ys.byteLength)}function or(e){if(e.status===ot.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function Xa(e){switch(e[0]){case Zt.Empty:return br(to("ic-hashtree-empty"));case Zt.Pruned:return e[1];case Zt.Leaf:return br(Nr(to("ic-hashtree-leaf"),e[1]));case Zt.Labeled:return br(Nr(to("ic-hashtree-labeled"),e[1],await Xa(e[2])));case Zt.Fork:return br(Nr(to("ic-hashtree-fork"),await Xa(e[1]),await Xa(e[2])));default:throw new Error("unreachable")}}function to(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Nr(t,r)}var ot;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(ot||(ot={}));var Xr;(function(e){e.Less="less",e.Greater="greater"})(Xr||(Xr={}));function Os(e,t){if(e.length===0)switch(t[0]){case Zt.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:ot.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:ot.Found,value:t[1].buffer}:{status:ot.Found,value:t[1]}}default:return{status:ot.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=Qa(r,t);switch(n.status){case ot.Found:return Os(e.slice(1),n.value);case Xr.Greater:case Xr.Less:return{status:ot.Absent};default:return n}}function Kf(e){switch(e[0]){case Zt.Empty:return[];case Zt.Fork:return Kf(e[1]).concat(Kf(e[2]));default:return[e]}}function Qa(e,t){switch(t[0]){case Zt.Labeled:return r8(e,t[1])?{status:Xr.Greater}:ea(e,t[1])?{status:ot.Found,value:t[2]}:{status:Xr.Less};case Zt.Fork:const r=Qa(e,t[1]);switch(r.status){case Xr.Greater:{const n=Qa(e,t[2]);return n.status===Xr.Less?{status:ot.Absent}:n}case ot.Unknown:{let n=Qa(e,t[2]);return n.status===Xr.Less?{status:ot.Unknown}:n}default:return r}case Zt.Pruned:return{status:ot.Unknown};default:return{status:ot.Absent}}}function G1(e){const{canisterId:t,subnetId:r,tree:n}=e,i=Os(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==ot.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return tn(i.value).map(l=>[Te.fromUint8Array(l[0]),Te.fromUint8Array(l[1])]).some(l=>l[0].ltEq(t)&&l[1].gtEq(t))}class s8{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const W1=async e=>{const{agent:t,paths:r}=e,n=Te.from(e.canisterId),i=[...new Set(r)],s=i.map(l=>Df(l,n)),o=new Map,a=i.map((l,f)=>(async()=>{var y;try{const p=await t.readState(n,{paths:[s[f]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const m=await gi.create({certificate:p.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),v=(O,_)=>{if(_==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const x=K1(p.certificate,n,t.rootKey);return{path:_,data:x}}else return{path:_,data:or(O.lookup(Df(_,n)))}},{path:N,data:k}=v(m,i[f]);if(!k)console.warn(`Expected to find result for path ${N}, but instead found nothing.`),typeof N=="string"?o.set(N,null):o.set(N.key,null);else switch(N){case"time":{o.set(N,l0(k));break}case"controllers":{o.set(N,a8(k));break}case"module_hash":{o.set(N,cp(k));break}case"subnet":{o.set(N,k);break}case"candid":{o.set(N,new TextDecoder().decode(k));break}default:if(typeof N!="string"&&"key"in N&&"path"in N)switch(N.decodeStrategy){case"raw":o.set(N.key,k);break;case"leb128":{o.set(N.key,q1(k));break}case"cbor":{o.set(N.key,D1(k));break}case"hex":{o.set(N.key,cp(k));break}case"utf-8":o.set(N.key,o8(k))}}}catch(p){if(!((y=p==null?void 0:p.message)===null||y===void 0)&&y.includes("Invalid certificate"))throw new Xe(p.message);typeof l!="string"&&"key"in l&&"path"in l?o.set(l.key,null):o.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(p),console.groupEnd()}})());return await Promise.all(a),o},K1=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=tn(new Uint8Array(e)),i=n.tree;let s=n.delegation,o;if(s&&s.subnet_id?o=Te.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof r<"u"?(o=Te.selfAuthenticating(new Uint8Array(r)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=Te.selfAuthenticating(Te.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!G1({canisterId:t,subnetId:o,tree:i}))throw new Error("Canister not in range");const l=Os(["subnet",s.subnet_id,"node"],i);if(l.status!==ot.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const f=Kf(l.value),y=new Map;return f.forEach(p=>{const m=Te.from(new Uint8Array(p[1])).toText(),v=Os(["public_key"],p[2]);if(v.status!==ot.Found)throw new Error("Public key not found");const N=v.value;if(N.byteLength!==44)throw new Error("Invalid public key length");y.set(m,N)}),{subnetId:Te.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:y}},Df=(e,t)=>{const r=new TextEncoder,n=s=>new DataView(r.encode(s).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const s=e.path,o=typeof s=="string"?n(s):s;return[n("canister"),i,n("metadata"),o]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},cp=e=>Ge(e),D1=e=>tn(e),o8=e=>new TextDecoder().decode(e),a8=e=>D1(e).map(r=>Te.fromUint8Array(new Uint8Array(r))),l8=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:s8,encodePath:Df,fetchNodeKeys:K1,request:W1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bn=BigInt(0),dt=BigInt(1),kc=BigInt(2),u8=BigInt(8);function c8(e,t,r,n){const i=e.sqr(r),s=e.sqr(n),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}function f8(e,t={}){const r=z1("edwards",e,t,t.FpFnLE),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o}=s;ia(t,{},{uvRatio:"function"});const a=kc<<BigInt(i.BYTES*8)-dt,l=O=>n.create(O),f=t.uvRatio||((O,_)=>{try{return{isValid:!0,value:n.sqrt(n.div(O,_))}}catch{return{isValid:!1,value:bn}}});if(!c8(n,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function y(O,_,x=!1){const S=x?dt:bn;return Dh("coordinate "+O,_,S,a),_}function p(O){if(!(O instanceof N))throw new Error("ExtendedPoint expected")}const m=Lo((O,_)=>{const{X:x,Y:S,Z:j}=O,F=O.is0();_==null&&(_=F?u8:n.inv(j));const U=l(x*_),$=l(S*_),G=n.mul(j,_);if(F)return{x:bn,y:dt};if(G!==dt)throw new Error("invZ was invalid");return{x:U,y:$}}),v=Lo(O=>{const{a:_,d:x}=s;if(O.is0())throw new Error("bad point: ZERO");const{X:S,Y:j,Z:F,T:U}=O,$=l(S*S),G=l(j*j),V=l(F*F),P=l(V*V),ne=l($*_),ee=l(V*l(ne+G)),q=l(P+l(x*l($*G)));if(ee!==q)throw new Error("bad point: equation left != right (1)");const te=l(S*j),se=l(F*U);if(te!==se)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(_,x,S,j){this.X=y("x",_),this.Y=y("y",x),this.Z=y("z",S,!0),this.T=y("t",j),Object.freeze(this)}static CURVE(){return s}static fromAffine(_){if(_ instanceof N)throw new Error("extended point not allowed");const{x,y:S}=_||{};return y("x",x),y("y",S),new N(x,S,dt,l(x*S))}static fromBytes(_,x=!1){const S=n.BYTES,{a:j,d:F}=s;_=Kh(ws(_,S,"point")),$o(x,"zip215");const U=Kh(_),$=_[S-1];U[S-1]=$&-129;const G=zo(U),V=x?a:n.ORDER;Dh("point.y",G,bn,V);const P=l(G*G),ne=l(P-dt),ee=l(F*P-j);let{isValid:q,value:te}=f(ne,ee);if(!q)throw new Error("bad point: invalid y coordinate");const se=(te&dt)===dt,de=($&128)!==0;if(!x&&te===bn&&de)throw new Error("bad point: x=0 and x_0=1");return de!==se&&(te=l(-te)),N.fromAffine({x:te,y:G})}static fromHex(_,x=!1){return N.fromBytes(Vt("point",_),x)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(_=8,x=!0){return k.createCache(this,_),x||this.multiply(kc),this}assertValidity(){v(this)}equals(_){p(_);const{X:x,Y:S,Z:j}=this,{X:F,Y:U,Z:$}=_,G=l(x*$),V=l(F*j),P=l(S*$),ne=l(U*j);return G===V&&P===ne}is0(){return this.equals(N.ZERO)}negate(){return new N(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:_}=s,{X:x,Y:S,Z:j}=this,F=l(x*x),U=l(S*S),$=l(kc*l(j*j)),G=l(_*F),V=x+S,P=l(l(V*V)-F-U),ne=G+U,ee=ne-$,q=G-U,te=l(P*ee),se=l(ne*q),de=l(P*q),me=l(ee*ne);return new N(te,se,me,de)}add(_){p(_);const{a:x,d:S}=s,{X:j,Y:F,Z:U,T:$}=this,{X:G,Y:V,Z:P,T:ne}=_,ee=l(j*G),q=l(F*V),te=l($*S*ne),se=l(U*P),de=l((j+F)*(G+V)-ee-q),me=se-te,D=se+te,re=l(q-x*ee),ie=l(de*me),W=l(D*re),X=l(de*re),he=l(me*D);return new N(ie,W,he,X)}subtract(_){return this.add(_.negate())}multiply(_){if(!i.isValidNot0(_))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:x,f:S}=k.cached(this,_,j=>rn(N,j));return rn(N,[x,S])[0]}multiplyUnsafe(_,x=N.ZERO){if(!i.isValid(_))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return _===bn?N.ZERO:this.is0()||_===dt?this:k.unsafe(this,_,S=>rn(N,S),x)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return k.unsafe(this,s.n).is0()}toAffine(_){return m(this,_)}clearCofactor(){return o===dt?this:this.multiplyUnsafe(o)}toBytes(){const{x:_,y:x}=this.toAffine(),S=n.toBytes(x);return S[S.length-1]|=_&dt?128:0,S}toHex(){return ks(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(_){return rn(N,_)}static msm(_,x){return $1(N,i,_,x)}_setWindowSize(_){this.precompute(_)}toRawBytes(){return this.toBytes()}}N.BASE=new N(s.Gx,s.Gy,dt,l(s.Gx*s.Gy)),N.ZERO=new N(bn,dt,dt,bn),N.Fp=n,N.Fn=i;const k=new M1(N,i.BITS);return N.BASE.precompute(8),N}function d8(e,t,r={}){if(typeof t!="function")throw new Error('"hash" function param is required');ia(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:i,Fp:s,Fn:o}=e,a=r.randomBytes||lg,l=r.adjustScalarBytes||(V=>V),f=r.domain||((V,P,ne)=>{if($o(ne,"phflag"),P.length||ne)throw new Error("Contexts/pre-hash are not supported");return V});function y(V){return o.create(zo(V))}function p(V){const P=S.secretKey;V=Vt("private key",V,P);const ne=Vt("hashed private key",t(V),2*P),ee=l(ne.slice(0,P)),q=ne.slice(P,2*P),te=y(ee);return{head:ee,prefix:q,scalar:te}}function m(V){const{head:P,prefix:ne,scalar:ee}=p(V),q=i.multiply(ee),te=q.toBytes();return{head:P,prefix:ne,scalar:ee,point:q,pointBytes:te}}function v(V){return m(V).pointBytes}function N(V=Uint8Array.of(),...P){const ne=tt(...P);return y(t(f(ne,Vt("context",V),!!n)))}function k(V,P,ne={}){V=Vt("message",V),n&&(V=n(V));const{prefix:ee,scalar:q,pointBytes:te}=m(P),se=N(ne.context,ee,V),de=i.multiply(se).toBytes(),me=N(ne.context,de,te,V),D=o.create(se+me*q);if(!o.isValid(D))throw new Error("sign failed: invalid s");const re=tt(de,o.toBytes(D));return ws(re,S.signature,"result")}const O={zip215:!0};function _(V,P,ne,ee=O){const{context:q,zip215:te}=ee,se=S.signature;V=Vt("signature",V,se),P=Vt("message",P),ne=Vt("publicKey",ne,S.publicKey),te!==void 0&&$o(te,"zip215"),n&&(P=n(P));const de=se/2,me=V.subarray(0,de),D=zo(V.subarray(de,se));let re,ie,W;try{re=e.fromBytes(ne,te),ie=e.fromBytes(me,te),W=i.multiplyUnsafe(D)}catch{return!1}if(!te&&re.isSmallOrder())return!1;const X=N(q,ie.toBytes(),re.toBytes(),P);return ie.add(re.multiplyUnsafe(X)).subtract(W).clearCofactor().is0()}const x=s.BYTES,S={secretKey:x,publicKey:x,signature:2*x,seed:x};function j(V=a(S.seed)){return ws(V,S.seed,"seed")}function F(V){const P=G.randomSecretKey(V);return{secretKey:P,publicKey:v(P)}}function U(V){return Qo(V)&&V.length===o.BYTES}function $(V,P){try{return!!e.fromBytes(V,P)}catch{return!1}}const G={getExtendedPublicKey:m,randomSecretKey:j,isValidSecretKey:U,isValidPublicKey:$,toMontgomery(V){const{y:P}=e.fromBytes(V),ne=S.publicKey,ee=ne===32;if(!ee&&ne!==57)throw new Error("only defined for 25519 and 448");const q=ee?s.div(dt+P,dt-P):s.div(P-dt,P+dt);return s.toBytes(q)},toMontgomerySecret(V){const P=S.secretKey;ws(V,P);const ne=t(V.subarray(0,P));return l(ne).subarray(0,P)},randomPrivateKey:j,precompute(V=8,P=e.BASE){return P.precompute(V,!1)}};return Object.freeze({keygen:F,getPublicKey:v,sign:k,verify:_,utils:G,Point:e,lengths:S})}function h8(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=Jn(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},s={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:s}}function p8(e,t){const r=t.Point;return Object.assign({},t,{ExtendedPoint:r,CURVE:e,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function m8(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=h8(e),s=f8(t,r),o=d8(s,n,i);return p8(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y8=BigInt(1),fp=BigInt(2);BigInt(3);const g8=BigInt(5),w8=BigInt(8),u0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Y1={p:u0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:w8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function x8(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=u0,a=e*e%s*e%s,l=Cr(a,fp,s)*a%s,f=Cr(l,y8,s)*e%s,y=Cr(f,g8,s)*f%s,p=Cr(y,t,s)*y%s,m=Cr(p,r,s)*p%s,v=Cr(m,n,s)*m%s,N=Cr(v,i,s)*v%s,k=Cr(N,i,s)*v%s,O=Cr(k,t,s)*y%s;return{pow_p_5_8:Cr(O,fp,s)*e%s,b2:a}}function v8(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const dp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function _8(e,t){const r=u0,n=Je(t*t*t,r),i=Je(n*n*t,r),s=x8(e*i).pow_p_5_8;let o=Je(e*n*s,r);const a=Je(t*o*o,r),l=o,f=Je(o*dp,r),y=a===e,p=a===Je(-e,r),m=a===Je(-e*dp,r);return y&&(o=l),(p||m)&&(o=f),cE(o,r)&&(o=Je(-o,r)),{isValid:y||p,value:o}}const b8=Jn(Y1.p,{isLE:!0}),E8={...Y1,Fp:b8,hash:L_,adjustScalarBytes:v8,uvRatio:_8},Hi=m8(E8);var hp=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ft=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bt,ro,Z1,X1;class S8{constructor(t={}){Bt.set(this,void 0),ro.set(this,void 0),this[Z1]=this.entries.bind(this),this[X1]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,i=Date.now();hp(this,Bt,new Map([...r].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),hp(this,ro,n,"f")}prune(){const t=Date.now();for(const[r,n]of Ft(this,Bt,"f").entries())t-n.timestamp>Ft(this,ro,"f")&&Ft(this,Bt,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Ft(this,Bt,"f").set(t,n),this}get(t){const r=Ft(this,Bt,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Ft(this,ro,"f")){Ft(this,Bt,"f").delete(t);return}return r.value}}clear(){Ft(this,Bt,"f").clear()}entries(){const t=Ft(this,Bt,"f").entries();return function*(){for(const[n,i]of t)yield[n,i.value]}()}values(){const t=Ft(this,Bt,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Ft(this,Bt,"f").keys()}forEach(t,r){for(const[n,i]of Ft(this,Bt,"f").entries())t.call(r,i.value,n,this)}has(t){return Ft(this,Bt,"f").has(t)}delete(t){return Ft(this,Bt,"f").delete(t)}get size(){return Ft(this,Bt,"f").size}}Bt=new WeakMap,ro=new WeakMap,Z1=Symbol.iterator,X1=Symbol.toStringTag;const pp=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},mp=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Yf=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},N8=(e,t)=>{const r=Yf(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Dl=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Q1(e,t){const r=2+pp(e.byteLength+1),n=t.byteLength+r+e.byteLength;let i=0;const s=new Uint8Array(1+pp(n)+n);return s[i++]=48,i+=mp(s,i,n),s.set(t,i),i+=t.byteLength,s[i++]=3,i+=mp(s,i,e.byteLength+1),s[i++]=0,s.set(new Uint8Array(e),i),s}const J1=(e,t)=>{let r=0;const n=(a,l)=>{if(i[r++]!==a)throw new Error("Expected: "+l)},i=new Uint8Array(e);if(n(48,"sequence"),r+=Yf(i,r),!ea(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const s=N8(i,r)-1;r+=Yf(i,r),n(0,"0 padding");const o=i.slice(r);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var yp=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},gp=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ja,el;let ew=class no{constructor(t){if(Ja.set(this,void 0),el.set(this,void 0),t.byteLength!==no.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");yp(this,Ja,t,"f"),yp(this,el,no.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new no(t)}static fromDer(t){return new no(this.derDecode(t))}static derEncode(t){return Q1(t,Dl).buffer}static derDecode(t){const r=J1(t,Dl);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return gp(this,Ja,"f")}get derKey(){return gp(this,el,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Ja=new WeakMap,el=new WeakMap;ew.RAW_KEY_LENGTH=32;class T8{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class B8 extends T8{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Tt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Or,tl,rl,nl,il,sl,ol,al,qi;const tw=.5,rw=1.5,nw=500,iw=6e4,sw=9e5,ow=10;class Ru{constructor(t=Ru.default){Or.set(this,void 0),tl.set(this,void 0),rl.set(this,void 0),nl.set(this,void 0),il.set(this,void 0),sl.set(this,void 0),ol.set(this,void 0),al.set(this,void 0),qi.set(this,0);const{initialInterval:r=nw,randomizationFactor:n=tw,multiplier:i=rw,maxInterval:s=iw,maxElapsedTime:o=sw,maxIterations:a=ow,date:l=Date}=t;Rr(this,Or,r,"f"),Rr(this,tl,n,"f"),Rr(this,rl,i,"f"),Rr(this,nl,s,"f"),Rr(this,al,l,"f"),Rr(this,il,l.now(),"f"),Rr(this,sl,o,"f"),Rr(this,ol,a,"f")}get ellapsedTimeInMsec(){return Tt(this,al,"f").now()-Tt(this,il,"f")}get currentInterval(){return Tt(this,Or,"f")}get count(){return Tt(this,qi,"f")}get randomValueFromInterval(){const t=Tt(this,tl,"f")*Tt(this,Or,"f"),r=Tt(this,Or,"f")-t,n=Tt(this,Or,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Rr(this,Or,Math.min(Tt(this,Or,"f")*Tt(this,rl,"f"),Tt(this,nl,"f")),"f"),Rr(this,qi,(t=Tt(this,qi,"f"),t++,t),"f"),Tt(this,Or,"f")}next(){return this.ellapsedTimeInMsec>=Tt(this,sl,"f")||Tt(this,qi,"f")>=Tt(this,ol,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Or=new WeakMap,tl=new WeakMap,rl=new WeakMap,nl=new WeakMap,il=new WeakMap,sl=new WeakMap,ol=new WeakMap,al=new WeakMap,qi=new WeakMap;Ru.default={initialInterval:nw,randomizationFactor:tw,multiplier:rw,maxInterval:iw,maxElapsedTime:sw,maxIterations:ow,date:Date};var yt=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},ue=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},At,ri,xs,Ur,Dr,cs,io,Gi,gr,xr,ni,ii,so,Wi,Ki,si,ai,aw,ll,ul,oi,Yr;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Yr||(Yr={}));const Ua=60*1e3,A8="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",k8="aaaaa-aa",C8="ic0.app",R8=".ic0.app",O8="icp0.io",U8=".icp0.io",F8="icp-api.io",I8=".icp-api.io";class Cc extends Xe{constructor(t){super(t),this.message=t}}class Fa extends Xe{constructor(t){super(t),this.message=t}}function j8(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Cc("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Cc("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Cc("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function P8(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(n.some(a=>s.endsWith(a))?o=s:o=r.find(a=>s.endsWith(a))),i&&o?t=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class fs{constructor(t={}){var r,n;At.add(this),ri.set(this,null),xs.set(this,!1),Ur.set(this,void 0),Dr.set(this,void 0),cs.set(this,void 0),io.set(this,void 0),Gi.set(this,0),gr.set(this,void 0),xr.set(this,void 0),ni.set(this,void 0),ii.set(this,void 0),this._isAgent=!0,this.config={},so.set(this,0),this.log=new B8,Wi.set(this,[]),Ki.set(this,[]),si.set(this,new S8({expirationTime:5*60*1e3})),ai.set(this,!0),ul.set(this,(o,a)=>{if(ue(this,ai,"f")===!1)return o;if(!a)throw new jr("Invalid signature from replica signed query: no matching node key found.");const{status:l,signatures:f=[],requestId:y}=o,p=en(new TextEncoder().encode("\vic-response"));for(const m of f){const{timestamp:v,identity:N}=m,k=Te.fromUint8Array(N).toText();let O;if(l==="replied"){const{reply:F}=o;O=Vl({status:l,reply:F,timestamp:BigInt(v),request_id:y})}else if(l==="rejected"){const{reject_code:F,reject_message:U,error_code:$}=o;O=Vl({status:l,reject_code:F,reject_message:U,error_code:$,timestamp:BigInt(v),request_id:y})}else throw new Error(`Unknown status: ${l}`);const _=Nr(p,en(new Uint8Array(O))),x=a==null?void 0:a.nodeKeys.get(k);if(!x)throw new jr("Invalid signature from replica signed query: no matching node key found.");const S=ew.fromDer(x).rawKey;if(Hi.verify(m.signature,new Uint8Array(_),new Uint8Array(S)))return o;throw new jr(`Invalid signature from replica ${k} signed query.`)}return o}),this.config=t,yt(this,Dr,t.fetch||j8()||fetch.bind(global),"f"),yt(this,cs,t.fetchOptions,"f"),yt(this,io,t.callOptions,"f"),yt(this,xs,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:ue(this,xs,"f")?this.rootKey=null:this.rootKey=an(A8);const i=P8(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&yt(this,ai,t.verifyQuerySignatures,"f"),yt(this,xr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const s=()=>new Ru({maxIterations:ue(this,xr,"f")});if(yt(this,ni,t.backoffStrategy||s,"f"),this.host.hostname.endsWith(R8)?this.host.hostname=C8:this.host.hostname.endsWith(U8)?this.host.hostname=O8:this.host.hostname.endsWith(I8)&&(this.host.hostname=F8),t.credentials){const{name:o,password:a}=t.credentials;yt(this,gr,`${o}${a?":"+a:""}`,"f")}if(yt(this,Ur,Promise.resolve(t.identity||new Ll),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new Xe(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new Xe(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);yt(this,ii,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",Wh(Gf)),t.useQueryNonces&&this.addTransform("query",Wh(Gf)),t.logToConsole&&this.log.subscribe(o=>{o.level==="error"?console.error(o.message):o.level==="warn"?console.warn(o.message):console.log(o.message)})}get waterMark(){return ue(this,so,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=fs.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await fs.create(t.config):await fs.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new Xe("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const i=ue(this,Ki,"f").findIndex(s=>(s.priority||0)<n);ue(this,Ki,"f").splice(i>=0?i:ue(this,Ki,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const i=ue(this,Wi,"f").findIndex(s=>(s.priority||0)<n);ue(this,Wi,"f").splice(i>=0?i:ue(this,Wi,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!ue(this,Ur,"f"))throw new Fa("This identity has expired due this application's security policy. Please refresh your authentication.");return(await ue(this,Ur,"f")).getPrincipal()}async call(t,r,n){var i,s;await ue(this,At,"m",oi).call(this);const o=(i=r.callSync)!==null&&i!==void 0?i:!0,a=await(n!==void 0?await n:await ue(this,Ur,"f"));if(!a)throw new Fa("This identity has expired due this application's security policy. Please refresh your authentication.");const l=Te.from(t),f=r.effectiveCanisterId?Te.from(r.effectiveCanisterId):l,y=a.getPrincipal()||Te.anonymous();let p=new Ra(ue(this,ii,"f")*Ua);Math.abs(ue(this,Gi,"f"))>1e3*30&&(p=new Ra(ue(this,ii,"f")*Ua+ue(this,Gi,"f")));const m={request_type:qf.Call,canister_id:l,method_name:r.methodName,arg:r.arg,sender:y,ingress_expiry:p};let v=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ue(this,gr,"f")?{Authorization:"Basic "+btoa(ue(this,gr,"f"))}:{})},endpoint:"call",body:m}),N;r!=null&&r.nonce?N=k(r.nonce):v.body.nonce?N=k(v.body.nonce):N=void 0,m.nonce=N;function k(S){return new Uint8Array(S)}v=await a.transformRequest(v);const O=wc(v.body),_=ue(this,ni,"f").call(this),x=Mo(m);try{const S=()=>(this.log.print(`fetching "/api/v3/canister/${f.toText()}/call" with request:`,v),ue(this,Dr,"f").call(this,""+new URL(`/api/v3/canister/${f.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ue(this,io,"f")),v.request),{body:O}))),j=()=>(this.log.print(`fetching "/api/v2/canister/${f.toText()}/call" with request:`,v),ue(this,Dr,"f").call(this,""+new URL(`/api/v2/canister/${f.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ue(this,io,"f")),v.request),{body:O}))),U=await ue(this,At,"m",ll).call(this,{request:o?S:j,backoff:_,tries:0}),$=await U.arrayBuffer(),G=U.status===200&&$.byteLength>0?tn($):null;if(G&&"certificate"in G){const V=await this.parseTimeFromResponse({certificate:G.certificate});yt(this,so,V,"f")}return{requestId:x,response:{ok:U.ok,status:U.status,statusText:U.statusText,body:G,headers:eo(U.headers)},requestDetails:m}}catch(S){if(S.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const j=`Error while making call: ${(s=S.message)!==null&&s!==void 0?s:String(S)}`,F=new eE(j,S,Ge(x),Ge(v.body.sender_pubkey),Ge(v.body.sender_sig),String(v.body.content.ingress_expiry._value));throw this.log.error(j,F),F}}async query(t,r,n){var i,s,o,a;await ue(this,At,"m",oi).call(this);const l=ue(this,ni,"f").call(this),f=r.effectiveCanisterId?Te.from(r.effectiveCanisterId):Te.from(t);this.log.print(`ecid ${f.toString()}`),this.log.print(`canisterId ${t.toString()}`);let y,p;const m=await(n!==void 0?n:ue(this,Ur,"f"));if(!m)throw new Fa("This identity has expired due this application's security policy. Please refresh your authentication.");const v=Te.from(t),N=(m==null?void 0:m.getPrincipal())||Te.anonymous(),k={request_type:"query",canister_id:v,method_name:r.methodName,arg:r.arg,sender:N,ingress_expiry:new Ra(ue(this,ii,"f")*Ua)},O=Mo(k);y=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ue(this,gr,"f")?{Authorization:"Basic "+btoa(ue(this,gr,"f"))}:{})},endpoint:"read",body:k}),y=await(m==null?void 0:m.transformRequest(y));const _=wc(y.body),x={canister:v.toText(),ecid:f,transformedRequest:y,body:_,requestId:O,backoff:l,tries:0},S=async()=>({requestDetails:k,query:await ue(this,At,"m",aw).call(this,x)}),j=async()=>{if(!ue(this,ai,"f"))return;const F=ue(this,si,"f").get(f.toString());return F||(await this.fetchSubnetKeys(f.toString()),ue(this,si,"f").get(f.toString()))};try{const[F,U]=await Promise.all([S(),j()]);p=F;const{requestDetails:$,query:G}=p,V=Object.assign(Object.assign({},G),{requestDetails:$});if(this.log.print("Query response:",V),!ue(this,ai,"f"))return V;try{return ue(this,ul,"f").call(this,V,U)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),ue(this,si,"f").delete(t.toString()),await this.fetchSubnetKeys(f.toString());const ne=ue(this,si,"f").get(t.toString());if(!ne)throw new jr("Invalid signature from replica signed query: no matching node key found.");return ue(this,ul,"f").call(this,V,ne)}}catch(F){const U=`Error while making call: ${(i=F.message)!==null&&i!==void 0?i:String(F)}`,$=new tE(U,F,String(O),Ge((s=y==null?void 0:y.body)===null||s===void 0?void 0:s.sender_pubkey),Ge((o=y==null?void 0:y.body)===null||o===void 0?void 0:o.sender_sig),String((a=y==null?void 0:y.body)===null||a===void 0?void 0:a.content.ingress_expiry._value));throw this.log.error(U,$),$}}async createReadStateRequest(t,r){await ue(this,At,"m",oi).call(this);const n=await(r!==void 0?await r:await ue(this,Ur,"f"));if(!n)throw new Fa("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(n==null?void 0:n.getPrincipal())||Te.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ue(this,gr,"f")?{Authorization:"Basic "+btoa(ue(this,gr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new Ra(ue(this,ii,"f")*Ua)}});return n==null?void 0:n.transformRequest(s)}async readState(t,r,n,i){var s,o,a,l;function f(k){for(const O of k.paths){const[_,x]=O,S=en(new TextEncoder().encode("request_status"));if(ea(_,S))return x}}const y=f(r);await ue(this,At,"m",oi).call(this);const p=typeof t=="string"?Te.fromText(t):t,m=i??await this.createReadStateRequest(r,n),v=wc(m.body);this.log.print(`fetching "/api/v2/canister/${p}/read_state" with request:`,m);const N=ue(this,ni,"f").call(this);try{const k=await ue(this,At,"m",ll).call(this,{request:()=>ue(this,Dr,"f").call(this,""+new URL(`/api/v2/canister/${p.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},ue(this,cs,"f")),m.request),{body:v})),backoff:N,tries:0});if(!k.ok)throw new Error(`Server returned an error:
  Code: ${k.status} (${k.statusText})
  Body: ${await k.text()}
`);const O=tn(await k.arrayBuffer());this.log.print("Read state response:",O);const _=await this.parseTimeFromResponse(O);return _>0&&(this.log.print("Read state response time:",_),yt(this,so,_,"f")),O}catch(k){const O=`Caught exception while attempting to read state: ${(s=k.message)!==null&&s!==void 0?s:String(k)}`,_=new rE(O,k,String(y),Ge((o=m==null?void 0:m.body)===null||o===void 0?void 0:o.sender_pubkey),Ge((a=m==null?void 0:m.body)===null||a===void 0?void 0:a.sender_sig),String((l=m==null?void 0:m.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(O,_),_}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=tn(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const i=Os(["time"],r);if(i.status!==ot.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=l0(en(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await ue(this,At,"m",oi).call(this);const r=await y_(()=>Promise.resolve().then(()=>l8),void 0),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=fs.createSync({identity:new Ll,host:this.host.toString(),fetch:ue(this,Dr,"f"),retryTimes:0}),o=(await r.request({canisterId:t??Te.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");o&&(yt(this,Gi,Number(o)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${ue(this,Gi,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=ue(this,gr,"f")?{Authorization:"Basic "+btoa(ue(this,gr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=ue(this,ni,"f").call(this),n=await ue(this,At,"m",ll).call(this,{backoff:r,request:()=>ue(this,Dr,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},ue(this,cs,"f"))),tries:0});return tn(await n.arrayBuffer())}async fetchRootKey(){let t;return ue(this,ri,"f")?t=await ue(this,ri,"f"):(yt(this,ri,new Promise((r,n)=>{this.status().then(i=>{const s=i.root_key;this.rootKey=s,r(s)}).catch(n)}),"f"),t=await ue(this,ri,"f")),yt(this,ri,null,"f"),t}invalidateIdentity(){yt(this,Ur,null,"f")}replaceIdentity(t){yt(this,Ur,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await ue(this,At,"m",oi).call(this);const r=Te.from(t),i=(await W1({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return ue(this,si,"f").set(r.toText(),i),i}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of ue(this,Ki,"f"))r=r.then(i=>n(i).then(s=>s||i));else for(const n of ue(this,Wi,"f"))r=r.then(i=>n(i).then(s=>s||i));return r}}ri=new WeakMap,xs=new WeakMap,Ur=new WeakMap,Dr=new WeakMap,cs=new WeakMap,io=new WeakMap,Gi=new WeakMap,gr=new WeakMap,xr=new WeakMap,ni=new WeakMap,ii=new WeakMap,so=new WeakMap,Wi=new WeakMap,Ki=new WeakMap,si=new WeakMap,ai=new WeakMap,ul=new WeakMap,At=new WeakSet,aw=async function e(t){var r,n;const{ecid:i,transformedRequest:s,body:o,requestId:a,backoff:l,tries:f}=t,y=f===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:f,backoff:l,delay:y}),y===null)throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${ue(this,xr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);y>0&&await new Promise(N=>setTimeout(N,y));let p;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const N=await ue(this,Dr,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},ue(this,cs,"f")),s.request),{body:o}));if(N.status===200){const k=tn(await N.arrayBuffer());p=Object.assign(Object.assign({},k),{httpDetails:{ok:N.ok,status:N.status,statusText:N.statusText,headers:eo(N.headers)},requestId:a})}else throw new xc(`Gateway returned an error:
  Code: ${N.status} (${N.statusText})
  Body: ${await N.text()}
`,{ok:N.ok,status:N.status,statusText:N.statusText,headers:eo(N.headers)})}catch(N){if(f<ue(this,xr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${N}
  Retrying query.`),await ue(this,At,"m",e).call(this,Object.assign(Object.assign({},t),{tries:f+1}));throw N}const m=(n=(r=p.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!ue(this,ai,"f"))return p;if(!m)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const v=Number(BigInt(m)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:v}),Number(this.waterMark)>v){const N=new Xe("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",N,{timestamp:m,waterMark:this.waterMark}),f<ue(this,xr,"f"))return await ue(this,At,"m",e).call(this,Object.assign(Object.assign({},t),{tries:f+1}));throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${ue(this,xr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return p},ll=async function e(t){const{request:r,backoff:n,tries:i}=t,s=i===0?0:n.next();if(s===null)throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${ue(this,xr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(f=>setTimeout(f,s));let o;try{o=await r()}catch(f){if(ue(this,xr,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${f}
  Retrying request.`),await ue(this,At,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw f}if(o.ok)return o;const a=await o.clone().text(),l=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${a}
`;if(o.status===404&&o.url.includes("api/v3"))throw new xc("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:eo(o.headers)});if(i<ue(this,xr,"f"))return await ue(this,At,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new xc(l,{ok:o.ok,status:o.status,statusText:o.statusText,headers:eo(o.headers)})},oi=async function(){if(!this.rootKey)if(this.rootKey===null&&ue(this,xs,"f"))await this.fetchRootKey();else throw new Xe(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${ue(this,xs,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var wp;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(wp||(wp={}));function xp(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const M8=5*60*1e3;function lw(){return H8(z8($8(),1e3),L8(1e3,1.2),V8(M8))}function $8(){let e=!0;return async()=>e?(e=!1,!0):!1}function z8(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(s=>setTimeout(s,t))}}function V8(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Ge(n)}
  Request status: ${i}
`)}}function L8(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function H8(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}async function uw(e,t,r,n=lw(),i,s){var o;const a=[new TextEncoder().encode("request_status"),r],l=i??await((o=e.createReadStateRequest)===null||o===void 0?void 0:o.call(e,{paths:[a]})),f=await e.readState(t,{paths:[a]},void 0,l);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const y=await gi.create({certificate:f.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:s}),p=or(y.lookup([...a,new TextEncoder().encode("status")]));let m;switch(typeof p>"u"?m=Yr.Unknown:m=new TextDecoder().decode(p),m){case Yr.Replied:return{reply:or(y.lookup([...a,"reply"])),certificate:y};case Yr.Received:case Yr.Unknown:case Yr.Processing:return await n(t,r,m),uw(e,t,r,n,l,s);case Yr.Rejected:{const v=new Uint8Array(or(y.lookup([...a,"reject_code"])))[0],N=new TextDecoder().decode(or(y.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Ge(r)}
  Reject code: ${v}
  Reject text: ${N}
`)}case Yr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Ge(r)}
`)}throw new Error("unreachable")}const q8=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,s=i,o=e.Nat32,a=e.Record({start_height:o,end_height:e.Opt(o),network:t}),l=e.Vec(e.Nat8),f=e.Record({tip_height:o,block_headers:e.Vec(l)}),y=e.Record({network:t}),p=e.Nat64,m=e.Vec(p),v=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),N=e.Vec(e.Nat8),k=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),O=e.Record({height:e.Nat32,value:i,outpoint:k}),_=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:o,tip_block_hash:N,utxos:e.Vec(O)}),x=e.Record({transaction:e.Vec(e.Nat8),network:t}),S=e.Principal,j=e.Record({canister_id:S,num_requested_changes:e.Opt(e.Nat64)}),F=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),U=e.Vec(e.Nat8),$=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:U}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),G=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:F,details:$}),V=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(G),total_num_changes:e.Nat64}),P=e.Record({canister_id:S}),ne=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),ee=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ne,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),q=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:ee,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),te=e.Record({canister_id:S}),se=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ne),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),de=e.Record({settings:e.Opt(se),sender_canister_version:e.Opt(e.Nat64)}),me=e.Record({canister_id:S}),D=e.Record({canister_id:S}),re=e.Record({canister_id:S,snapshot_id:U}),ie=e.Record({canister_id:S}),W=e.Variant({secp256k1:e.Null}),X=e.Record({key_id:e.Record({name:e.Text,curve:W}),canister_id:e.Opt(S),derivation_path:e.Vec(e.Vec(e.Nat8))}),he=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),T=e.Record({canister_id:S}),ce=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Ee=e.Record({canister_log_records:e.Vec(ce)}),be=e.Record({value:e.Text,name:e.Text}),fe=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(be)}),pe=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:fe})],[fe],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(be)}),A=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),C=e.Record({hash:e.Vec(e.Nat8)}),M=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:A,chunk_hashes_list:e.Vec(C),target_canister:S,store_canister:e.Opt(S),sender_canister_version:e.Opt(e.Nat64)}),K=e.Vec(e.Nat8),H=e.Record({arg:e.Vec(e.Nat8),wasm_module:K,mode:A,canister_id:S,sender_canister_version:e.Opt(e.Nat64)}),Y=e.Record({canister_id:S}),g=e.Record({id:U,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),u=e.Vec(g),c=e.Record({canister_id:S,sender_canister_version:e.Opt(e.Nat64),snapshot_id:U}),b=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),B=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),I=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(B)})),Z=e.Record({settings:e.Opt(se),specified_id:e.Opt(S),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ae=e.Record({canister_id:S}),ye=e.Record({canister_id:S,amount:e.Nat}),we=e.Vec(e.Nat8),Ne=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),w=e.Record({key_id:e.Record({algorithm:Ne,name:e.Text}),canister_id:e.Opt(S),derivation_path:e.Vec(e.Vec(e.Nat8))}),d=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),h=e.Record({key_id:e.Record({name:e.Text,curve:W}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),R=e.Record({signature:e.Vec(e.Nat8)}),L=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),J=e.Record({aux:e.Opt(L),key_id:e.Record({algorithm:Ne,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),Q=e.Record({signature:e.Vec(e.Nat8)}),_e=e.Record({canister_id:S}),Be=e.Record({canister_id:S}),Se=e.Record({canister_id:S}),ve=e.Vec(C),Ie=e.Record({subnet_id:e.Principal}),Ve=e.Record({replica_version:e.Text}),Fu=e.Record({replace_snapshot:e.Opt(U),canister_id:S}),Iu=g,ju=e.Record({canister_id:S,sender_canister_version:e.Opt(e.Nat64)}),Pu=e.Record({canister_id:e.Principal,settings:se,sender_canister_version:e.Opt(e.Nat64)}),Mu=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),mn=C;return e.Service({bitcoin_get_balance:e.Func([n],[s],[]),bitcoin_get_block_headers:e.Func([a],[f],[]),bitcoin_get_current_fee_percentiles:e.Func([y],[m],[]),bitcoin_get_utxos:e.Func([v],[_],[]),bitcoin_send_transaction:e.Func([x],[],[]),canister_info:e.Func([j],[V],[]),canister_status:e.Func([P],[q],[]),clear_chunk_store:e.Func([te],[],[]),create_canister:e.Func([de],[me],[]),delete_canister:e.Func([D],[],[]),delete_canister_snapshot:e.Func([re],[],[]),deposit_cycles:e.Func([ie],[],[]),ecdsa_public_key:e.Func([X],[he],[]),fetch_canister_logs:e.Func([T],[Ee],["query"]),http_request:e.Func([pe],[fe],[]),install_chunked_code:e.Func([M],[],[]),install_code:e.Func([H],[],[]),list_canister_snapshots:e.Func([Y],[u],[]),load_canister_snapshot:e.Func([c],[],[]),node_metrics_history:e.Func([b],[I],[]),provisional_create_canister_with_cycles:e.Func([Z],[ae],[]),provisional_top_up_canister:e.Func([ye],[],[]),raw_rand:e.Func([],[we],[]),schnorr_public_key:e.Func([w],[d],[]),sign_with_ecdsa:e.Func([h],[R],[]),sign_with_schnorr:e.Func([J],[Q],[]),start_canister:e.Func([_e],[],[]),stop_canister:e.Func([Be],[],[]),stored_chunks:e.Func([Se],[ve],[]),subnet_info:e.Func([Ie],[Ve],[]),take_canister_snapshot:e.Func([Fu],[Iu],[]),uninstall_code:e.Func([ju],[],[]),update_settings:e.Func([Pu],[],[]),upload_chunk:e.Func([Mu],[mn],[])})};class cw extends Xe{constructor(t,r,n,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=i}}class G8 extends cw{constructor(t,r,n){var i;super(t,r,"query",{Status:n.status,Code:(i=Ff[n.reject_code])!==null&&i!==void 0?i:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class vp extends cw{constructor(t,r,n,i,s,o,a){super(t,r,"update",Object.assign({"Request ID":Ge(n)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=n,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=a}}const nr=Symbol.for("ic-agent-metadata");class Ou{constructor(t){this[nr]=Object.freeze(t)}static agentOf(t){return t[nr].config.agent}static interfaceOf(t){return t[nr].service}static canisterIdOf(t){return Te.from(t[nr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],s=[...new Uint8Array(t.module)],o=typeof r.canisterId=="string"?Te.fromText(r.canisterId):r.canisterId;await _p(r).install_code({mode:n,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(t,r){function n(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await _p(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){const i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){const n=t({IDL:nb});class i extends Ou{constructor(o){if(!o.canisterId)throw new Xe(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof o.canisterId=="string"?Te.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},fw),o),{canisterId:a}),service:n});for(const[l,f]of n._fields)r!=null&&r.httpDetails&&f.annotations.push(Zf),r!=null&&r.certificate&&f.annotations.push(dw),this[l]=W8(this,l,f,o.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new Xe(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function Vi(e,t){const r=Ng(e,ng.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const fw={pollingStrategyFactory:lw},Zf="http-details",dw="certificate";function W8(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(o,...a)=>{var l,f;o=Object.assign(Object.assign({},o),(f=(l=e[nr].config).queryTransform)===null||f===void 0?void 0:f.call(l,t,a,Object.assign(Object.assign({},e[nr].config),o)));const y=o.agent||e[nr].config.agent||xp(),p=Te.from(o.canisterId||e[nr].config.canisterId),m=jf(r.argTypes,a),v=await y.query(p,{methodName:t,arg:m,effectiveCanisterId:o.effectiveCanisterId}),N=Object.assign(Object.assign({},v.httpDetails),{requestDetails:v.requestDetails});switch(v.status){case"rejected":throw new G8(p,t,v);case"replied":return r.annotations.includes(Zf)?{httpDetails:N,result:Vi(r.retTypes,v.reply.arg)}:Vi(r.retTypes,v.reply.arg)}}:i=async(o,...a)=>{var l,f;o=Object.assign(Object.assign({},o),(f=(l=e[nr].config).callTransform)===null||f===void 0?void 0:f.call(l,t,a,Object.assign(Object.assign({},e[nr].config),o)));const y=o.agent||e[nr].config.agent||xp(),{canisterId:p,effectiveCanisterId:m,pollingStrategyFactory:v}=Object.assign(Object.assign(Object.assign({},fw),e[nr].config),o),N=Te.from(p),k=m!==void 0?Te.from(m):N,O=jf(r.argTypes,a),{requestId:_,response:x,requestDetails:S}=await y.call(N,{methodName:t,arg:O,effectiveCanisterId:k});let j,F;if(x.body&&x.body.certificate){if(y.rootKey==null)throw new Error("Agent is missing root key");const V=x.body.certificate;F=await gi.create({certificate:Ei(V),rootKey:y.rootKey,canisterId:Te.from(p),blsVerify:n});const P=[new TextEncoder().encode("request_status"),_];switch(new TextDecoder().decode(or(F.lookup([...P,"status"])))){case"replied":j=or(F.lookup([...P,"reply"]));break;case"rejected":{const ee=new Uint8Array(or(F.lookup([...P,"reject_code"])))[0],q=new TextDecoder().decode(or(F.lookup([...P,"reject_message"]))),te=or(F.lookup([...P,"error_code"])),se=te?new TextDecoder().decode(te):void 0;throw new vp(N,t,_,x,ee,q,se)}}}else if(x.body&&"reject_message"in x.body){const{reject_code:V,reject_message:P,error_code:ne}=x.body;throw new vp(N,t,_,x,V,P,ne)}if(x.status===202){const V=v(),P=await uw(y,k,_,V,n);F=P.certificate,j=P.reply}const U=r.annotations.includes(Zf),$=r.annotations.includes(dw),G=Object.assign(Object.assign({},x),{requestDetails:S});if(j!==void 0)return U&&$?{httpDetails:G,certificate:F,result:Vi(r.retTypes,j)}:$?{certificate:F,result:Vi(r.retTypes,j)}:U?{httpDetails:G,result:Vi(r.retTypes,j)}:Vi(r.retTypes,j);if(r.retTypes.length===0)return U?{httpDetails:x,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...a)=>i(o,...a),s}function _p(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:Te.from(e.effectiveCanisterId)};const i=n[0];let s=Te.fromHex("");return i&&typeof i=="object"&&i.target_canister&&r==="install_chunked_code"&&(s=Te.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=Te.from(i.canister_id)),{effectiveCanisterId:s}}return Ou.createActor(q8,Object.assign(Object.assign(Object.assign({},e),{canisterId:Te.fromHex("")}),{callTransform:t,queryTransform:t}))}var Yl=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},An=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},cl,fl,Di,Yi;function bp(e){return e!==null&&typeof e=="object"}class sn{constructor(t){if(cl.set(this,void 0),fl.set(this,void 0),t.byteLength!==sn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Yl(this,cl,en(t),"f"),Yl(this,fl,sn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=an(t);return this.fromRaw(r)}else if(bp(t)){const r=t;if(bp(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(en(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new sn(t)}static fromDer(t){return new sn(this.derDecode(t))}static derEncode(t){const r=Q1(t,Dl).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=J1(t,Dl);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return en(r)}get rawKey(){return An(this,cl,"f")}get derKey(){return An(this,fl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}cl=new WeakMap,fl=new WeakMap;sn.RAW_KEY_LENGTH=32;class jn extends t0{constructor(t,r){super(),Di.set(this,void 0),Yi.set(this,void 0),Yl(this,Di,sn.from(t),"f"),Yl(this,Yi,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=Hi.utils.randomPrivateKey()),ea(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];const n=Hi.getPublicKey(r);return jn.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new jn(sn.fromDer(an(r)),an(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new jn(sn.fromRaw(t),r)}static fromSecretKey(t){const r=Hi.getPublicKey(new Uint8Array(t));return jn.fromKeyPair(r,t)}toJSON(){return[Ge(An(this,Di,"f").toDer()),Ge(An(this,Yi,"f"))]}getKeyPair(){return{secretKey:An(this,Yi,"f"),publicKey:An(this,Di,"f")}}getPublicKey(){return An(this,Di,"f")}async sign(t){const r=new Uint8Array(t),n=yo(Hi.sign(r,An(this,Yi,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[i,s,o]=[t,r,n].map(a=>(typeof a=="string"&&(a=an(a)),a instanceof Uint8Array&&(a=en(a.buffer)),new Uint8Array(a)));return Hi.verify(i,s,o)}}Di=new WeakMap,Yi=new WeakMap;class c0 extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,c0.prototype)}}function Ep(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new c0("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Zl extends t0{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},s=Ep(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),a=await s.exportKey("spki",o.publicKey);return new this(o,a,s)}static async fromKeyPair(t,r){const n=Ep(r),i=await n.exportKey("spki",t.publicKey);return new Zl(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var K8=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Li=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Wr;class D8{constructor(t){Wr.set(this,void 0),K8(this,Wr,t,"f")}get rawKey(){return Li(this,Wr,"f").rawKey}get derKey(){return Li(this,Wr,"f").derKey}toDer(){return Li(this,Wr,"f").toDer()}getPublicKey(){return Li(this,Wr,"f")}getPrincipal(){if(!Li(this,Wr,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Te.fromUint8Array(new Uint8Array(Li(this,Wr,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Wr=new WeakMap;var Y8=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Z8=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},X8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},dl;const Q8=new TextEncoder().encode("ic-request-auth-delegation"),J8=new TextEncoder().encode(`
ic-request`);function Rc(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return an(e)}class f0{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return Ht.value.map(Object.assign({pubkey:Ht.value.bytes(this.pubkey),expiration:Ht.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Ht.value.array(this.targets.map(t=>Ht.value.bytes(Ei(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ge(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function e3(e,t,r,n){const i=new f0(t.toDer(),BigInt(+r)*BigInt(1e6),n),s=new Uint8Array([...Q8,...new Uint8Array(Mo(Object.assign({},i)))]),o=await e.sign(Ei(s));return{delegation:i,signature:o}}class Xl{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var s,o;const a=await e3(t,r,n,i.targets);return new Xl([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],a],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const i=n.map(s=>{const{delegation:o,signature:a}=s,{pubkey:l,expiration:f,targets:y}=o;if(y!==void 0&&!Array.isArray(y))throw new Error("Invalid targets.");return{delegation:new f0(Rc(l),BigInt("0x"+f),y&&y.map(p=>{if(typeof p!="string")throw new Error("Invalid target.");return Te.fromHex(p)})),signature:Rc(a)}});return new this(i,Rc(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:Ge(r.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Ge(n)}}),publicKey:Ge(this.publicKey)}}}class Sp extends t0{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=X8(t,["body"]),i=await Mo(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(Ei(new Uint8Array([...J8,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class Ql extends D8{constructor(t,r){super(t),dl.set(this,void 0),Y8(this,dl,r,"f")}get delegation(){return Z8(this,dl,"f")}static fromDelegation(t,r){return new Ql(t,r)}}dl=new WeakMap;function t3(e,t){for(const{delegation:n}of e.delegations)if(+new Date(Number(n.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const n of r){const i=n.toText();for(const{delegation:s}of e.delegations){if(s.targets===void 0)continue;let o=!0;for(const a of s.targets)if(a.toText()===i){o=!1;break}if(o)return!1}}return!0}var Np;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Np||(Np={}));const Tp=["mousedown","mousemove","keydown","touchstart","wheel"];class Bp{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),Tp.forEach(function(a){document.addEventListener(a,s,!0)});const o=(a,l)=>{let f;return(...y)=>{const p=this,m=function(){f=void 0,a.apply(p,y)};clearTimeout(f),f=window.setTimeout(m,l)}};if(t!=null&&t.captureScroll){const a=o(s,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",a,!0)}s()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Tp.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const r3=(e,t)=>t.some(r=>e instanceof r);let Ap,kp;function n3(){return Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3(){return kp||(kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,Xf=new WeakMap,pw=new WeakMap,Oc=new WeakMap,d0=new WeakMap;function s3(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{r(Wn(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&hw.set(r,e)}).catch(()=>{}),d0.set(t,e),t}function o3(e){if(Xf.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Xf.set(e,t)}let Qf={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Xf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pw.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wn(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function a3(e){Qf=e(Qf)}function l3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Uc(this),t,...r);return pw.set(n,t.sort?t.sort():[t]),Wn(n)}:i3().includes(e)?function(...t){return e.apply(Uc(this),t),Wn(hw.get(this))}:function(...t){return Wn(e.apply(Uc(this),t))}}function u3(e){return typeof e=="function"?l3(e):(e instanceof IDBTransaction&&o3(e),r3(e,n3())?new Proxy(e,Qf):e)}function Wn(e){if(e instanceof IDBRequest)return s3(e);if(Oc.has(e))return Oc.get(e);const t=u3(e);return t!==e&&(Oc.set(e,t),d0.set(t,e)),t}const Uc=e=>d0.get(e);function c3(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Wn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Wn(o.result),l.oldVersion,l.newVersion,Wn(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const f3=["get","getKey","getAll","getAllKeys","count"],d3=["put","add","delete","clear"],Fc=new Map;function Cp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fc.get(t))return Fc.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=d3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||f3.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let f=l.store;return n&&(f=f.index(a.shift())),(await Promise.all([f[r](...a),i&&l.done]))[0]};return Fc.set(t,s),s}a3(e=>({...e,get:(t,r,n)=>Cp(t,r)||e.get(t,r,n),has:(t,r)=>!!Cp(t,r)||e.has(t,r)}));const mw="auth-client-db",yw="ic-keyval",h3=async(e=mw,t=yw,r)=>(gw&&(localStorage!=null&&localStorage.getItem(On))&&(localStorage.removeItem(On),localStorage.removeItem(kn)),await c3(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function p3(e,t,r){return await e.get(t,r)}async function m3(e,t,r,n){return await e.put(t,n,r)}async function y3(e,t,r){return await e.delete(t,r)}class h0{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=mw,storeName:n=yw,version:i=v3}=t??{},s=await h3(r,n,i);return new h0(s,n)}async set(t,r){return await m3(this._db,this._storeName,t,r)}async get(t){var r;return(r=await p3(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await y3(this._db,this._storeName,t)}}var g3=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},w3=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},hl;const kn="identity",On="delegation",x3="iv",v3=1,gw=typeof window<"u";class _3{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class b3{constructor(t){hl.set(this,void 0),g3(this,hl,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}h0.create(w3(this,hl,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}hl=new WeakMap;const E3="https://identity.internetcomputer.org",S3="#authorize",Ic="ECDSA",jc="Ed25519",N3=500,T3="UserInterrupt";class B3{constructor(t,r,n,i,s,o,a,l){this._identity=t,this._key=r,this._chain=n,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=a,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,i;const s=(r=t.storage)!==null&&r!==void 0?r:new b3,o=(n=t.keyType)!==null&&n!==void 0?n:Ic;let a=null;if(t.identity)a=t.identity;else{let p=await s.get(kn);if(!p&&gw)try{const m=new _3,v=await m.get(On),N=await m.get(kn);v&&N&&o===Ic&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(On,v),await s.set(kn,N),p=v,await m.remove(On),await m.remove(kn))}catch(m){console.error("error while attempting to recover localstorage: "+m)}if(p)try{typeof p=="object"?o===jc&&typeof p=="string"?a=await jn.fromJSON(p):a=await Zl.fromKeyPair(p):typeof p=="string"&&(a=jn.fromJSON(p))}catch{}}let l=new Ll,f=null;if(a)try{const p=await s.get(On);if(typeof p=="object"&&p!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?l=t.identity:p&&(f=Xl.fromJSON(p),t3(f)?"toDer"in a?l=Ql.fromDelegation(a,f):l=Sp.fromDelegation(a,f):(await Pc(s),a=null))}catch(p){console.error(p),await Pc(s),a=null}let y;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?y=void 0:(f||t.identity)&&(y=Bp.create(t.idleOptions)),a||(o===jc?(a=await jn.generate(),await s.set(kn,JSON.stringify(a.toJSON()))):(t.storage&&o===Ic&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${jc}' as the key type, as it can serialize to a string`),a=await Zl.generate(),await s.set(kn,a.getKeyPair()))),new this(l,a,f,s,y,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,i;const s=t.delegations.map(f=>({delegation:new f0(f.delegation.pubkey,f.delegation.expiration,f.delegation.targets),signature:f.signature.buffer})),o=Xl.fromDelegations(s,t.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=o,"toDer"in a?this._identity=Ql.fromDelegation(a,this._chain):this._identity=Sp.fromDelegation(a,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const l=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=Bp.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(On,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,i,s;const o=BigInt(8)*BigInt(36e11),a=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||E3);a.hash=S3,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:o},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(a.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const l=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(T3,t==null?void 0:t.onError):setTimeout(l,N3))};l()}_getEventHandler(t,r){return async n=>{var i,s,o;if(n.origin!==t.origin)return;const a=n.data;switch(a.kind){case"authorize-ready":{const l=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(s=r==null?void 0:r.derivationOrigin)===null||s===void 0?void 0:s.toString()},r==null?void 0:r.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(l,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,r==null?void 0:r.onSuccess)}catch(l){this._handleFailure(l.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Pc(this._storage),this._identity=new Ll,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Pc(e){await e.remove(kn),await e.remove(On),await e.remove(x3)}const A3=({IDL:e})=>{const t=e.Record({name:e.Text,description:e.Opt(e.Text)}),r=e.Record({id:e.Nat64,members:e.Vec(e.Principal),name:e.Text,description:e.Opt(e.Text),last_message_at:e.Opt(e.Nat64),created_at:e.Nat64,created_by:e.Principal,message_count:e.Nat64}),n=e.Variant({UserAlreadyExists:e.Null,MessageTooLarge:e.Null,InvalidInput:e.Null,ChannelNotFound:e.Null,NotFound:e.Null,NotAuthorized:e.Null,AttachmentTooLarge:e.Null}),i=e.Record({bio:e.Opt(e.Text),user_principal:e.Principal,username:e.Text,avatar_url:e.Opt(e.Text),last_active:e.Nat64,message_count:e.Nat64,joined_at:e.Nat64}),s=e.Variant({System:e.Null,Text:e.Null,Image:e.Null}),o=e.Record({data:e.Vec(e.Nat8),size:e.Nat64,file_type:e.Text,filename:e.Text}),a=e.Record({id:e.Nat64,content:e.Text,reply_to:e.Opt(e.Nat64),author:e.Principal,timestamp:e.Nat64,author_username:e.Text,message_type:s,attachments:e.Vec(o)}),l=e.Record({messages:e.Vec(a),total_count:e.Nat64,has_more:e.Bool}),f=e.Record({channel_id:e.Opt(e.Nat64),content:e.Text,reply_to:e.Opt(e.Nat64),message_type:s,attachments:e.Vec(o)}),y=e.Record({id:e.Nat64,content:e.Text,reply_to:e.Opt(e.Nat64),author:e.Principal,timestamp:e.Nat64,message_type:s,attachments:e.Vec(o)}),p=e.Record({bio:e.Opt(e.Text),username:e.Opt(e.Text),avatar_url:e.Opt(e.Text)});return e.Service({create_channel:e.Func([t],[e.Variant({Ok:r,Err:n})],[]),get_all_channels:e.Func([],[e.Vec(r)],["query"]),get_all_users:e.Func([],[e.Vec(i)],["query"]),get_channel:e.Func([e.Nat64],[e.Opt(r)],["query"]),get_current_user:e.Func([],[e.Opt(i)],["query"]),get_message:e.Func([e.Nat64],[e.Opt(a)],["query"]),get_messages:e.Func([e.Opt(e.Nat64),e.Opt(e.Nat64),e.Opt(e.Nat64)],[l],["query"]),get_stats:e.Func([],[e.Vec(e.Tuple(e.Text,e.Nat64))],["query"]),get_user:e.Func([e.Principal],[e.Opt(i)],["query"]),join_channel:e.Func([e.Nat64],[e.Variant({Ok:e.Null,Err:n})],[]),register_user:e.Func([e.Text,e.Opt(e.Text)],[e.Variant({Ok:i,Err:n})],[]),send_message:e.Func([f],[e.Variant({Ok:y,Err:n})],[]),update_user:e.Func([p],[e.Variant({Ok:i,Err:n})],[])})},k3="evkxr-waaaa-aaaag-attza-cai",C3="https://ic0.app",R3=(e,t)=>{const r=C3;console.log(`🚀 PRODUCTION MODE: Connecting to host: ${r} with canister: ${e}`);const n=new fs({host:r,...t==null?void 0:t.agentOptions});return Ou.createActor(A3,{agent:n,canisterId:e,...t==null?void 0:t.actorOptions})},gt=(e,t)=>R3(e,t),ww=()=>k3,xw=oe.createContext(null),O3={createOptions:{idleOptions:{}},loginOptions:{identityProvider:"https://identity.ic0.app/#authorize"}},U3=(e=O3)=>{const[t,r]=oe.useState(!1),[n,i]=oe.useState(null),[s,o]=oe.useState(null),[a,l]=oe.useState(null),[f,y]=oe.useState(null),[p,m]=oe.useState(!1),[v,N]=oe.useState([]),[k,O]=oe.useState(null),_=ww(),x=(P,ne="info")=>{const ee=Math.random().toString(36).substring(2,9),q={id:ee,text:P,type:ne};N(te=>[...te,q]),setTimeout(()=>{S(ee)},5e3)},S=P=>{N(ne=>ne.filter(ee=>ee.id!==P))};oe.useEffect(()=>{B3.create(e.createOptions).then(async P=>{U(P)})},[]);const j=()=>{n&&n.login({...e.loginOptions,onSuccess:()=>{console.log("Login successful"),U(n)}})},F=async P=>{if(!P){O(null);return}try{const ee=await gt(_,{agentOptions:{identity:P}}).get_current_user();O(ee.length>0?ee[0]:null)}catch(ne){console.log("Error loading current user:",ne),O(null)}};async function U(P){const ne=await P.isAuthenticated();r(ne);const ee=P.getIdentity();o(ee);const q=ee.getPrincipal();let te=Te.fromUint8Array(q._arr).toText();y(te),l(q),i(P),ne?(await F(ee),console.log("User authenticated, principal:",te),x("Welcome to Chat Z!","success")):O(null)}async function $(){await(n==null?void 0:n.logout()),await U(n),x("Logged out successfully","info")}return{isAuth:t,login:j,logout:$,authClient:n,identity:s,principal:a,principalText:f,isLoading:p,setIsLoading:m,messages:v,addMessage:x,removeMessage:S,currentUser:k,registerUser:async(P,ne=null)=>{if(!s)return x("Please login first","error"),null;m(!0);try{const ee=gt(_,{agentOptions:{identity:s}}),q=await ee.register_user(P,ne?[ne]:[]);if("Ok"in q){O(q.Ok);try{await ee.join_channel(1),console.log("Successfully joined General channel")}catch(te){console.log("Failed to join General channel (likely already a member):",te)}return x("Registration successful!","success"),q.Ok}else{const te=Object.keys(q.Err)[0]||"Registration failed";return x(`Registration failed: ${te}`,"error"),null}}catch(ee){return console.error("Registration error:",ee),x("Registration failed","error"),null}finally{m(!1)}},updateUser:async P=>{if(!s)return x("Please login first","error"),null;m(!0);try{const ee=await gt(_,{agentOptions:{identity:s}}).update_user(P);if("Ok"in ee)return O(ee.Ok),x("Profile updated successfully!","success"),ee.Ok;{const q=Object.keys(ee.Err)[0]||"Update failed";return x(`Update failed: ${q}`,"error"),null}}catch(ne){return console.error("Update error:",ne),x("Update failed","error"),null}finally{m(!1)}},loadCurrentUser:F}},F3=({children:e})=>{const t=U3();return E.jsx(xw.Provider,{value:t,children:e})},Ui=()=>oe.useContext(xw),vw=oe.createContext(null),I3=()=>{const{identity:e,isAuth:t,addMessage:r,isLoading:n,setIsLoading:i}=Ui(),[s,o]=oe.useState([]),[a,l]=oe.useState([]),[f,y]=oe.useState(null),[p,m]=oe.useState([]),[v,N]=oe.useState({}),[k,O]=oe.useState([]),[_,x]=oe.useState({}),S=ww();oe.useEffect(()=>{t&&e?F():j()},[t,e]);const j=async()=>{try{const X=await gt(S,{agentOptions:{}}).get_all_channels();o(X);const he=X.find(T=>T.id===1);he&&!f&&y(he)}catch(W){console.error("Error loading channels (public):",W)}},F=async()=>{await Promise.all([U(),$(),G()])},U=async()=>{if(e)try{const W=gt(S,{agentOptions:{identity:e}}),X=await W.get_all_channels();o(X);const he=X.find(ce=>ce.id===1);if(he&&e){const ce=e.getPrincipal().toText();if(!he.members.some(be=>be.toText?be.toText()===ce:be.toString()===ce)){console.log("Auto-joining General channel...");try{await W.join_channel(1),console.log("Successfully joined General channel");const be=await W.get_all_channels();o(be)}catch(be){console.log("Failed to auto-join General channel:",be)}}}const T=s.find(ce=>ce.id===1)||he;T&&!f&&(y(T),V(T.id))}catch(W){console.error("Error loading channels:",W),r("Failed to load channels","error")}},$=async()=>{if(e)try{const X=await gt(S,{agentOptions:{identity:e}}).get_all_users();m(X)}catch(W){console.error("Error loading users:",W),r("Failed to load users","error")}},G=async()=>{if(e)try{const X=await gt(S,{agentOptions:{identity:e}}).get_stats(),he={};X.forEach(([T,ce])=>{he[T]=Number(ce)}),N(he)}catch(W){console.error("Error loading stats:",W),r("Failed to load stats","error")}},V=async(W=null,X=50,he=0)=>{if(e)try{const ce=await gt(S,{agentOptions:{identity:e}}).get_messages(W?[W]:[],[X],[he]);return l(ce.messages),ce}catch(T){return console.error("Error loading messages:",T),r("Failed to load messages","error"),null}},P=async(W,X={Text:null},he=[],T=null)=>{if(!e||!W.trim())return r("Please enter a message","error"),null;i(!0);try{const ce=gt(S,{agentOptions:{identity:e}}),Ee={content:W.trim(),channel_id:f?[f.id]:[],reply_to:T?[T]:[],message_type:X,attachments:he},be=await ce.send_message(Ee);if("Ok"in be)return await V(f==null?void 0:f.id),r("Message sent successfully!","success"),be.Ok;{const fe=Object.keys(be.Err)[0]||"Failed to send message";if(fe==="NotAuthorized"&&f)if(r("Not a member of this channel. Attempting to join...","info"),await ee(f.id)){r("Joined channel! Retrying message...","info");const A=await ce.send_message(Ee);if("Ok"in A)return await V(f==null?void 0:f.id),r("Message sent successfully after joining channel!","success"),A.Ok;{const C=Object.keys(A.Err)[0]||"Failed to send message";return r(`Failed to send message after joining: ${C}`,"error"),null}}else return r("Failed to join channel and send message","error"),null;else return r(`Failed to send message: ${fe}`,"error"),null}}catch(ce){return console.error("Error sending message:",ce),r("Failed to send message","error"),null}finally{i(!1)}},ne=async(W,X=null)=>{if(!e||!W.trim())return r("Please enter a channel name","error"),null;i(!0);try{const he=gt(S,{agentOptions:{identity:e}}),T={name:W.trim(),description:X?[X.trim()]:[]},ce=await he.create_channel(T);if("Ok"in ce)return await U(),r("Channel created successfully!","success"),ce.Ok;{const Ee=Object.keys(ce.Err)[0]||"Failed to create channel";return r(`Failed to create channel: ${Ee}`,"error"),null}}catch(he){return console.error("Error creating channel:",he),r("Failed to create channel","error"),null}finally{i(!1)}},ee=async W=>{if(!e)return r("Please login first","error"),!1;i(!0);try{const he=await gt(S,{agentOptions:{identity:e}}).join_channel(W);if("Ok"in he)return await U(),r("Joined channel successfully!","success"),!0;{const T=Object.keys(he.Err)[0]||"Failed to join channel";return r(`Failed to join channel: ${T}`,"error"),!1}}catch(X){return console.error("Error joining channel:",X),r("Failed to join channel","error"),!1}finally{i(!1)}},q=async W=>{if(console.log("Selecting channel:",W),y(W),l([]),O([]),W)try{await V(W.id),console.log("Loaded regular messages for channel:",W.id),W.is_encrypted&&(await me(W.id),console.log("Loaded encrypted messages for channel:",W.id))}catch(X){console.error("Error loading messages for channel:",W.id,X)}},te=async()=>{await F(),f&&(await V(f.id),f.is_encrypted&&await me(f.id))},se=async(W,X=null)=>{if(!e||!W.trim())return r("Please enter a channel name","error"),null;i(!0);try{const T=await gt(S,{agentOptions:{identity:e}}).create_encrypted_channel(W.trim(),X?[X.trim()]:[]);if("Ok"in T)return await U(),r("Encrypted channel created successfully!","success"),T.Ok;{const ce=Object.keys(T.Err)[0]||"Failed to create encrypted channel";return r(`Failed to create encrypted channel: ${ce}`,"error"),null}}catch(he){return console.error("Error creating encrypted channel:",he),r("Failed to create encrypted channel","error"),null}finally{i(!1)}},de=async(W,X=null,he={Text:null},T=[],ce=null)=>{if(!e||!W.trim())return r("Please enter a message","error"),null;i(!0);try{const Ee=gt(S,{agentOptions:{identity:e}}),be=await Ee.create_encrypted_message(W.trim(),X?[X]:[],ce?[ce]:[],he,T||[]);if("Ok"in be)return X?await me(X):await D(),r("Encrypted message sent successfully!","success"),be.Ok;{const fe=Object.keys(be.Err)[0]||"Failed to send encrypted message";if(fe==="NotAuthorized"&&X)if(r("Not a member of this encrypted channel. Attempting to join...","info"),await ee(X)){r("Joined encrypted channel! Retrying message...","info");const A=await Ee.create_encrypted_message(W.trim(),X?[X]:[],ce?[ce]:[],he,T||[]);if("Ok"in A)return X?await me(X):await D(),r("Encrypted message sent successfully after joining channel!","success"),A.Ok;{const C=Object.keys(A.Err)[0]||"Failed to send encrypted message";return r(`Failed to send encrypted message after joining: ${C}`,"error"),null}}else return r("Failed to join encrypted channel and send message","error"),null;else return r(`Failed to send encrypted message: ${fe}`,"error"),null}}catch(Ee){return console.error("Error sending encrypted message:",Ee),r("Failed to send encrypted message","error"),null}finally{i(!1)}},me=async W=>{if(W)try{const he=await gt(S,{agentOptions:e?{identity:e}:{}}).get_encrypted_messages_from_channel(W);return O(he),he}catch(X){return console.error("Error loading encrypted messages:",X),e&&r("Failed to load encrypted messages","error"),[]}},D=async()=>{if(e)try{const X=await gt(S,{agentOptions:{identity:e}}).get_encrypted_messages();return O(X),X}catch(W){return console.error("Error loading all encrypted messages:",W),r("Failed to load encrypted messages","error"),[]}};return{channels:s,messages:a,currentChannel:f,users:p,stats:v,encryptedMessages:k,decryptedMessages:_,loadChannels:U,loadUsers:$,loadMessages:V,loadStats:G,sendMessage:P,createChannel:ne,joinChannel:ee,selectChannel:q,refreshData:te,createEncryptedChannel:se,sendEncryptedMessage:de,loadEncryptedMessages:me,loadAllEncryptedMessages:D,decryptMessage:async W=>{if(!e||!W)return null;if(_[W])return _[W];i(!0);try{const he=await gt(S,{agentOptions:{identity:e}}).decrypt_encrypted_message(W);if("Ok"in he){const T=he.Ok;return x(ce=>({...ce,[W]:T})),T}else{const T=he.Err||"Failed to decrypt message";return r(`Failed to decrypt message: ${T}`,"error"),null}}catch(X){return console.error("Error decrypting message:",X),r("Failed to decrypt message","error"),null}finally{i(!1)}},decryptAllChannelMessages:async W=>{if(!e||!W)return[];i(!0);try{const he=await gt(S,{agentOptions:{identity:e}}).decrypt_all_messages_from_channel(W),T={};return he.forEach(ce=>{T[ce.id]=ce.content}),x(ce=>({...ce,...T})),r(`Decrypted ${he.length} messages successfully!`,"success"),he}catch(X){return console.error("Error decrypting channel messages:",X),r("Failed to decrypt channel messages","error"),[]}finally{i(!1)}}}},j3=({children:e})=>{const t=I3();return E.jsx(vw.Provider,{value:t,children:e})},Uu=()=>oe.useContext(vw),P3=({user:e,onLogout:t,onProfileClick:r,onLogin:n})=>E.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between items-center py-3 lg:py-4",children:[E.jsxs("div",{className:"flex items-center min-w-0",children:[E.jsx("div",{className:"h-7 w-7 lg:h-8 lg:w-8 flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-500 to-purple-600",children:E.jsx("svg",{className:"h-4 w-4 lg:h-5 lg:w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),E.jsx("h1",{className:"ml-2 lg:ml-3 text-lg lg:text-xl font-bold text-gray-900",children:"Chat Z"})]}),E.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:e?E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md px-2 py-1",children:[E.jsx("div",{className:"h-7 w-7 lg:h-8 lg:w-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-white font-medium text-xs lg:text-sm",children:e.username?e.username[0].toUpperCase():"?"})}),E.jsx("span",{className:"hidden sm:block font-medium",children:e.username||"Unknown User"})]}),E.jsxs("button",{onClick:t,className:"inline-flex items-center px-2 py-1.5 lg:px-3 lg:py-2 border border-transparent text-xs lg:text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[E.jsx("span",{className:"hidden sm:inline",children:"Logout"}),E.jsx("span",{className:"sm:hidden",children:"🚪"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 text-xs lg:text-sm text-gray-600",children:[E.jsx("div",{className:"h-5 w-5 lg:h-6 lg:w-6 bg-gray-300 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-xs",children:"👤"})}),E.jsx("span",{className:"hidden sm:inline",children:"Guest Mode - Read Only"}),E.jsx("span",{className:"sm:hidden",children:"Guest"})]}),E.jsxs("button",{onClick:n,className:"inline-flex items-center px-2 py-1.5 lg:px-4 lg:py-2 border border-transparent text-xs lg:text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[E.jsx("span",{className:"hidden sm:inline",children:"Login to Chat"}),E.jsx("span",{className:"sm:hidden",children:"Login"})]})]})})]})})}),M3=({onLogin:e,onRegister:t,isLoading:r})=>{const[n,i]=oe.useState(!1),[s,o]=oe.useState(""),[a,l]=oe.useState(""),f=()=>{e()},y=p=>{p.preventDefault(),s.trim()&&t(s.trim(),a.trim()||null)};return E.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-8",children:[E.jsxs("div",{children:[E.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-xl bg-gradient-to-r from-blue-500 to-purple-600",children:E.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to Chat Z"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"A decentralized chat platform on the Internet Computer"})]}),n?E.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[E.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[E.jsx("div",{children:E.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),placeholder:"Choose a username",className:"appearance-none rounded-t-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",required:!0})}),E.jsx("div",{children:E.jsx("textarea",{value:a,onChange:p=>l(p.target.value),placeholder:"Tell us about yourself (optional)",rows:"3",className:"appearance-none rounded-b-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm resize-none"})})]}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:r||!s.trim(),className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Registering...":"Complete Registration"})}),E.jsx("div",{className:"text-center",children:E.jsx("button",{type:"button",onClick:()=>i(!1),className:"font-medium text-gray-600 hover:text-gray-500",children:"Back to login"})})]}):E.jsxs("div",{className:"mt-8 space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with Internet Identity to start chatting"}),E.jsx("button",{onClick:f,disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Connecting...":"Login with Internet Identity"})]}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:()=>i(!0),className:"font-medium text-blue-600 hover:text-blue-500",children:"New to Chat Z? Register after login"})})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Features"})})]}),E.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-sm text-gray-600",children:"Real-time messaging"})]}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-sm text-gray-600",children:"Create & join channels"})]}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-sm text-gray-600",children:"Decentralized on IC"})]})]})]})]})})},$3=()=>{const[e,t]=oe.useState(""),[r,n]=oe.useState(!1),[i,s]=oe.useState(!1),[o,a]=oe.useState(""),[l,f]=oe.useState(""),{sendMessage:y,sendEncryptedMessage:p,currentChannel:m,createEncryptedChannel:v,joinChannel:N}=Uu(),{isLoading:k,currentUser:O,isAuth:_}=Ui(),x=async F=>{if(F.preventDefault(),e.trim()&&!k)if(m.is_encrypted)try{await p(e,m.id)&&t("")}catch(U){if(console.error("Error sending encrypted message:",U),U.message&&U.message.includes("NotAuthorized")){console.log("Attempting to join encrypted channel first...");try{await N(m.id),await p(e,m.id)&&t("")}catch($){console.error("Failed to join channel and send encrypted message:",$)}}}else r?(await p(e,m.id),t("")):(await y(e),t(""))},S=async F=>{F.preventDefault(),o.trim()&&(await v(o.trim(),l.trim()||null),a(""),f(""),s(!1))},j=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),x(F))};return m?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[!m.is_encrypted&&E.jsxs("label",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",checked:r,onChange:F=>n(F.target.checked),className:"rounded border-gray-300 text-yellow-600 shadow-sm focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50"}),E.jsxs("span",{className:"text-sm text-gray-700 flex items-center",children:[E.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Send as encrypted"]})]}),m.is_encrypted&&E.jsxs("div",{className:"flex items-center space-x-1 text-sm text-yellow-700 bg-yellow-100 px-2 py-1 rounded",children:[E.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsx("span",{children:"Encrypted Channel - All messages encrypted"})]})]}),E.jsx("button",{onClick:()=>s(!0),className:"text-xs px-3 py-1 text-yellow-600 border border-yellow-300 rounded-full hover:bg-yellow-50 transition-colors",children:"+ Encrypted Channel"})]}),i&&E.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:E.jsxs("form",{onSubmit:S,className:"space-y-2",children:[E.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Create Encrypted Channel"}),E.jsx("input",{type:"text",value:o,onChange:F=>a(F.target.value),placeholder:"Encrypted channel name",className:"w-full px-3 py-2 text-sm border border-yellow-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",required:!0}),E.jsx("textarea",{value:l,onChange:F=>f(F.target.value),placeholder:"Channel description (optional)",rows:"2",className:"w-full px-3 py-2 text-sm border border-yellow-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 resize-none"}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 rounded-md",children:"🔒 Create Encrypted"}),E.jsx("button",{type:"button",onClick:()=>{s(!1),a(""),f("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 rounded-md",children:"Cancel"})]})]})}),O?E.jsx("div",{className:"flex items-end space-x-4",children:E.jsxs("form",{onSubmit:x,className:"flex-1 flex items-end space-x-2",children:[E.jsx("div",{className:"flex-1 min-w-0",children:E.jsx("textarea",{value:e,onChange:F=>t(F.target.value),onKeyPress:j,placeholder:`${r||m.is_encrypted?"🔒 Encrypted message":"Message"} #${m.name}...`,rows:"1",className:`w-full resize-none border rounded-lg px-4 py-2 focus:ring-2 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${r||m.is_encrypted?"border-yellow-300 focus:ring-yellow-500 bg-yellow-50":"border-gray-300 focus:ring-blue-500"}`,disabled:k,style:{minHeight:"40px",maxHeight:"120px"},onInput:F=>{F.target.style.height="auto",F.target.style.height=Math.min(F.target.scrollHeight,120)+"px"}})}),E.jsxs("button",{type:"submit",disabled:!e.trim()||k,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${r||m.is_encrypted?"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:[k?E.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):E.jsxs(E.Fragment,{children:[(r||m.is_encrypted)&&E.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]}),r||m.is_encrypted?"Send Encrypted":"Send"]})]})}):E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:E.jsx("div",{className:"flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("svg",{className:"h-8 w-8 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Join the Conversation!"}),E.jsx("p",{className:"text-sm text-blue-700",children:"You're viewing Chat Z as a guest. Login to send messages and participate in encrypted channels."})]})]})})})]}):null},z3=({channels:e,currentChannel:t,onChannelSelect:r,onCreateChannel:n,onJoinChannel:i})=>{const[s,o]=oe.useState(!1),[a,l]=oe.useState(""),[f,y]=oe.useState(""),[p,m]=oe.useState(null),{currentUser:v}=Ui(),N=_=>{_.preventDefault(),a.trim()&&(n(a.trim(),f.trim()||null),l(""),y(""),o(!1))},k=_=>new Date(Number(_)/1e6).toLocaleDateString(),O=_=>v&&_.members.some(x=>x.toText()===v.user_principal.toText());return E.jsxs("div",{className:"h-full flex flex-col",children:[E.jsx("div",{className:"p-4 border-b border-gray-200",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Channels"}),E.jsx("button",{onClick:()=>o(!s),className:"p-1 text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded",children:E.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),s&&E.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:E.jsxs("form",{onSubmit:N,className:"space-y-3",children:[E.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),placeholder:"Channel name",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),E.jsx("textarea",{value:f,onChange:_=>y(_.target.value),placeholder:"Channel description (optional)",rows:"2",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{type:"submit",className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md",children:"Create"}),E.jsx("button",{type:"button",onClick:()=>{o(!1),l(""),y("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 rounded-md",children:"Cancel"})]})]})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?E.jsxs("div",{className:"p-4 text-center text-gray-500",children:[E.jsx("svg",{className:"h-12 w-12 mx-auto mb-2 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),E.jsx("p",{className:"text-sm",children:"No channels yet"}),E.jsx("p",{className:"text-xs mt-1",children:"Create the first channel!"})]}):E.jsx("div",{className:"space-y-1 p-2",children:e.map(_=>{const x=O(_),S=t&&t.id===_.id;return E.jsx("div",{onClick:()=>r(_),className:`p-3 rounded-lg cursor-pointer transition-colors ${S?"bg-blue-100 border-blue-200":"hover:bg-gray-50"}`,children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center",children:[_.is_encrypted&&E.jsx("svg",{className:`h-4 w-4 mr-1 ${S?"text-blue-600":"text-yellow-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsxs("span",{className:`text-sm font-medium ${S?"text-blue-800":"text-gray-900"}`,children:[_.is_encrypted?"🔒 ":"#",_.name]}),x&&E.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-800 rounded-full",children:"Member"}),_.is_encrypted&&E.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Encrypted"})]}),_.description&&E.jsx("p",{className:`text-xs mt-1 truncate ${S?"text-blue-600":"text-gray-500"}`,children:_.description[0]}),E.jsx("div",{className:"flex items-center justify-between mt-1",children:E.jsxs("div",{className:`text-xs ${S?"text-blue-600":"text-gray-400"}`,children:[_.members.length," members • Created ",k(_.created_at)]})})]}),!x&&E.jsx("button",{onClick:j=>{j.stopPropagation(),i(_.id)},className:`ml-2 px-2 py-1 text-xs rounded transition-colors ${_.is_encrypted?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 border border-yellow-300":"bg-blue-100 text-blue-800 hover:bg-blue-200 border border-blue-300"}`,children:_.is_encrypted?"🔒 Join":"+ Join"})]})},_.id)})})}),E.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:E.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.length," channel",e.length!==1?"s":""," available"]})})]})},V3=({user:e,onClose:t})=>{var v;const[r,n]=oe.useState(!1),[i,s]=oe.useState((e==null?void 0:e.username)||""),[o,a]=oe.useState(((v=e==null?void 0:e.bio)==null?void 0:v[0])||""),{updateUser:l,isLoading:f}=Ui(),y=async()=>{var O;const N={};i!==(e==null?void 0:e.username)&&(N.username=[i]);const k=((O=e==null?void 0:e.bio)==null?void 0:O[0])||"";o!==k&&(N.bio=o?[o]:[]),Object.keys(N).length>0&&await l(N),n(!1)},p=()=>{var N;s((e==null?void 0:e.username)||""),a(((N=e==null?void 0:e.bio)==null?void 0:N[0])||""),n(!1)},m=N=>new Date(Number(N)/1e6).toLocaleDateString();return e?E.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:E.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:E.jsxs("div",{className:"mt-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Profile"}),E.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:E.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-white font-bold text-2xl",children:e.username?e.username[0].toUpperCase():"?"})})}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r?E.jsx("input",{type:"text",value:i,onChange:N=>s(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter username"}):E.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:e.username||"No username"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),r?E.jsx("textarea",{value:o,onChange:N=>a(N.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Tell us about yourself..."}):E.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md min-h-[80px]",children:e.bio&&e.bio[0]?e.bio[0]:"No bio added yet"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Stats"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-gray-500",children:"Messages"}),E.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.message_count.toString()})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),E.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m(e.joined_at)})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Principal ID"}),E.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 px-3 py-2 rounded-md font-mono break-all",children:e.user_principal.toText()})]}),E.jsx("div",{className:"flex space-x-2",children:r?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:y,disabled:f,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md disabled:opacity-50",children:f?"Saving...":"Save Changes"}),E.jsx("button",{onClick:p,disabled:f,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 rounded-md disabled:opacity-50",children:"Cancel"})]}):E.jsx("button",{onClick:()=>n(!0),className:"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md",children:"Edit Profile"})})]})]})})}):null},L3=({encryptedMessage:e,showChannelInfo:t=!1})=>{const{decryptMessage:r,decryptedMessages:n}=Uu(),{currentUser:i}=Ui(),[s,o]=oe.useState(!1),a=m=>new Date(Number(m)/1e6).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=()=>i&&e.author.toText()===i.user_principal.toText(),f=async()=>{o(!0),await r(e.id),o(!1)},y=n[e.id],p=l();return E.jsx("div",{className:`flex ${p?"justify-end":"justify-start"} mb-4`,children:E.jsxs("div",{className:`flex items-start space-x-2 max-w-xs lg:max-w-md ${p?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center ${p?"bg-gradient-to-r from-purple-400 to-pink-500":"bg-gradient-to-r from-yellow-400 to-red-500"}`,children:E.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),E.jsxs("div",{className:`flex flex-col ${p?"items-end":"items-start"}`,children:[E.jsxs("div",{className:`px-3 py-2 rounded-lg border-2 border-dashed ${p?"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-300 text-purple-900":"bg-gradient-to-r from-yellow-50 to-red-50 border-yellow-300 text-yellow-900"}`,children:[E.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[E.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsx("span",{className:"text-xs font-semibold",children:"ENCRYPTED MESSAGE"})]}),y?E.jsxs("div",{children:[E.jsx("p",{className:"text-sm whitespace-pre-wrap break-words font-medium",children:n[e.id]}),E.jsx("div",{className:"mt-2 pt-2 border-t border-current opacity-50",children:E.jsx("p",{className:"text-xs",children:"✓ Decrypted with VetKeys"})})]}):E.jsxs("div",{children:[E.jsxs("p",{className:"text-xs mb-2 font-mono bg-gray-100 px-2 py-1 rounded",children:[e.encrypted_content.substring(0,40),"..."]}),E.jsx("button",{onClick:f,disabled:s,className:`text-xs px-3 py-1 rounded-full border transition-colors ${s?"border-gray-400 text-gray-400 cursor-not-allowed":"border-current hover:bg-current hover:text-white"}`,children:s?E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("span",{children:"Decrypting..."})]}):E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),E.jsx("span",{children:"Decrypt"})]})})]})]}),E.jsxs("div",{className:`flex items-center space-x-1 mt-1 text-xs text-gray-500 ${p?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("span",{children:"🔒 Encrypted"}),E.jsx("span",{children:"•"}),E.jsx("span",{children:a(e.timestamp)}),t&&e.channel_id&&E.jsxs(E.Fragment,{children:[E.jsx("span",{children:"•"}),E.jsxs("span",{children:["Channel #",e.channel_id[0]]})]}),E.jsx("span",{children:"•"}),E.jsxs("span",{children:["ID: ",e.id]})]})]})]})})},H3=()=>{const{messages:e,currentChannel:t,encryptedMessages:r,loadEncryptedMessages:n,decryptAllChannelMessages:i}=Uu(),{currentUser:s}=Ui(),o=oe.useRef(null),a=()=>{var k;(k=o.current)==null||k.scrollIntoView({behavior:"smooth"})};oe.useEffect(()=>{a()},[e,r]);const[l,f]=oe.useState([]);oe.useEffect(()=>{(async()=>{if(t&&t.is_encrypted)if(s)f([]);else try{const _=(await n(t.id)||[]).map(x=>({id:x.id,author:x.author,author_username:"🔒 Encrypted User",content:`🔐 [ENCRYPTED] ${x.encrypted_content.substring(0,40)}...`,timestamp:x.timestamp,reply_to:x.reply_to,message_type:x.message_type,attachments:x.attachments||[],is_ciphertext:!0}));f(_)}catch(O){console.error("Error loading encrypted messages for ciphertext display:",O),f([])}else f([])})()},[t,s]);const y=k=>new Date(Number(k)/1e6).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),p=k=>{const O=new Date(Number(k)/1e6),_=new Date,x=new Date(_);return x.setDate(x.getDate()-1),O.toDateString()===_.toDateString()?"Today":O.toDateString()===x.toDateString()?"Yesterday":O.toLocaleDateString()},m=k=>s&&k.author.toText()===s.user_principal.toText();if(!t)return E.jsx("div",{className:"flex items-center justify-center h-full",children:E.jsxs("div",{className:"text-center",children:[E.jsx("svg",{className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No channel selected"}),E.jsx("p",{className:"text-gray-500",children:"Choose a channel to start chatting"})]})});if(!(e.length>0||t.is_encrypted&&(r.length>0||l.length>0)))return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 bg-white",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[t.is_encrypted&&E.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[t.is_encrypted?"🔒":"#",t.name]}),t.is_encrypted&&E.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Encrypted"})]}),t.description&&E.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description[0]}),E.jsx("div",{className:"flex items-center space-x-4 mt-1",children:E.jsxs("p",{className:"text-xs text-gray-500",children:[t.members.length," member",t.members.length!==1?"s":""]})})]}),t.is_encrypted&&E.jsx("div",{className:"flex space-x-2",children:E.jsx("button",{onClick:()=>n(t.id),className:"px-3 py-1 text-xs text-yellow-600 border border-yellow-300 rounded hover:bg-yellow-50 transition-colors",children:"🔄 Refresh Encrypted"})})]}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("svg",{className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 10v-1a6 6 0 112 0v1m2 6V9a6 6 0 10-12 0v1m12 0a1 1 0 01-1 1H6a1 1 0 01-1-1V9a1 1 0 011-1h12a1 1 0 011 1z"})}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),E.jsxs("p",{className:"text-gray-500",children:[t.is_encrypted?"Send an encrypted message to":"Start the conversation in"," #",t.name]})]})})]});const N={};return e.forEach(k=>{const O=p(k.timestamp);N[O]||(N[O]=[]),N[O].push(k)}),E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 bg-white",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[t.is_encrypted&&E.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[t.is_encrypted?"🔒":"#",t.name]}),t.is_encrypted&&E.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Encrypted"})]}),t.description&&E.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description[0]}),E.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[E.jsxs("p",{className:"text-xs text-gray-500",children:[t.members.length," member",t.members.length!==1?"s":""]}),t.is_encrypted&&r.length>0&&E.jsxs("p",{className:"text-xs text-yellow-600",children:[r.length," encrypted message",r.length!==1?"s":""]})]})]}),t.is_encrypted&&E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>n(t.id),className:"px-3 py-1 text-xs text-yellow-600 border border-yellow-300 rounded hover:bg-yellow-50 transition-colors",children:"🔄 Refresh Encrypted"}),E.jsx("button",{onClick:()=>i(t.id),className:"px-3 py-1 text-xs text-white bg-yellow-600 hover:bg-yellow-700 rounded transition-colors",children:"🔓 Decrypt All"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Object.entries(N).map(([k,O])=>E.jsxs("div",{children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center",children:E.jsx("span",{className:"px-4 bg-gray-100 text-sm text-gray-600 font-medium",children:k})})]}),E.jsx("div",{className:"mt-4 space-y-3",children:O.map(_=>{const x=m(_);return E.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`flex items-start space-x-2 max-w-xs lg:max-w-md ${x?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center ${x?"bg-gradient-to-r from-purple-400 to-blue-500":"bg-gradient-to-r from-green-400 to-blue-500"}`,children:E.jsx("span",{className:"text-white font-medium text-sm",children:_.author_username?_.author_username[0].toUpperCase():"?"})}),E.jsxs("div",{className:`flex flex-col ${x?"items-end":"items-start"}`,children:[E.jsx("div",{className:`px-3 py-2 rounded-lg ${x?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:E.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:_.content})}),E.jsxs("div",{className:`flex items-center space-x-1 mt-1 text-xs text-gray-500 ${x?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("span",{children:_.author_username}),E.jsx("span",{children:"•"}),E.jsx("span",{children:y(_.timestamp)})]})]})]})},_.id)})})]},k)),!s&&t.is_encrypted&&l.length>0&&E.jsxs("div",{className:"border-t border-yellow-200 pt-4 mt-6",children:[E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),E.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Encrypted Messages (Ciphertext)"}),E.jsxs("span",{className:"text-xs text-yellow-600",children:["(",l.length,")"]})]})}),E.jsx("div",{className:"space-y-3",children:l.map(k=>{const O=m(k);return E.jsx("div",{className:`flex ${O?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`flex items-start space-x-2 max-w-xs lg:max-w-md ${O?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-r from-yellow-400 to-orange-500",children:E.jsx("span",{className:"text-white font-medium text-sm",children:"🔒"})}),E.jsxs("div",{className:`flex flex-col ${O?"items-end":"items-start"}`,children:[E.jsx("div",{className:"px-3 py-2 rounded-lg bg-yellow-50 border border-yellow-300",children:E.jsx("p",{className:"text-sm text-yellow-800 font-mono break-words",children:k.content})}),E.jsxs("div",{className:`flex items-center space-x-1 mt-1 text-xs text-gray-500 ${O?"flex-row-reverse space-x-reverse":""}`,children:[E.jsx("span",{children:k.author_username}),E.jsx("span",{children:"•"}),E.jsx("span",{children:y(k.timestamp)}),E.jsx("span",{className:"text-yellow-600",children:"• Encrypted"})]})]})]})},k.id)})})]}),t.is_encrypted&&r.length>0&&s&&E.jsxs("div",{className:"border-t border-green-200 pt-4 mt-6",children:[E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-12 0c0-3.314 1.344-6.326 3.932-8.327l.093-.071a9.992 9.992 0 0112.053 0l.093.071A6.003 6.003 0 0121 9z"})}),E.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Your Encrypted Messages"}),E.jsxs("span",{className:"text-xs text-green-600",children:["(",r.length,")"]})]})}),E.jsx("div",{className:"space-y-4",children:r.map(k=>E.jsx(L3,{encryptedMessage:k},k.id))})]}),E.jsx("div",{ref:o})]})]})};function q3(){const{isAuth:e,login:t,logout:r,currentUser:n,registerUser:i,messages:s}=Ui(),{channels:o,currentChannel:a,selectChannel:l,createChannel:f,joinChannel:y,refreshData:p}=Uu(),m=$v(),[v,N]=oe.useState(!1),[k,O]=oe.useState(!1),[_,x]=oe.useState(!1);oe.useEffect(()=>{m("/chat")},[m]);const S=()=>{t()},j=()=>{r(),m("/")},F=async(U,$)=>{await i(U,$)&&(typeof p=="function"&&(await p(),setTimeout(()=>{const V=o.find(P=>P.id===1);V&&!a&&l(V)},500)),m("/chat"))};return e&&!n?E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[E.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-8",children:[E.jsxs("div",{children:[E.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-xl bg-gradient-to-r from-blue-500 to-purple-600",children:E.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Complete Your Profile"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"You're logged in! Now create your Chat Z profile."})]}),E.jsxs("form",{className:"mt-8 space-y-6",onSubmit:U=>{U.preventDefault();const $=new FormData(U.target),G=$.get("username"),V=$.get("bio");F(G,V||null)},children:[E.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[E.jsx("div",{children:E.jsx("input",{name:"username",type:"text",required:!0,placeholder:"Choose a username",className:"appearance-none rounded-t-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"})}),E.jsx("div",{children:E.jsx("textarea",{name:"bio",placeholder:"Tell us about yourself (optional)",rows:"3",className:"appearance-none rounded-b-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm resize-none"})})]}),E.jsx("div",{children:E.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Complete Registration"})})]})]})}),E.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map(U=>E.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${U.type==="success"?"bg-green-500 text-white":U.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:U.text},U.id))})]}):E.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[E.jsx(P3,{user:n,onLogout:j,onProfileClick:()=>N(!0),onLogin:()=>O(!0)}),E.jsx("div",{className:"flex-1 flex overflow-hidden",children:E.jsxs(r_,{children:[E.jsx(Of,{path:"/chat",element:E.jsxs("div",{className:"flex flex-1 relative",children:[_&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>x(!1)}),E.jsxs("div",{className:`
                  ${_?"translate-x-0":"-translate-x-full"}
                  lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-30 w-80 lg:w-64 
                  bg-white shadow-lg transition-transform duration-300 ease-in-out
                  flex flex-col
                `,children:[E.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 border-b",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Channels"}),E.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:E.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx(z3,{channels:o,currentChannel:a,onChannelSelect:U=>{l(U),x(!1)},onCreateChannel:f,onJoinChannel:y})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[E.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 bg-white border-b",children:[E.jsx("button",{onClick:()=>x(!0),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:E.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),E.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:a?`${a.is_encrypted?"🔒":"#"}${a.name}`:"Chat Z"}),E.jsx("div",{className:"w-10"})," "]}),a?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex-1 overflow-y-auto",children:E.jsx(H3,{})}),E.jsx("div",{className:"border-t bg-white",children:E.jsx($3,{})})]}):E.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:E.jsxs("div",{className:"text-center max-w-sm",children:[E.jsx("div",{className:"mb-4",children:E.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),E.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-600 mb-2",children:"Welcome to Chat Z!"}),E.jsxs("p",{className:"text-gray-500 mb-4",children:[E.jsx("span",{className:"lg:hidden",children:"Tap the menu to select a channel and start chatting"}),E.jsx("span",{className:"hidden lg:inline",children:"Select a channel to start chatting"})]}),E.jsxs("button",{onClick:()=>x(!0),className:"lg:hidden inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[E.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Browse Channels"]})]})})]})]})}),E.jsx(Of,{path:"/*",element:E.jsx("div",{children:"Redirecting to chat..."})})]})}),v&&E.jsx(V3,{user:n,onClose:()=>N(!1)}),k&&E.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:E.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Login to Chat Z"}),E.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx(M3,{onLogin:()=>{S(),O(!1)},onRegister:(U,$)=>{F(U,$),O(!1)},isLoading:!1,isModal:!0})]})})}),E.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:s.map(U=>E.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${U.type==="success"?"bg-green-500 text-white":U.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:U.text},U.id))})]})}qy(document.getElementById("root")).render(E.jsx(oe.StrictMode,{children:E.jsx(s_,{children:E.jsx(F3,{children:E.jsx(j3,{children:E.jsx(q3,{})})})})}));
